/*! For license information please see backend.js.LICENSE.txt */
(()=>{var t={99:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(655),a=n(589),s=n(909),u=n(594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Yd("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",(function(){return u}),"PUBLIC"));try{for(var c=(0,o.XA)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete;var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new s.wA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!(0,a.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&(0,a.ZB)(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var p=(0,o.XA)(Object.keys(e)),v=p.next();!v.done;v=p.next()){var m=v.value;e[m]._addComponent(s)}}catch(t){u={error:t}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",e),t.registerVersion("fire-js","")}(w);const _=w},909:(t,e,n)=>{"use strict";n.d(e,{H0:()=>u,wA:()=>o,zt:()=>s});var r=n(655),i=n(589),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(t){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService(l);c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.fl)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},446:(t,e,n)=>{"use strict";var r=n(99),i=n(655),o=n(589),a=n(594),s=n(909);t=n.hmd(t);var u,c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.Pz)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.cI)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.r3)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(t){}return new l},f=h("localStorage"),p=h("sessionStorage"),d=new a.Yd("@firebase/database"),v=(u=1,function(){return u++}),m=function(t){var e=(0,o.dS)(t),n=new o.gQ;n.update(e);var r=n.digest();return o.US.encodeByteArray(r)},g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=g.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},y=null,b=!0,w=function(t,e){(0,o.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=a.in.VERBOSE,y=d.log.bind(d),e&&p.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,p.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===y&&!0===p.get("logging_enabled")&&w(!0)),y){var n=g.apply(null,t);y(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,(0,i.fl)([t],e))}},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,(0,i.fl)(t));d.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,(0,i.fl)(t));throw d.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,(0,i.fl)(t));d.warn(n)},C=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",N="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===k||e===N)return-1;if(e===k||t===N)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},O=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.Pz)(e))},x=function(t){if("object"!=typeof t||null===t)return(0,o.Pz)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(e[i]),r+=":",r+=x(t[e[i]]);return r+="}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function D(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L=function(t){(0,o.hu)(!C(t),"Invalid JSON number");var e,n,r,i,a,s=1023;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),s))+s,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(e?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(M.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},j=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t}),Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),q=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=(0,o.ug)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=(0,o.ug)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),B="5",z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H="websocket",G="long_polling",W=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof e,"typeof params must == object"),t===H)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==G)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return D(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();var K,J,Q,Y,X,$=function(t,e){var n=Z(t),r=n.namespace;"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new W(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new V(n.pathString)}},Z=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=(0,i.XA)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var d=e.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},tt=/[\[\].#$\/\u0000-\u001F\u007F]/,et=/[\[\].#$\u0000-\u001F\u007F]/,nt=10485760,rt=function(t){return"string"==typeof t&&0!==t.length&&!tt.test(t)},it=function(t){return"string"==typeof t&&0!==t.length&&!et.test(t)},ot=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!C(t)||t&&"object"==typeof t&&(0,o.r3)(t,".sv")},at=function(t,e,n,r,i){i&&void 0===n||st((0,o.gK)(t,e,i),n,r)},st=function(t,e,n){var r=n instanceof V?new q(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(C(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>nt/3&&(0,o.ug)(e)>nt)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,a=!1;if(D(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!rt(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),st(t,n,r),r.pop()})),i&&a)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ut=function(t,e,n,r,i){if(!i||void 0!==n){var a=(0,o.gK)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];D(n,(function(t,e){var n=new V(t);if(st(a,e,r.child(n)),".priority"===n.getBack()&&!ot(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!rt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(V.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},ct=function(t,e,n,r){if(!r||void 0!==n){if(C(n))throw new Error((0,o.gK)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ot(n))throw new Error((0,o.gK)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ht=function(t,e,n,r){if(!(r&&void 0===n||rt(n)))throw new Error((0,o.gK)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ft=function(t,e,n,r){if(!(r&&void 0===n||it(n)))throw new Error((0,o.gK)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ft(t,e,n,r)},dt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!rt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),it(t)}(r))throw new Error((0,o.gK)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},mt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(t,e,r)+"must be a boolean.")},gt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel",1,t,!0);var e=new o.BH;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),dt("OnDisconnect.remove",this.path_),(0,o.Wj)("OnDisconnect.remove",1,t,!0);var e=new o.BH;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),dt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),(0,o.Wj)("OnDisconnect.set",2,e,!0);var n=new o.BH;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),dt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),ct("OnDisconnect.setWithPriority",2,e,!1),(0,o.Wj)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.BH;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),dt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("OnDisconnect.update",1,t,this.path_,!1),(0,o.Wj)("OnDisconnect.update",2,e,!0);var i=new o.BH;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),yt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bt=(K="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",J=0,Q=[],function(t){var e,n=t===J;J=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=K.charAt(t%64),t=Math.floor(t/64);(0,o.hu)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===Q[e];e--)Q[e]=0;Q[e]++}else for(e=0;e<12;e++)Q[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=K.charAt(Q[e]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),wt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),_t=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new wt(k,t),r=new wt(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return wt.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Y},set:function(t){Y=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(N,Y)},e.prototype.makePost=function(t,e){return(0,o.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new wt(t,Y)},e.prototype.toString=function(){return".key"},e}(_t),Tt=new Et;var It,St,Ct,kt=function(t){return"number"==typeof t?"number:"+L(t):"string:"+t},Nt=function(t){if(t.isLeafNode()){var e=t.val();(0,o.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.r3)(e,".sv"),"Priority must be a string or number.")}else(0,o.hu)(t===X||t.isEmpty(),"priority of unexpected type.");(0,o.hu)(t===X||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},At=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Nt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return It},set:function(t){It=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+kt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?L(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Ot,Pt,xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(N,new At("[PRIORITY-POST]",Ct))},e.prototype.makePost=function(t,e){var n=St(t);return new wt(e,new At("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(_t),Rt=new xt,Dt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Lt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ft.EMPTY_NODE,this.right=null!=o?o:Ft.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ft.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ft.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Mt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Lt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ft=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Mt,t}(),jt=Math.log(2),Ut=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/jt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Vt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Lt(a,o.node,Lt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new Lt(a,o.node,Lt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Lt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Lt.BLACK):(s(h,Lt.BLACK),s(h,Lt.RED))}return o}(new Ut(t.length));return new Ft(r||e,o)},qt={},Bt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.hu)(qt&&Rt,"ChildrenNode.ts has not been loaded"),Ot=Ot||new t({".priority":qt},{".priority":Rt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ft?e:null},t.prototype.hasIndex=function(t){return(0,o.r3)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.hu)(e!==Tt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(wt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Vt(a,e.getCompare()):qt;var l=e.toString(),h=(0,i.pi)({},this.indexSet_);h[l]=e;var f=(0,i.pi)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.UI)(this.indexes_,(function(t,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),t===qt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(wt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Vt(s,a.getCompare())}return qt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new wt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.UI)(this.indexes_,(function(t){if(t===qt)return t;var r=n.get(e.name);return r?t.remove(new wt(e.name,r)):t})),this.indexSet_)},t}();function zt(t,e){return A(t.name,e.name)}function Ht(t,e){return A(t,e)}var Gt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Nt(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Pt||(Pt=new t(new Ft(Ht),null,Bt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Pt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Pt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new wt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Pt:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;(0,o.hu)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Rt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+kt(this.getPriority().val())+":"),this.forEachChild(Rt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new wt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,wt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,wt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wt?-1:0},t.prototype.withIndex=function(e){if(e===Tt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Tt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Rt),r=e.getIterator(Rt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Tt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Wt=new(function(t){function e(){return t.call(this,new Ft(Ht),Gt.EMPTY_NODE,Bt.Default)||this}return(0,i.ZT)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Gt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Gt));Object.defineProperties(wt,{MIN:{value:new wt(k,Gt.EMPTY_NODE)},MAX:{value:new wt(N,Wt)}}),Et.__EMPTY_NODE=Gt.EMPTY_NODE,At.__childrenNodeConstructor=Gt,X=Wt,function(t){Ct=t}(Wt);function Kt(t,e){if(void 0===e&&(e=null),null===t)return Gt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new At(t,Kt(e));if(t instanceof Array){var n=Gt.EMPTY_NODE;return D(t,(function(e,r){if((0,o.r3)(t,e)&&"."!==e.substring(0,1)){var i=Kt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Kt(e))}var r=[],i=!1;if(D(t,(function(t,e){if("."!==t.substring(0,1)){var n=Kt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new wt(t,n)))}})),0===r.length)return Gt.EMPTY_NODE;var a=Vt(r,zt,(function(t){return t.name}),Ht);if(i){var s=Vt(r,Rt.getCompare());return new Gt(a,Kt(e),new Bt({".priority":s},{".priority":Rt}))}return new Gt(a,Kt(e),Bt.Default)}!function(t){St=t}(Kt);var Jt,Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return wt.MAX},e.prototype.makePost=function(t,e){var n=Kt(t);return new wt(e,n)},e.prototype.toString=function(){return".value"},e}(_t),Yt=new Qt,Xt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.hu)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return(0,i.ZT)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Kt(t),r=Gt.EMPTY_NODE.updateChild(this.indexPath_,n);return new wt(e,r)},e.prototype.maxPost=function(){var t=Gt.EMPTY_NODE.updateChild(this.indexPath_,Wt);return new wt(N,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(_t),$t=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),ft("DataSnapshot.child",1,e,!1);var n=new V(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Rt)},t.prototype.hasChild=function(t){(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ft("DataSnapshot.hasChild",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if((0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Rt))}))},t.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Zt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},t}(),te=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ee=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Zt("value",this,new $t(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new te(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ne=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,(0,o.r3)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new te(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.hu)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Zt(t.type,this,new $t(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),re=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,o.hu)(Jt,"Reference.ts has not been loaded"),Jt},set:function(t){Jt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Tt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==N)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Rt){if(null!=e&&!ot(e)||null!=n&&!ot(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(t.getIndex()instanceof Xt||t.getIndex()===Yt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return(0,o.Dv)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){(0,o.Dv)("Query.on",2,4,arguments.length),lt("Query.on",1,e,!1),(0,o.Wj)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new ee(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ne(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){(0,o.Dv)("Query.off",0,3,arguments.length),lt("Query.off",1,t,!0),(0,o.Wj)("Query.off",2,e,!0),(0,o.lb)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new ee(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new ne(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),lt("Query.once",1,e,!1),(0,o.Wj)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.BH;c.promise.catch((function(){}));var l=function(t){u&&(u=!1,a.off(e,l),n&&n.bind(s.context)(t),c.resolve(t))};return this.on(e,l,(function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if((0,o.Dv)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if((0,o.Dv)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if((0,o.Dv)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ft("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Xt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){(0,o.Dv)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Tt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Rt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){(0,o.Dv)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Yt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),ht("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),ht("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if((0,o.Dv)("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),ht("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=x(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,(0,o.Wj)(t,3,r.cancel,!0),r.context=n,(0,o.lb)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.gK)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ie=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),oe=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ae=function(t,e,n){return t&&"object"==typeof t?((0,o.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?se(t[".sv"],e,n):"object"==typeof t[".sv"]?ue(t[".sv"],e):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},se=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,o.hu)(!1,"Unexpected server value: "+t)},ue=function(t,e,n){t.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},ce=function(t,e,n,r){return he(e,new oe(n,t),r)},le=function(t,e,n){return he(t,new ie(e),n)};function he(t,e,n){var r,i=t.getPriority().val(),o=ae(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=ae(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new At(s,Kt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new At(o))),u.forEachChild(Rt,(function(t,i){var o=he(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var fe,pe=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Rt,(function(t,e){n.remember(new V(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new V(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(fe||(fe={}));var de,ve,me=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,(0,o.hu)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ge=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=fe.ACK_USER_WRITE,this.source=me.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(e));return new t(V.Empty,n,this.revert)}return(0,o.hu)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ye=function(){function t(t,e){void 0===e&&(de||(de=new Ft(O)),e=de),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return D(e,(function(t,e){n=n.set(new V(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new V(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),be=function(){function t(t,e){this.source=t,this.path=e,this.type=fe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),we=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=fe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),_e=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=fe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new we(this.source,V.Empty,n.value):new t(this.source,V.Empty,n)}return(0,o.hu)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ee=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Te=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ee(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ee(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Ee(Gt.EMPTY_NODE,!1,!1),new Ee(Gt.EMPTY_NODE,!1,!1)),t}(),Ie=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Se=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){(0,o.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(Ie.childRemovedChange(e,s)):(0,o.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(Ie.childAddedChange(e,n)):a.trackChildChange(Ie.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Rt,(function(t,r){e.hasChild(t)||n.trackChildChange(Ie.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Rt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ie.childChangedChange(e,r,i))}else n.trackChildChange(Ie.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Gt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ce=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.hu)(e===Ie.CHILD_ADDED||e===Ie.CHILD_CHANGED||e===Ie.CHILD_REMOVED,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Ie.CHILD_ADDED&&i===Ie.CHILD_REMOVED)this.changeMap.set(n,Ie.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Ie.CHILD_REMOVED&&i===Ie.CHILD_ADDED)this.changeMap.delete(n);else if(e===Ie.CHILD_REMOVED&&i===Ie.CHILD_CHANGED)this.changeMap.set(n,Ie.childRemovedChange(n,r.oldSnap));else if(e===Ie.CHILD_CHANGED&&i===Ie.CHILD_ADDED)this.changeMap.set(n,Ie.childAddedChange(n,t.snapshotNode));else{if(e!==Ie.CHILD_CHANGED||i!==Ie.CHILD_CHANGED)throw(0,o.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Ie.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),ke=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ne=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ee(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ae=function(t,e){this.viewCache=t,this.changes=e},Oe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){(0,o.hu)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),(0,o.hu)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new Ce;if(n.type===fe.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===fe.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===fe.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==fe.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new Ae(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ie.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if((0,o.hu)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=c instanceof Gt?c:Gt.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var p=e.getFront();if(".priority"===p){(0,o.hu)(1===e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=v?this.filter_.updatePriority(d,v):a.getNode()}else{var m=e.popFront(),g=void 0;if(a.isCompleteForChild(p)){u=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);g=null!=y?a.getNode().getImmediateChild(p).updateChild(m,y):a.getNode().getImmediateChild(p)}else g=n.calcCompleteChild(p,t.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),p,g,m,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,ke,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new Ne(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Ne(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Gt.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:ye.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new V(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new V(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ye.Empty;return s.getNode().forEachChild(Tt,(function(t,e){u=u.set(new V(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=ye.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ke,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new Ne(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();(0,o.hu)(h instanceof Gt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Gt.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V.Empty),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),Pe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Ie.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ie.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Ie.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Ie.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Ie.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Ie.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Ie.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw(0,o.g5)("Should only compare child_ events.");var n=new wt(t.childName,t.snapshotNode),r=new wt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),xe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Se(n.getIndex()),i=n.getNodeFilter();this.processor_=new Oe(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Gt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Gt.EMPTY_NODE,a.getNode(),null),c=new Ee(s,o.isFullyInitialized(),r.filtersNodes()),l=new Ee(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Te(l,c),this.eventGenerator_=new Pe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===fe.MERGE&&null!==t.source.queryId&&((0,o.hu)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),(0,o.hu)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),(0,o.hu)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Rt,(function(t,e){n.push(Ie.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(Ie.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Re=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return(0,o.hu)(ve,"Reference.ts has not been loaded"),ve},set:function(t){(0,o.hu)(!ve,"__referenceConstructor has already been defined"),ve=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return(0,o.hu)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=(0,i.XA)(this.views.values()),h=l.next();!h.done;h=l.next()){u=h.value;c=c.concat(u.applyOperation(t,e,n))}}catch(t){r={error:t}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Gt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Gt.EMPTY_NODE,u=!1);var c=new Te(new Ee(s,u,!1),new Ee(r,i,!1));a=new xe(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=(0,i.XA)(this.views.entries()),f=h.next();!f.done;f=h.next()){var p=(0,i.CR)(f.value,2),d=p[0],v=p[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(v=this.views.get(s))&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=(0,i.XA)(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=(0,i.XA)(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r||s.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=(0,i.XA)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),De=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ye(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=V.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new ye(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return D(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ye.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Rt,(function(e,n){t.push(new wt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new wt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ye(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Le(V.Empty,this.writeTree_,t)},t.Empty=new t(new ye(null)),t}();function Le(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Le(t.child(e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}var Me=function(){function t(){this.visibleWrites_=De.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Fe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){(0,o.hu)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){(0,o.hu)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}if(i){if(a)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):D(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(V.Empty)){var a=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);c=n||Gt.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(V.Empty)){var c=n||Gt.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Gt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Rt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Rt,(function(t,e){var r=i.childCompoundWrite(new V(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){(0,o.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(V.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=De.Empty,i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=V.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=V.relativePath(s,n),r=r.addWrite(V.Empty,a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(n.contains(s))u=V.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=V.relativePath(s,n)).isEmpty())r=r.addWrites(V.Empty,a.children);else{var c=(0,o.DV)(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(V.Empty,l)}}}}}return r},t}(),Fe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),je=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ye.Empty,this.pendingWriteTree_=new Me,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new we(me.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ye.fromObject(e);return this.applyOperationToSyncPoints_(new _e(me.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ye.Empty;return null!=n.snap?r=r.set(V.Empty,!0):D(n.children,(function(t,e){r=r.set(new V(t),e)})),this.applyOperationToSyncPoints_(new ge(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new we(me.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ye.fromObject(e);return this.applyOperationToSyncPoints_(new _e(me.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new be(me.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=V.relativePath(a,e),c=new we(me.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=V.relativePath(a,e),c=ye.fromObject(n),l=new _e(me.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=V.relativePath(o,e),u=new be(me.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=V.relativePath(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);(u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(V.Empty)):(u=new Re,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=Gt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(V.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);(0,o.hu)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,f,i,s);if(!c&&!a){var d=u.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],m=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=V.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),D(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)(0,o.hu)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),D(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Gt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return(0,o.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);(0,o.hu)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(V.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(V.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(V.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(V.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ue=function(){function t(){this.rootNode_=Gt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ve=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.p$)(this.counters_)},t}(),qe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ve),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Be=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,i.pi)({},t);return this.last_&&D(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),ze=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Be(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;D(e,(function(e,i){i>0&&(0,o.r3)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),He=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ge(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ge=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();y&&_("event: "+e.toString()),j(n)}}},t.prototype.getPath=function(){return this.path_},t}(),We=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,i.fl)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.hu)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Ke=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return(0,i.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(We),Je=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,i.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(We),Qe=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&j((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Ye="start",Xe="close",$e=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=qe.getCollection(e),this.urlFn=function(t){return e.connectionURL(G,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Qe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if((0,o.Yr)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ze((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,i.CR)(t,5),o=r[0],a=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Ye)n.id=a,n.password=s;else{if(o!==Xe)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,i.CR)(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=B,n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(0,o.Yr)()&&(!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.h$)(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ze=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){_("frame writing exception"),t.stack&&_(t.stack),_(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;(0,o.Yr)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),tn="";function en(t){tn=t}var nn=null;"undefined"!=typeof MozWebSocket?nn=MozWebSocket:"undefined"!=typeof WebSocket&&(nn=WebSocket);var rn=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=qe.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={};return r.v=B,!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(H,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+tn+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new nn(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new nn(this.connURL,[],i)}}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==nn&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.cI)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),on=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[$e,rn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=rn&&rn.isAvailable(),a=o&&!rn.previouslyFailed();if(e.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[rn];else{var s=this.transports_=[];try{for(var u=(0,i.XA)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),an=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new on(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?T("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),B!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),sn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),un=1e3,cn=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=un,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ke.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Je.getInstance().on("online",l.onOnline_,l),l}return(0,i.ZT)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.BH,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.r3)(t,"w")){var n=(0,o.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.Pz)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):T("Unrecognized action received from server: "+(0,o.Pz)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=un),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new an(a,s.repoInfo_,s.applicationId_,n,r,i,(function(t){S(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&S(e),h())}))}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return x(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_&&this.securityDebugCallback_(t)},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=(0,i.XA)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+tn.replace(/\./g,"-")]=1,(0,o.uI)()?t["framework.cordova"]=1:(0,o.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Je.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(sn),ln=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return(0,i.ZT)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.hu)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.xO)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=(0,o.cI)(u.responseText)}catch(t){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(sn),hn="repo_interrupt",fn=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new He,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new pe,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=qe.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new ln(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(e)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new cn(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=qe.getOrCreateReporter(this.repoInfo_,(function(){return new ze(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Ue,this.infoSyncTree_=new je({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new je({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=(0,o.UI)(e,(function(t){return Kt(t)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=Kt(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=(0,o.UI)(e,(function(t){return Kt(t)}));a=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Kt(e);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;D(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new V("/.info/"+t),r=Kt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=Kt(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new $t(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+(0,o.Pz)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new $t(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Kt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=le(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||S("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(D(e,(function(e,n){i=!1,a[e]=ce(t.child(e),Kt(n),r.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||S("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),D(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new pe;this.onDisconnect_.forEachTree(V.Empty,(function(r,i){var o=ce(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(V.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new pe,this.eventQueue_.raiseEventsForChangedPath(V.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Kt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Kt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if((0,o.xb)(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&D(e,(function(e,n){var i=Kt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(hn)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(hn)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Be(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);D(e,(function(t,e){for(var r=t.length;r<n+2;r++)" "}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,(0,i.fl)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&j((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new In(this))},enumerable:!1,configurable:!0}),t}(),pn=function(){function t(e){this.indexedFilter_=new Se(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new wt(e,n))||(n=Gt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Gt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Gt.EMPTY_NODE);var i=this;return e.forEachChild(Rt,(function(t,e){i.matches(new wt(t,e))||(r=r.updateImmediateChild(t,Gt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),dn=function(){function t(t){this.rangedFilter_=new pn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new wt(e,n))||(n=Gt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Gt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Gt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new wt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,c);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ie.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ie.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Gt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(Ie.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Ie.childRemovedChange(l.name,l.node)),i.trackChildChange(Ie.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Gt.EMPTY_NODE)):t},t}(),vn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Rt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Rt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Se(this.getIndex()):this.hasLimit()?new dn(this):new pn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Rt?e=n.PRIORITY_INDEX:this.index_===Yt?e=n.VALUE_INDEX:this.index_===Tt?e=n.KEY_INDEX:((0,o.hu)(this.index_ instanceof Xt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=(0,o.Pz)(e),this.startSet_&&(r[n.START_AT]=(0,o.Pz)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+(0,o.Pz)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=(0,o.Pz)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+(0,o.Pz)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),mn=function(t){function e(e,n){if(!(e instanceof fn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,vn.DEFAULT,!1)||this}return(0,i.ZT)(e,t),e.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?pt("Reference.child",1,t,!1):ft("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){(0,o.Dv)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){(0,o.Dv)("Reference.set",1,2,arguments.length),dt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),(0,o.Wj)("Reference.set",2,e,!0);var n=new o.BH;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if((0,o.Dv)("Reference.update",1,2,arguments.length),dt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ut("Reference.update",1,t,this.path,!1),(0,o.Wj)("Reference.update",2,e,!0);var i=new o.BH;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if((0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),dt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),ct("Reference.setWithPriority",2,e,!1),(0,o.Wj)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.BH;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return(0,o.Dv)("Reference.remove",0,1,arguments.length),dt("Reference.remove",this.path),(0,o.Wj)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if((0,o.Dv)("Reference.transaction",1,3,arguments.length),dt("Reference.transaction",this.path),(0,o.Wj)("Reference.transaction",1,t,!1),(0,o.Wj)("Reference.transaction",2,e,!0),mt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.BH;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new yt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),dt("Reference.setPriority",this.path),ct("Reference.setPriority",1,t,!1),(0,o.Wj)("Reference.setPriority",2,e,!0);var n=new o.BH;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){(0,o.Dv)("Reference.push",0,2,arguments.length),dt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),(0,o.Wj)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=bt(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),a},e.prototype.onDisconnect=function(){return dt("Reference.onDisconnect",this.path),new gt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(re);re.__referenceConstructor=mn,Re.__referenceConstructor=mn;var gn,yn=function(){this.children={},this.childCount=0,this.value=null},bn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new yn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof V?e:new V(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,(0,o.DV)(r.node_.children,i)||new yn),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){(0,o.hu)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;D(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=(0,o.r3)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(gn||(gn={})),fn.MAX_TRANSACTION_RETRIES_=25,fn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new bn},fn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new mn(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new $t(s.currentInputSnapshot,new mn(this,s.path),Rt);s.onComplete(null,!1,l)}}else{st("transaction failed: Data returned ",c,s.path),s.status=gn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var p=void 0;if("object"==typeof c&&null!==c&&(0,o.r3)(c,".priority"))p=(0,o.DV)(c,".priority"),(0,o.hu)(ot(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(t)||Gt.EMPTY_NODE).getPriority().val();var d=this.generateServerValues(),m=Kt(c,p),g=le(m,u,d);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},fn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Gt.EMPTY_NODE},fn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===gn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},fn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];(0,o.hu)(c.status===gn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=gn.SENT,c.retryCount++;var l=V.relativePath(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=gn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new mn(n,e[a].path),c=new $t(s,u,Rt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)j(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===gn.SENT_NEEDS_ABORT?e[a].status=gn.NEEDS_ABORT:e[a].status=gn.RUN;else{S("transaction at "+f.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=gn.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}}),s)},fn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},fn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],a=t.filter((function(t){return t.status===gn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=V.relativePath(e,u.path),l=!1,h=void 0;if((0,o.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===gn.NEEDS_ABORT)l=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===gn.RUN)if(u.retryCount>=fn.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,a);u.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){st("transaction failed: Data returned ",p,u.path);var d=Kt(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(d=d.updatePriority(f.getPriority()));var v=u.currentWriteId,m=this.generateServerValues(),g=le(d,f,m);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=g,u.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,g,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=gn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===h){var y=new mn(this,t[s].path),b=t[s].currentInputSnapshot,w=new $t(b,y,Rt);r.push(t[s].onComplete.bind(null,null,!1,w))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)j(r[s]);this.sendReadyTransactions_()}},fn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},fn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},fn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},fn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==gn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},fn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},fn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)if(e[a].status===gn.SENT_NEEDS_ABORT);else if(e[a].status===gn.SENT)(0,o.hu)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=gn.SENT_NEEDS_ABORT,e[a].abortReason="set";else if((0,o.hu)(e[a].status===gn.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete){n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(a=0;a<n.length;a++)j(n[a])}};var wn,_n=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(t)},t}(),En=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Tn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return wn||(wn=new t),wn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=(0,i.XA)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].interrupt()}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=(0,i.XA)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,i.XA)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].resume()}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new W(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new En)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=$(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+s.namespace,s=(a=$(i,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new En:new _n(t,e);return vt("Invalid Firebase Database URL",1,a),a.path.isEmpty()||I("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,c).database},t.prototype.deleteRepo=function(t){var e=(0,o.DV)(this.repos_,t.app.name);e&&(0,o.DV)(e,t.key)===t||I("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=(0,o.DV)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=(0,o.DV)(r,t.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new fn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),In=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return this.checkDeleted_("delete"),Tn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof fn||I("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new mn(this.repo_,V.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?I("Cannot call useEmulator() after instance has already been initialized."):Tn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),(0,o.Dv)("database.ref",0,1,arguments.length),t instanceof mn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),(0,o.Dv)(e,1,1,arguments.length);var n=$(t,this.repo_.repoInfo_.nodeAdmin);vt(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||I(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&I("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){(0,o.Dv)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){(0,o.Dv)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}();var Sn=Object.freeze({__proto__:null,forceLongPolling:function(){rn.forceDisallow(),$e.forceAllow()},forceWebSockets:function(){$e.forceDisallow()},isWebSocketsAvailable:function(){return rn.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=void 0!==a&&a;en(r);var c=new s.zt("auth-internal",new s.H0("database-standalone"));return c.setComponent(new s.wA("auth-internal",(function(){return i}),"PRIVATE")),{instance:Tn.getInstance().databaseFromApp(e,c,n,u),namespace:o}}}),Cn=cn;cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var kn=an,Nn=W,An=Object.freeze({__proto__:null,DataConnection:Cn,RealTimeConnection:kn,hijackHash:function(t){var e=cn.prototype.put;return cn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){cn.prototype.put=e}},ConnectionTarget:Nn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Tn.getInstance().forceRestClient(t)}}),On=In.ServerValue;!function(e){en(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new s.wA("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return Tn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:mn,Query:re,Database:In,DataSnapshot:$t,enableLogging:w,INTERNAL:Sn,ServerValue:On,TEST_ACCESS:An}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.8.3"),(0,o.Yr)()&&(t.exports=n)}(r.Z)},594:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{Am:()=>p,Ub:()=>f,Yd:()=>h,in:()=>o});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){(new Date).toISOString();var i=c[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},589:(t,e,n)=>{"use strict";n.d(e,{$s:()=>Z,BH:()=>v,DV:()=>U,Dv:()=>K,GJ:()=>F,LL:()=>O,Mn:()=>I,Pz:()=>D,UG:()=>y,UI:()=>q,US:()=>l,Wj:()=>Q,Yr:()=>S,ZB:()=>d,ZR:()=>A,b$:()=>_,cI:()=>R,d:()=>E,dS:()=>X,eu:()=>k,g5:()=>u,gK:()=>J,gQ:()=>z,h$:()=>h,hl:()=>C,hu:()=>s,jU:()=>b,lb:()=>Y,ne:()=>H,p$:()=>p,r3:()=>j,ru:()=>w,uI:()=>g,ug:()=>$,w1:()=>T,w9:()=>M,xO:()=>B,xb:()=>V,z$:()=>m,zI:()=>N});var r=n(655),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(t,e){if(!t)throw u(e)},u=function(t){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+t)},c=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=c(t);return l.encodeByteArray(e,!0)},f=function(t){try{return l.decodeString(t,!0)}catch(t){}return null};function p(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var v=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function w(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){return m().indexOf("Electron/")>=0}function T(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I(){return m().indexOf("MSAppHost/")>=0}function S(){return!0===i||!0===o}function C(){return"indexedDB"in self&&null!=indexedDB}function k(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function N(){return!(!navigator||!navigator.cookieEnabled)}var A=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),O=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?P(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},t}();function P(t,e){return t.replace(x,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;function R(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}var L=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=R(f(o[0])||""),n=R(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},M=function(t){var e=L(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},F=function(t){var e=L(t).claims;return"object"==typeof e&&!0===e.admin};function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function V(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function q(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function B(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var z=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function H(t,e){var n=new G(t,e);return n.subscribe.bind(n)}var G=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function W(){}var K=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function J(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function Q(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(J(t,e,r)+"must be a valid function.")}function Y(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(J(t,e,r)+"must be a valid context object.")}var X=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Z(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},107:(t,e)=>{e.Z={body:'<path fill="currentColor" d="M12 8a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1l-.07 1l2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42h-4m1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04l.75-1.3l-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4h-1.5Z"/>',width:24,height:24}},173:(t,e)=>{e.Z={body:'<path fill="currentColor" d="m20 18.69l-7.3 4.05c-.5.26-1 .26-1.5 0L4 18.69L17.05 5.54l.35-.1c.3 0 .47.13.5.4L20 18.69M9.35 5.74L4.8 13.29L6.7 1.34c.03-.27.2-.4.5-.4c.2 0 .33.06.4.25l2.15 3.95l-.4.6M13.85 7L4.3 16.59l7.25-12.3c.1-.2.25-.29.45-.29s.33.09.4.29L13.85 7Z"/>',width:24,height:24}},809:(t,e)=>{e.Z={body:'<path fill="currentColor" d="M13 9h-2V7h2m0 10h-2v-6h2m-1-9A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/>',width:24,height:24}},406:(t,e)=>{e.Z={body:'<path fill="currentColor" d="M12 17a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z"/>',width:24,height:24}},963:(t,e)=>{e.Z={body:'<path fill="currentColor" d="M9 3v1H4v2h1v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6h1V4h-5V3H9M7 6h10v13H7V6m2 2v9h2V8H9m4 0v9h2V8h-2Z"/>',width:24,height:24}},676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function m(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=m,Object.defineProperty(t,"__esModule",{value:!0})}(e)},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,u=i(t),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(e){s=e(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(t,e,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(f.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,b);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,b);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,b);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,T=60106,I=60107,S=60108,C=60114,k=60109,N=60110,A=60112,O=60113,P=60120,x=60115,R=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),T=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),C=U("react.profiler"),k=U("react.provider"),N=U("react.context"),A=U("react.forward_ref"),O=U("react.suspense"),P=U("react.suspense_list"),x=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"==typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=q&&t[q]||t["@@iterator"])?t:null}function z(t){if(void 0===V)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var H=!1;function G(t,e){if(!t||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function W(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1);case 11:return t=G(t.type.render,!1);case 22:return t=G(t.type._render,!1);case 1:return t=G(t.type,!0);default:return""}}function K(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case I:return"Fragment";case T:return"Portal";case C:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case x:return K(t.type);case D:return K(t._render);case R:e=t._payload,t=t._init;try{return K(t(e))}catch(t){}}return null}function J(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=Q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function $(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=J(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=J(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,J(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&$(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+J(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:J(n)}}function ct(t,e){var n=J(e.value),r=J(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,mt,gt=(mt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];function _t(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function Et(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_t(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){wt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var Tt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(t,e){if(e){if(Tt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,Nt=null,At=null;function Ot(t){if(t=ri(t)){if("function"!=typeof kt)throw Error(a(280));var e=t.stateNode;e&&(e=oi(e),kt(t.stateNode,t.type,e))}}function Pt(t){Nt?At?At.push(t):At=[t]:Nt=t}function xt(){if(Nt){var t=Nt,e=At;if(At=Nt=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Rt(t,e){return t(e)}function Dt(t,e,n,r,i){return t(e,n,r,i)}function Lt(){}var Mt=Rt,Ft=!1,jt=!1;function Ut(){null===Nt&&null===At||(Lt(),xt())}function Vt(t,e){var n=t.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}var qt=!1;if(h)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(mt){qt=!1}function zt(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Ht=!1,Gt=null,Wt=!1,Kt=null,Jt={onError:function(t){Ht=!0,Gt=t}};function Qt(t,e,n,r,i,o,a,s,u){Ht=!1,Gt=null,zt.apply(Jt,arguments)}function Yt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Xt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function $t(t){if(Yt(t)!==t)throw Error(a(188))}function Zt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Yt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $t(i),t;if(o===r)return $t(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,ce=null,le=new Map,he=new Map,fe=[],pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ri(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=ni(t.target);if(null!==e){var n=Yt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Xt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ri(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){ye(t)&&n.delete(e)}function we(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ri(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&ye(se)&&(se=null),null!==ue&&ye(ue)&&(ue=null),null!==ce&&ye(ce)&&(ce=null),le.forEach(be),he.forEach(be)}function _e(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,we)))}function Ee(t){function e(e){return _e(e,t)}if(0<ae.length){_e(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&_e(se,t),null!==ue&&_e(ue,t),null!==ce&&_e(ce,t),le.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ge(n),null===n.blockedOn&&fe.shift()}function Te(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ie={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionend:Te("Transition","TransitionEnd")},Se={},Ce={};function ke(t){if(Se[t])return Se[t];if(!Ie[t])return t;var e,n=Ie[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Se[t]=n[e];return t}h&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Ie.animationend.animation,delete Ie.animationiteration.animation,delete Ie.animationstart.animation),"TransitionEvent"in window||delete Ie.transitionend.transition);var Ne=ke("animationend"),Ae=ke("animationiteration"),Oe=ke("animationstart"),Pe=ke("transitionend"),xe=new Map,Re=new Map,De=["abort","abort",Ne,"animationEnd",Ae,"animationIteration",Oe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pe,"transitionEnd","waiting","waiting"];function Le(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(r,e),xe.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Me=8;function Fe(t){if(0!=(1&t))return Me=15,1;if(0!=(2&t))return Me=14,2;if(0!=(4&t))return Me=13,4;var e=24&t;return 0!==e?(Me=12,e):0!=(32&t)?(Me=11,32):0!==(e=192&t)?(Me=10,e):0!=(256&t)?(Me=9,256):0!==(e=3584&t)?(Me=8,e):0!=(4096&t)?(Me=7,4096):0!==(e=4186112&t)?(Me=6,e):0!==(e=62914560&t)?(Me=5,e):67108864&t?(Me=4,67108864):0!=(134217728&t)?(Me=3,134217728):0!==(e=805306368&t)?(Me=2,e):0!=(1073741824&t)?(Me=1,1073741824):(Me=8,t)}function je(t,e){var n=t.pendingLanes;if(0===n)return Me=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Me=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Fe(u),i=Me):0!==(s&=o)&&(r=Fe(s),i=Me)}else 0!==(o=n&~a)?(r=Fe(o),i=Me):0!==s&&(r=Fe(s),i=Me);if(0===r)return 0;if(r=n&((0>(r=31-He(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&a)){if(Fe(e),i<=Me)return e;Me=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-He(e)),r|=t[n],e&=~i;return r}function Ue(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ve(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=qe(24&~e))?Ve(10,e):t;case 10:return 0===(t=qe(192&~e))?Ve(8,e):t;case 8:return 0===(t=qe(3584&~e))&&(0===(t=qe(4186112&~e))&&(t=512)),t;case 2:return 0===(e=qe(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function qe(t){return t&-t}function Be(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ze(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-He(e)]=n}var He=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ge(t)/We|0)|0},Ge=Math.log,We=Math.LN2;var Ke=o.unstable_UserBlockingPriority,Je=o.unstable_runWithPriority,Qe=!0;function Ye(t,e,n,r){Ft||Lt();var i=$e,o=Ft;Ft=!0;try{Dt(i,t,e,n,r)}finally{(Ft=o)||Ut()}}function Xe(t,e,n,r){Je(Ke,$e.bind(null,t,e,n,r))}function $e(t,e,n,r){var i;if(Qe)if((i=0==(4&e))&&0<ae.length&&-1<pe.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=Ze(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<pe.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=me(se,t,e,n,r,i),!0;case"dragenter":return ue=me(ue,t,e,n,r,i),!0;case"mouseover":return ce=me(ce,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return le.set(o,me(le.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,he.set(o,me(he.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Lr(t,e,r,null,n)}}}function Ze(t,e,n,r){var i=Ct(r);if(null!==(i=ni(i))){var o=Yt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),dn=i({},fn,{view:0,detail:0}),vn=un(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(cn=t.screenX-hn.screenX,ln=t.screenY-hn.screenY):ln=cn=0,hn=t),cn)},movementY:function(t){return"movementY"in t?t.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),bn=un(i({},dn,{relatedTarget:0})),wn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),En=un(_n),Tn=un(i({},fn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function Nn(){return kn}var An=i({},dn,{key:function(t){if(t.key){var e=In[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),On=un(An),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Rn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],Fn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Un=h&&"TextEvent"in window&&!jn,Vn=h&&(!Fn||jn&&8<jn&&11>=jn),qn=String.fromCharCode(32),Bn=!1;function zn(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Gn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Jn(t,e,n,r){Pt(r),0<(e=Fr(e,"onChange")).length&&(n=new pn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qn=null,Yn=null;function Xn(t){Ar(t,0)}function $n(t){if(X(ii(t)))return t}function Zn(t,e){if("change"===t)return e}var tr=!1;if(h){var er;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"==typeof rr.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",or),Yn=Qn=null)}function or(t){if("value"===t.propertyName&&$n(Yn)){var e=[];if(Jn(e,Yn,t,Ct(t)),t=Xn,Ft)t(e);else{Ft=!0;try{Rt(t,e)}finally{Ft=!1,Ut()}}}}function ar(t,e,n){"focusin"===t?(ir(),Yn=n,(Qn=e).attachEvent("onpropertychange",or)):"focusout"===t&&ir()}function sr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return $n(Yn)}function ur(t,e){if("click"===t)return $n(e)}function cr(t,e){if("input"===t||"change"===t)return $n(e)}var lr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},hr=Object.prototype.hasOwnProperty;function fr(t,e){if(lr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(e,n[r])||!lr(t[n[r]],e[n[r]]))return!1;return!0}function pr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dr(t,e){var n,r=pr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=pr(r)}}function vr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?vr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mr(){for(var t=window,e=$();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=$((t=e.contentWindow).document)}return e}function gr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,_r=null,Er=!1;function Tr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==$(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&fr(_r,r)||(_r=r,0<(r=Fr(wr,"onSelect")).length&&(e=new pn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=br)))}Le("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Le("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Le(De,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Re.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Nr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,c){if(Qt.apply(this,arguments),Ht){if(!Ht)throw Error(a(198));var l=Gt;Ht=!1,Gt=null,Wt||(Wt=!0,Kt=l)}}(r,e,void 0,t),t.currentTarget=null}function Ar(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Nr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Nr(i,s,c),o=u}}}if(Wt)throw t=Kt,Wt=!1,Kt=null,t}function Or(t,e){var n=ai(e),r=t+"__bubble";n.has(r)||(Dr(e,t,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function xr(t){t[Pr]||(t[Pr]=!0,s.forEach((function(e){kr.has(e)||Rr(e,!1,t,null),Rr(e,!0,t,null)})))}function Rr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&kr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ai(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Dr(o,t,i,e),a.add(s))}function Dr(t,e,n,r){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Ye;break;case 1:i=Xe;break;default:i=$e}n=i.bind(null,e,n,t),i=void 0,!qt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(jt)return t(e,n);jt=!0;try{Mt(t,e,n)}finally{jt=!1,Ut()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=xe.get(t);if(void 0!==s){var u=pn,c=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=xn;break;case Ne:case Ae:case Oe:u=wn;break;case Pe:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!=(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Vt(d,f))&&l.push(Mr(d,v,p)))),h)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ti])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Yt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=Pn,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:ii(u),p=null==c?s:ii(c),(s=new l(v,d+"leave",u,n,i)).target=h,s.relatedTarget=p,v=null,ni(i)===r&&((l=new l(f,d+"enter",c,n,i)).target=p,l.relatedTarget=h,v=l),h=v,u&&c)t:{for(f=c,d=0,p=l=u;p;p=jr(p))d++;for(p=0,v=f;v;v=jr(v))p++;for(;0<d-p;)l=jr(l),d--;for(;0<p-d;)f=jr(f),p--;for(;d--;){if(l===f||null!==f&&l===f.alternate)break t;l=jr(l),f=jr(f)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==h&&Ur(a,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Kn(s))if(tr)m=cr;else{m=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(t,r))?Jn(a,m,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ii(r):window,t){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(br=g,wr=r,_r=null);break;case"focusout":_r=wr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Tr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Tr(a,n,i)}var y;if(Fn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Gn?zn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Gn=!0)),0<(g=Fr(r,b)).length&&(b=new Tn(b,t,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Un?function(t,e){switch(t){case"compositionend":return Hn(e);case"keypress":return 32!==e.which?null:(Bn=!0,qn);case"textInput":return(t=e.data)===qn&&Bn?null:t;default:return null}}(t,n):function(t,e){if(Gn)return"compositionend"===t||!Fn&&zn(t,e)?(t=rn(),nn=en=tn=null,Gn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new Tn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ar(a,e)}))}function Mr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Vt(t,n))&&r.unshift(Mr(t,o,i)),null!=(o=Vt(t,e))&&r.push(Mr(t,o,i))),t=t.return}return r}function jr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ur(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Vt(n,o))&&a.unshift(Mr(n,u,s)):i||null!=(u=Vt(n,o))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Vr(){}var qr=null,Br=null;function zr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Hr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Gr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Kr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Jr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Qr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ti="__reactContainer$"+Xr,ei="__reactEvents$"+Xr;function ni(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[$r]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Qr(t);null!==t;){if(n=t[$r])return n;t=Qr(t)}return e}n=(t=n).parentNode}return null}function ri(t){return!(t=t[$r]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function oi(t){return t[Zr]||null}function ai(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var si=[],ui=-1;function ci(t){return{current:t}}function li(t){0>ui||(t.current=si[ui],si[ui]=null,ui--)}function hi(t,e){ui++,si[ui]=t.current,t.current=e}var fi={},pi=ci(fi),di=ci(!1),vi=fi;function mi(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function gi(t){return null!=(t=t.childContextTypes)}function yi(){li(di),li(pi)}function bi(t,e,n){if(pi.current!==fi)throw Error(a(168));hi(pi,e),hi(di,n)}function wi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,K(e)||"Unknown",o));return i({},n,r)}function _i(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,vi=pi.current,hi(pi,t),hi(di,di.current),!0}function Ei(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=wi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,li(di),li(pi),hi(pi,t)):li(di),hi(di,n)}var Ti=null,Ii=null,Si=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Ni=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Oi=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,xi=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Fi={},ji=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,qi=!1,Bi=Oi(),zi=1e4>Bi?Oi:function(){return Oi()-Bi};function Hi(){switch(Pi()){case xi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(a(332))}}function Gi(t){switch(t){case 99:return xi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(a(332))}}function Wi(t,e){return t=Gi(t),Si(t,e)}function Ki(t,e,n){return t=Gi(t),Ci(t,e,n)}function Ji(){if(null!==Vi){var t=Vi;Vi=null,ki(t)}Qi()}function Qi(){if(!qi&&null!==Ui){qi=!0;var t=0;try{var e=Ui;Wi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(e){throw null!==Ui&&(Ui=Ui.slice(t+1)),Ci(xi,Ji),e}finally{qi=!1}}}var Yi=_.ReactCurrentBatchConfig;function Xi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var $i=ci(null),Zi=null,to=null,eo=null;function no(){eo=to=Zi=null}function ro(t){var e=$i.current;li($i),t.type._context._currentValue=e}function io(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function oo(t,e){Zi=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Fa=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===Zi)throw Error(a(308));to=e,Zi.dependencies={lanes:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var so=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var o=t.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,v=a;switch(u=e,p=n,v.tag){case 1:if("function"==typeof(d=v.payload)){f=d.call(p,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(u="function"==typeof(d=v.payload)?d.call(p,f,u):d))break t;f=i({},f,u);break t;case 2:so=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=p,c=f):h=h.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Vs|=s,t.lanes=s,t.memoizedState=f}}function vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternals)&&Yt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hu(),i=fu(t),o=lo(r,i);o.payload=e,null!=n&&(o.callback=n),ho(t,o),pu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hu(),i=fu(t),o=lo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),ho(t,o),pu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hu(),r=fu(t),i=lo(n,r);i.tag=2,null!=e&&(i.callback=e),ho(t,i),pu(t,r,n)}};function bo(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function wo(t,e,n){var r=!1,i=fi,o=e.contextType;return"object"==typeof o&&null!==o?o=ao(o):(i=gi(e)?vi:pi.current,o=(r=null!=(r=e.contextTypes))?mi(t,i):fi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _o(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function Eo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mo,uo(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=ao(o):(o=gi(e)?vi:pi.current,i.context=mi(t,o)),po(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(go(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var To=Array.isArray;function Io(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===mo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Co(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Gu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Qu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Io(t,e,n),r.return=t,r):((r=Wu(n.type,n.key,n.props,null,t.mode,r)).ref=Io(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Ku(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Qu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case E:return(n=Wu(e.type,e.key,e.props,null,t.mode,n)).ref=Io(t,null,e),n.return=t,n;case T:return(e=Yu(e,t.mode,n)).return=t,e}if(To(e)||B(e))return(e=Ku(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case T:return n.key===i?l(t,e,n,r):null}if(To(n)||B(n))return null!==i?null:h(t,e,n,r,null);So(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return t=t.get(null===r.key?n:r.key)||null,r.type===I?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case T:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(To(r)||B(r))return h(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=p(i,h,s[v],u);if(null===g){null===h&&(h=m);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(m=d(h,i,v,s[v],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return t&&h.forEach((function(t){return e(i,t)})),c}function m(i,s,u,c){var l=B(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,m),null===h?l=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=d(v,i,m,y.value,c))&&(t&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"==typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===I){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}}else if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=Io(t,c,o),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}o.type===I?((r=Ku(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Wu(o.type,o.key,o.props,null,t.mode,u)).ref=Io(t,r,o),u.return=t,t=u)}return s(t);case T:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Yu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Qu(o,t.mode,u)).return=t,t=r),s(t);if(To(o))return v(t,r,o,u);if(B(o))return m(t,r,o,u);if(l&&So(t,o),void 0===o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(t.type)||"Component"))}return n(t,r)}}var ko=Co(!0),No=Co(!1),Ao={},Oo=ci(Ao),Po=ci(Ao),xo=ci(Ao);function Ro(t){if(t===Ao)throw Error(a(174));return t}function Do(t,e){switch(hi(xo,e),hi(Po,t),hi(Oo,Ao),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}li(Oo),hi(Oo,e)}function Lo(){li(Oo),li(Po),li(xo)}function Mo(t){Ro(xo.current);var e=Ro(Oo.current),n=dt(e,t.type);e!==n&&(hi(Po,t),hi(Oo,n))}function Fo(t){Po.current===t&&(li(Oo),li(Po))}var jo=ci(0);function Uo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vo=null,qo=null,Bo=!1;function zo(t,e){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ho(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Go(t){if(Bo){var e=qo;if(e){var n=e;if(!Ho(t,e)){if(!(e=Jr(n.nextSibling))||!Ho(t,e))return t.flags=-1025&t.flags|2,Bo=!1,void(Vo=t);zo(Vo,n)}Vo=t,qo=Jr(e.firstChild)}else t.flags=-1025&t.flags|2,Bo=!1,Vo=t}}function Wo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Vo=t}function Ko(t){if(t!==Vo)return!1;if(!Bo)return Wo(t),Bo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Hr(e,t.memoizedProps))for(e=qo;e;)zo(t,e),e=Jr(e.nextSibling);if(Wo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){qo=Jr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}qo=null}}else qo=Vo?Jr(t.stateNode.nextSibling):null;return!0}function Jo(){qo=Vo=null,Bo=!1}var Qo=[];function Yo(){for(var t=0;t<Qo.length;t++)Qo[t]._workInProgressVersionPrimary=null;Qo.length=0}var Xo=_.ReactCurrentDispatcher,$o=_.ReactCurrentBatchConfig,Zo=0,ta=null,ea=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function sa(t,e,n,r,i,o){if(Zo=o,ta=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xo.current=null===t||null===t.memoizedState?Ra:Da,t=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ea=null,e.updateQueue=null,Xo.current=La,t=n(r,i)}while(ia)}if(Xo.current=xa,e=null!==ea&&null!==ea.next,Zo=0,na=ea=ta=null,ra=!1,e)throw Error(a(300));return t}function ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ta.memoizedState=na=t:na=na.next=t,na}function ca(){if(null===ea){var t=ta.alternate;t=null!==t?t.memoizedState:null}else t=ea.next;var e=null===na?ta.memoizedState:na.next;if(null!==e)na=e,ea=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ea=t).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===na?ta.memoizedState=na=t:na=na.next=t}return na}function la(t,e){return"function"==typeof e?e(t):e}function ha(t){var e=ca(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ta.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,e.memoizedState)||(Fa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function fa(t){var e=ca(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);lr(o,e.memoizedState)||(Fa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function pa(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Zo&t)===t)&&(e._workInProgressVersionPrimary=r,Qo.push(e))),t)return n(e._source);throw Qo.push(e),Error(a(350))}function da(t,e,n,r){var i=xs;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Xo.current,c=u.useState((function(){return pa(i,e,n)})),l=c[1],h=c[0];c=na;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,v=f.source;f=f.subscribe;var m=ta;return t.memoizedState={refs:p,source:e,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var t=o(e._source);if(!lr(s,t)){t=n(e._source),lr(h,t)||(l(t),t=fu(m),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-He(a),c=1<<u;r[u]|=t,a&=~c}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=fu(m);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),lr(d,n)&&lr(v,e)&&lr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:h}).dispatch=l=Pa.bind(null,ta,t),c.queue=t,c.baseQueue=null,h=pa(i,e,n),c.memoizedState=c.baseState=h),h}function va(t,e,n){return da(ca(),t,e,n)}function ma(t){var e=ua();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:t}).dispatch=Pa.bind(null,ta,t),[e.memoizedState,t]}function ga(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ta.updateQueue)?(e={lastEffect:null},ta.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ya(t){return t={current:t},ua().memoizedState=t}function ba(){return ca().memoizedState}function wa(t,e,n,r){var i=ua();ta.flags|=t,i.memoizedState=ga(1|e,n,void 0,void 0===r?null:r)}function _a(t,e,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(e,n,o,r)}ta.flags|=t,i.memoizedState=ga(1|e,n,o,r)}function Ea(t,e){return wa(516,4,t,e)}function Ta(t,e){return _a(516,4,t,e)}function Ia(t,e){return _a(4,2,t,e)}function Sa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ca(t,e,n){return n=null!=n?n.concat([t]):null,_a(4,2,Sa.bind(null,e,t),n)}function ka(){}function Na(t,e){var n=ca();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Aa(t,e){var n=ca();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oa(t,e){var n=Hi();Wi(98>n?98:n,(function(){t(!0)})),Wi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{t(!1),e()}finally{$o.transition=n}}))}function Pa(t,e,n){var r=hu(),i=fu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===ta||null!==a&&a===ta)ia=ra=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(t){}pu(t,i,r)}}var xa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(t,e){return ua().memoizedState=[t,void 0===e?null:e],t},useContext:ao,useEffect:Ea,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,wa(4,2,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wa(4,2,t,e)},useMemo:function(t,e){var n=ua();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ua();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Pa.bind(null,ta,t),[r.memoizedState,t]},useRef:ya,useState:ma,useDebugValue:ka,useDeferredValue:function(t){var e=ma(t),n=e[0],r=e[1];return Ea((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=ma(!1),e=t[0];return ya(t=Oa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ua();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},da(r,t,e,n)},useOpaqueIdentifier:function(){if(Bo){var t=!1,e=function(t){return{$$typeof:L,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ma(e)[1];return 0==(2&ta.mode)&&(ta.flags|=516,ga(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),e}return ma(e="r:"+(Yr++).toString(36)),e},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Na,useContext:ao,useEffect:Ta,useImperativeHandle:Ca,useLayoutEffect:Ia,useMemo:Aa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:ka,useDeferredValue:function(t){var e=ha(la),n=e[0],r=e[1];return Ta((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=ha(la)[0];return[ba().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Na,useContext:ao,useEffect:Ta,useImperativeHandle:Ca,useLayoutEffect:Ia,useMemo:Aa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:ka,useDeferredValue:function(t){var e=fa(la),n=e[0],r=e[1];return Ta((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=fa(la)[0];return[ba().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Ma=_.ReactCurrentOwner,Fa=!1;function ja(t,e,n,r){e.child=null===t?No(e,null,n,r):ko(e,t.child,n,r)}function Ua(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=sa(t,e,n,r,o,i),null===t||Fa?(e.flags|=1,ja(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Va(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Wu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,qa(t,e,a,r,i,o))}return a=t.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.flags|=1,(t=Gu(a,r)).ref=e.ref,t.return=e,e.child=t)}function qa(t,e,n,r,i,o){if(null!==t&&fr(t.memoizedProps,r)&&t.ref===e.ref){if(Fa=!1,0==(o&i))return e.lanes=t.lanes,os(t,e,o);0!=(16384&t.flags)&&(Fa=!0)}return Ha(t,e,n,r,o)}function Ba(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},_u(e,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_u(e,t),null;e.memoizedState={baseLanes:0},_u(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,_u(e,r);return ja(t,e,i,n),e.child}function za(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ha(t,e,n,r,i){var o=gi(n)?vi:pi.current;return o=mi(e,o),oo(e,i),n=sa(t,e,n,r,o,i),null===t||Fa?(e.flags|=1,ja(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Ga(t,e,n,r,i){if(gi(n)){var o=!0;_i(e)}else o=!1;if(oo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),wo(e,n,r),Eo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=ao(c):c=mi(e,c=gi(n)?vi:pi.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(e,a,r,c),so=!1;var f=e.memoizedState;a.state=f,po(e,r,a,i),u=e.memoizedState,s!==r||f!==u||di.current||so?("function"==typeof l&&(go(e,n,l,r),u=e.memoizedState),(s=so||bo(e,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4)):("function"==typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,co(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Xi(e.type,s),a.props=c,h=e.pendingProps,f=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=ao(u):u=mi(e,u=gi(n)?vi:pi.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&_o(e,a,r,u),so=!1,f=e.memoizedState,a.state=f,po(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||di.current||so?("function"==typeof p&&(go(e,n,p,r),d=e.memoizedState),(c=so||bo(e,n,c,r,f,d,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Wa(t,e,n,r,o,i)}function Wa(t,e,n,r,i,o){za(t,e);var a=0!=(64&e.flags);if(!r&&!a)return i&&Ei(e,n,!1),os(t,e,o);r=e.stateNode,Ma.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,s,o)):ja(t,e,s,o),e.memoizedState=r.state,i&&Ei(e,n,!0),e.child}function Ka(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),Do(t,e.containerInfo)}var Ja,Qa,Ya,Xa={dehydrated:null,retryLane:0};function $a(t,e,n){var r,i=e.pendingProps,o=jo.current,a=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(jo,1&o),null===t?(void 0!==i.fallback&&Go(e),t=i.children,o=i.fallback,a?(t=Za(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xa,t):"number"==typeof i.unstable_expectedLoadTime?(t=Za(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xa,e.lanes=33554432,t):((n=Ju({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=es(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Xa,i):(n=ts(t,e,i.children,n),e.memoizedState=null,n))}function Za(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Ju(e,i,0,null),n=Ku(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ts(t,e,n,r){var i=t.child;return t=i.sibling,n=Gu(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function es(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Gu(a,s),null!==t?r=Gu(t,r):(r=Ku(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ns(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),io(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ja(t,e,r.children,n),0!=(2&(r=jo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(hi(jo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Uo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Uo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Vs|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Gu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Gu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function as(t,e){if(!Bo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ss(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(e.type)&&yi(),null;case 3:return Lo(),li(di),li(pi),Yo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Ko(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Fo(e);var o=Ro(xo.current);if(n=e.type,null!==t&&null!=e.stateNode)Qa(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Ro(Oo.current),Ko(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$r]=e,r[Zr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(t=0;t<Cr.length;t++)Or(Cr[t],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":tt(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ut(r,s),Or("invalid",r)}for(var c in It(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Y(r),rt(r,s,!0);break;case"textarea":Y(r),lt(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Vr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=pt(n)),t===ht?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[$r]=e,t[Zr]=r,Ja(t,e),e.stateNode=t,c=St(n,r),n){case"dialog":Or("cancel",t),Or("close",t),o=r;break;case"iframe":case"object":case"embed":Or("load",t),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)Or(Cr[o],t);o=r;break;case"source":Or("error",t),o=r;break;case"img":case"image":case"link":Or("error",t),Or("load",t),o=r;break;case"details":Or("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),Or("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Or("invalid",t);break;default:o=r}It(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Et(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&yt(t,h):"number"==typeof h&&yt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Or("scroll",t):null!=h&&w(t,s,h,c))}switch(n){case"input":Y(t),rt(t,r,!1);break;case"textarea":Y(t),lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+J(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=Vr)}zr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ya(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=Ro(xo.current),Ro(Oo.current),Ko(e)?(r=e.stateNode,n=e.memoizedProps,r[$r]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=e,e.stateNode=r)}return null;case 13:return li(jo),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ko(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&jo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===xs||0==(134217727&Vs)&&0==(134217727&qs)||gu(xs,Ds))),(r||n)&&(e.flags|=4),null);case 4:return Lo(),null===t&&xr(e.stateNode.containerInfo),null;case 10:return ro(e),null;case 19:if(li(jo),null===(r=e.memoizedState))return null;if(s=0!=(64&e.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Uo(t))){for(e.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return hi(jo,1&jo.current|2),e.child}t=t.sibling}null!==r.tail&&zi()>Gs&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Uo(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Gs&&1073741824!==n&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=zi(),n.sibling=null,e=jo.current,hi(jo,s?1&e|2:1&e),n):null;case 23:case 24:return Eu(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function us(t){switch(t.tag){case 1:gi(t.type)&&yi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Lo(),li(di),li(pi),Yo(),0!=(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Fo(t),null;case 13:return li(jo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return li(jo),null;case 4:return Lo(),null;case 10:return ro(t),null;case 23:case 24:return Eu(),null;default:return null}}function cs(t,e){try{var n="",r=e;do{n+=W(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}Ja=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ro(Oo.current);var a,s=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=Vr)}for(h in It(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Or("scroll",t),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Ya=function(t,e,n,r){n!==r&&(e.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function hs(t,e,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qs||(Qs=!0,Ys=r)},n}function fs(t,e,n){(n=lo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ps="function"==typeof WeakSet?WeakSet:Set;function ds(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Uu(t,e)}else e.current=null}function vs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Xi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Kr(e.stateNode.containerInfo))}throw Error(a(163))}function ms(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Mu(n,t),Lu(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Xi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&vo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}vo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&zr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ee(n)))))}throw Error(a(163))}function gs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_t("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(t,e){if(Ii&&"function"==typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ti,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Mu(e,n);else{r=e;try{i()}catch(t){Uu(r,t)}}n=n.next}while(n!==t)}break;case 1:if(ds(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Uu(e,t)}break;case 5:ds(e);break;case 4:Is(t,e)}}function bs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ws(t){return 5===t.tag||3===t.tag||4===t.tag}function _s(t){t:{for(var e=t.return;null!==e;){if(ws(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?Es(t,n,e):Ts(t,n,e)}function Es(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Vr));else if(4!==r&&null!==(t=t.child))for(Es(t,e,n),t=t.sibling;null!==t;)Es(t,e,n),t=t.sibling}function Ts(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Ts(t,e,n),t=t.sibling;null!==t;)Ts(t,e,n),t=t.sibling}function Is(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,c=u;;)if(ys(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ys(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Zr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Et(n,u):"dangerouslySetInnerHTML"===s?gt(n,u):"children"===s?yt(n,u):w(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Ee(n.containerInfo)));case 13:return null!==e.memoizedState&&(Hs=zi(),gs(e.child,!0)),void Cs(e);case 19:return void Cs(e);case 23:case 24:return void gs(e,null!==e.memoizedState)}throw Error(a(163))}function Cs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ps),e.forEach((function(e){var r=qu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function ks(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ns=Math.ceil,As=_.ReactCurrentDispatcher,Os=_.ReactCurrentOwner,Ps=0,xs=null,Rs=null,Ds=0,Ls=0,Ms=ci(0),Fs=0,js=null,Us=0,Vs=0,qs=0,Bs=0,zs=null,Hs=0,Gs=1/0;function Ws(){Gs=zi()+500}var Ks,Js=null,Qs=!1,Ys=null,Xs=null,$s=!1,Zs=null,tu=90,eu=[],nu=[],ru=null,iu=0,ou=null,au=-1,su=0,uu=0,cu=null,lu=!1;function hu(){return 0!=(48&Ps)?zi():-1!==au?au:au=zi()}function fu(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Hi()?1:2;if(0===su&&(su=Us),0!==Yi.transition){0!==uu&&(uu=null!==zs?zs.pendingLanes:0),t=su;var e=4186112&~uu;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Hi(),0!=(4&Ps)&&98===t?t=Ve(12,su):t=Ve(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),su),t}function pu(t,e,n){if(50<iu)throw iu=0,ou=null,Error(a(185));if(null===(t=du(t,e)))return null;ze(t,e,n),t===xs&&(qs|=e,4===Fs&&gu(t,Ds));var r=Hi();1===e?0!=(8&Ps)&&0==(48&Ps)?yu(t):(vu(t,n),0===Ps&&(Ws(),Ji())):(0==(4&Ps)||98!==r&&99!==r||(null===ru?ru=new Set([t]):ru.add(t)),vu(t,n)),zs=t}function du(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function vu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-He(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=e,Fe(c);var h=Me;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);s&=~c}if(r=je(t,t===xs?Ds:0),e=Me,0===r)null!==n&&(n!==Fi&&ki(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Fi&&ki(n)}15===e?(n=yu.bind(null,t),null===Ui?(Ui=[n],Vi=Ci(xi,Qi)):Ui.push(n),n=Fi):14===e?n=Ki(99,yu.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Ki(n,mu.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function mu(t){if(au=-1,uu=su=0,0!=(48&Ps))throw Error(a(327));var e=t.callbackNode;if(Du()&&t.callbackNode!==e)return null;var n=je(t,t===xs?Ds:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var o=Su();for(xs===t&&Ds===r||(Ws(),Tu(t,r));;)try{Nu();break}catch(e){Iu(t,e)}if(no(),As.current=o,Ps=i,null!==Rs?r=0:(xs=null,Ds=0,r=Fs),0!=(Us&qs))Tu(t,0);else if(0!==r){if(2===r&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Kr(t.containerInfo)),0!==(n=Ue(t))&&(r=Cu(t,n))),1===r)throw e=js,Tu(t,0),gu(t,n),vu(t,zi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Pu(t);break;case 3:if(gu(t,n),(62914560&n)===n&&10<(r=Hs+500-zi())){if(0!==je(t,0))break;if(((i=t.suspendedLanes)&n)!==n){hu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gr(Pu.bind(null,t),r);break}Pu(t);break;case 4:if(gu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-He(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){t.timeoutHandle=Gr(Pu.bind(null,t),n);break}Pu(t);break;default:throw Error(a(329))}}return vu(t,zi()),t.callbackNode===e?mu.bind(null,t):null}function gu(t,e){for(e&=~Bs,e&=~qs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-He(e),r=1<<n;t[n]=-1,e&=~r}}function yu(t){if(0!=(48&Ps))throw Error(a(327));if(Du(),t===xs&&0!=(t.expiredLanes&Ds)){var e=Ds,n=Cu(t,e);0!=(Us&qs)&&(n=Cu(t,e=je(t,e)))}else n=Cu(t,e=je(t,0));if(0!==t.tag&&2===n&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Kr(t.containerInfo)),0!==(e=Ue(t))&&(n=Cu(t,e))),1===n)throw n=js,Tu(t,0),gu(t,e),vu(t,zi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pu(t),vu(t,zi()),null}function bu(t,e){var n=Ps;Ps|=1;try{return t(e)}finally{0===(Ps=n)&&(Ws(),Ji())}}function wu(t,e){var n=Ps;Ps&=-2,Ps|=8;try{return t(e)}finally{0===(Ps=n)&&(Ws(),Ji())}}function _u(t,e){hi(Ms,Ls),Ls|=e,Us|=e}function Eu(){Ls=Ms.current,li(Ms)}function Tu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Lo(),li(di),li(pi),Yo();break;case 5:Fo(r);break;case 4:Lo();break;case 13:case 19:li(jo);break;case 10:ro(r);break;case 23:case 24:Eu()}n=n.return}xs=t,Rs=Gu(t.current,null),Ds=Ls=Us=e,Fs=0,js=null,Bs=qs=Vs=0}function Iu(t,e){for(;;){var n=Rs;try{if(no(),Xo.current=xa,ra){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ea=ta=null,ia=!1,Os.current=null,null===n||null===n.return){Fs=1,js=e,Rs=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&jo.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var m=f.updateQueue;if(null===m){var g=new Set;g.add(c),f.updateQueue=g}else m.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,ho(s,y)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new ls,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Vu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,fo(f,hs(0,o,e));break t;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Xs||!Xs.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e,fo(f,fs(f,o,e));break t}}f=f.return}while(null!==f)}Ou(n)}catch(t){e=t,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Su(){var t=As.current;return As.current=xa,null===t?xa:t}function Cu(t,e){var n=Ps;Ps|=16;var r=Su();for(xs===t&&Ds===e||Tu(t,e);;)try{ku();break}catch(e){Iu(t,e)}if(no(),Ps=n,As.current=r,null!==Rs)throw Error(a(261));return xs=null,Ds=0,Fs}function ku(){for(;null!==Rs;)Au(Rs)}function Nu(){for(;null!==Rs&&!Ni();)Au(Rs)}function Au(t){var e=Ks(t.alternate,t,Ls);t.memoizedProps=t.pendingProps,null===e?Ou(t):Rs=e,Os.current=null}function Ou(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=ss(n,e,Ls)))return void(Rs=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ls)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=us(e)))return n.flags&=2047,void(Rs=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Rs=e);Rs=e=t}while(null!==e);0===Fs&&(Fs=5)}function Pu(t){var e=Hi();return Wi(99,xu.bind(null,t,e)),null}function xu(t,e){do{Du()}while(null!==Zs);if(0!=(48&Ps))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var c=31-He(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==ru&&0==(24&r)&&ru.has(t)&&ru.delete(t),t===xs&&(Rs=xs=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Os.current=null,qr=Qe,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(t){u=null;break t}var h=0,f=-1,p=-1,d=0,v=0,m=s,g=null;e:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(f=h+o),m!==c||0!==l&&3!==m.nodeType||(p=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break e;if(g===u&&++d===o&&(f=h),g===c&&++v===l&&(p=h),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Qe=!1,cu=null,lu=!1,Js=r;do{try{Ru()}catch(t){if(null===Js)throw Error(a(330));Uu(Js,t),Js=Js.nextEffect}}while(null!==Js);cu=null,Js=r;do{try{for(s=t;null!==Js;){var b=Js.flags;if(16&b&&yt(Js.stateNode,""),128&b){var w=Js.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:_s(Js),Js.flags&=-3;break;case 6:_s(Js),Js.flags&=-3,Ss(Js.alternate,Js);break;case 1024:Js.flags&=-1025;break;case 1028:Js.flags&=-1025,Ss(Js.alternate,Js);break;case 4:Ss(Js.alternate,Js);break;case 8:Is(s,u=Js);var E=u.alternate;bs(u),null!==E&&bs(E)}Js=Js.nextEffect}}catch(t){if(null===Js)throw Error(a(330));Uu(Js,t),Js=Js.nextEffect}}while(null!==Js);if(_=Br,w=mr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=dr(b,E),o=dr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qe=!!qr,Br=qr=null,t.current=n,Js=r;do{try{for(b=t;null!==Js;){var T=Js.flags;if(36&T&&ms(b,Js.alternate,Js),128&T){w=void 0;var I=Js.ref;if(null!==I){var S=Js.stateNode;Js.tag,w=S,"function"==typeof I?I(w):I.current=w}}Js=Js.nextEffect}}catch(t){if(null===Js)throw Error(a(330));Uu(Js,t),Js=Js.nextEffect}}while(null!==Js);Js=null,ji(),Ps=i}else t.current=n;if($s)$s=!1,Zs=t,tu=e;else for(Js=r;null!==Js;)e=Js.nextEffect,Js.nextEffect=null,8&Js.flags&&((T=Js).sibling=null,T.stateNode=null),Js=e;if(0===(r=t.pendingLanes)&&(Xs=null),1===r?t===ou?iu++:(iu=0,ou=t):iu=0,n=n.stateNode,Ii&&"function"==typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ti,n,void 0,64==(64&n.current.flags))}catch(t){}if(vu(t,zi()),Qs)throw Qs=!1,t=Ys,Ys=null,t;return 0!=(8&Ps)||Ji(),null}function Ru(){for(;null!==Js;){var t=Js.alternate;lu||null===cu||(0!=(8&Js.flags)?te(Js,cu)&&(lu=!0):13===Js.tag&&ks(t,Js)&&te(Js,cu)&&(lu=!0));var e=Js.flags;0!=(256&e)&&vs(t,Js),0==(512&e)||$s||($s=!0,Ki(97,(function(){return Du(),null}))),Js=Js.nextEffect}}function Du(){if(90!==tu){var t=97<tu?97:tu;return tu=90,Wi(t,Fu)}return!1}function Lu(t,e){eu.push(e,t),$s||($s=!0,Ki(97,(function(){return Du(),null})))}function Mu(t,e){nu.push(e,t),$s||($s=!0,Ki(97,(function(){return Du(),null})))}function Fu(){if(null===Zs)return!1;var t=Zs;if(Zs=null,0!=(48&Ps))throw Error(a(331));var e=Ps;Ps|=32;var n=nu;nu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(t){if(null===o)throw Error(a(330));Uu(o,t)}}for(n=eu,eu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(t){if(null===o)throw Error(a(330));Uu(o,t)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ps=e,Ji(),!0}function ju(t,e,n){ho(t,e=hs(0,e=cs(n,e),1)),e=hu(),null!==(t=du(t,1))&&(ze(t,1,e),vu(t,e))}function Uu(t,e){if(3===t.tag)ju(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ju(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=fs(n,t=cs(e,t),1);if(ho(n,i),i=hu(),null!==(n=du(n,1)))ze(n,1,i),vu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Vu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=hu(),t.pingedLanes|=t.suspendedLanes&n,xs===t&&(Ds&n)===n&&(4===Fs||3===Fs&&(62914560&Ds)===Ds&&500>zi()-Hs?Tu(t,0):Bs|=n),vu(t,e)}function qu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Hi()?1:2:(0===su&&(su=Us),0===(e=qe(62914560&~su))&&(e=4194304))),n=hu(),null!==(t=du(t,e))&&(ze(t,e,n),vu(t,n))}function Bu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(t,e,n,r){return new Bu(t,e,n,r)}function Hu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Gu(t,e){var n=t.alternate;return null===n?((n=zu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wu(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Hu(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case I:return Ku(n.children,i,o,e);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case C:return(t=zu(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=o,t;case O:return(t=zu(13,n,e,i)).type=O,t.elementType=O,t.lanes=o,t;case P:return(t=zu(19,n,e,i)).elementType=P,t.lanes=o,t;case F:return Ju(n,i,o,e);case j:return(t=zu(24,n,e,i)).elementType=j,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case N:s=9;break t;case A:s=11;break t;case x:s=14;break t;case R:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=zu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Ku(t,e,n,r){return(t=zu(7,t,r,e)).lanes=n,t}function Ju(t,e,n,r){return(t=zu(23,t,r,e)).elementType=F,t.lanes=n,t}function Qu(t,e,n){return(t=zu(6,t,null,e)).lanes=n,t}function Yu(t,e,n){return(e=zu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Be(0),this.expirationTimes=Be(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.mutableSourceEagerHydrationData=null}function $u(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Zu(t,e,n,r){var i=e.current,o=hu(),s=fu(i);t:if(n){e:{if(Yt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break t}}n=u}else n=fi;return null===e.context?e.context=n:e.pendingContext=n,(e=lo(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),ho(i,e),pu(i,s,o),s}function tc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function ec(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function nc(t,e){ec(t,e),(t=t.alternate)&&ec(t,e)}function rc(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(t,e,null!=n&&!0===n.hydrate),e=zu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,uo(e),t[ti]=n.current,xr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function ic(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function oc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=tc(a);s.call(t)}}Zu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new rc(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var t=tc(a);u.call(t)}}wu((function(){Zu(e,a,t,i)}))}return tc(a)}function ac(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(e))throw Error(a(200));return $u(t,e,null,n)}Ks=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||di.current)Fa=!0;else{if(0==(n&r)){switch(Fa=!1,e.tag){case 3:Ka(e),Jo();break;case 5:Mo(e);break;case 1:gi(e.type)&&_i(e);break;case 4:Do(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;hi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?$a(t,e,n):(hi(jo,1&jo.current),null!==(e=os(t,e,n))?e.sibling:null);hi(jo,1&jo.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return is(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(jo,jo.current),r)break;return null;case 23:case 24:return e.lanes=0,Ba(t,e,n)}return os(t,e,n)}Fa=0!=(16384&t.flags)}else Fa=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=mi(e,pi.current),oo(e,n),i=sa(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)){var o=!0;_i(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(e);var s=r.getDerivedStateFromProps;"function"==typeof s&&go(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternals=e,Eo(e,r,t,n),e=Wa(null,e,r,!0,o,n)}else e.tag=0,ja(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Hu(t)?1:0;if(null!=t){if((t=t.$$typeof)===A)return 11;if(t===x)return 14}return 2}(i),t=Xi(i,t),o){case 0:e=Ha(null,e,i,t,n);break t;case 1:e=Ga(null,e,i,t,n);break t;case 11:e=Ua(null,e,i,t,n);break t;case 14:e=Va(null,e,i,Xi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ha(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ga(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 3:if(Ka(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,co(t,e),po(e,r,null,n),(r=e.memoizedState.element)===i)Jo(),e=os(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(qo=Jr(e.stateNode.containerInfo.firstChild),Vo=e,o=Bo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Qo.push(o);for(n=No(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(t,e,r,n),Jo();e=e.child}return e;case 5:return Mo(e),null===t&&Go(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==o&&Hr(r,o)&&(e.flags|=16),za(t,e),ja(t,e,s,n),e.child;case 6:return null===t&&Go(e),null;case 13:return $a(t,e,n);case 4:return Do(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ko(e,null,r,n):ja(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ua(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 7:return ja(t,e,e.pendingProps,n),e.child;case 8:case 12:return ja(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(hi($i,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){e=os(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,ho(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,oo(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.flags|=1,ja(t,e,r,n),e.child;case 14:return o=Xi(i=e.type,e.pendingProps),Va(t,e,i,o=Xi(i.type,o),r,n);case 15:return qa(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gi(r)?(t=!0,_i(e)):t=!1,oo(e,n),wo(e,r,i),Eo(e,r,i,n),Wa(null,e,r,!0,t,n);case 19:return is(t,e,n);case 23:case 24:return Ba(t,e,n)}throw Error(a(156,e.tag))},rc.prototype.render=function(t){Zu(t,this._internalRoot,null,null)},rc.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Zu(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(pu(t,4,hu()),nc(t,4))},ne=function(t){13===t.tag&&(pu(t,67108864,hu()),nc(t,67108864))},re=function(t){if(13===t.tag){var e=hu(),n=fu(t);pu(t,n,e),nc(t,n)}},ie=function(t,e){return e()},kt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oi(r);if(!i)throw Error(a(90));X(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Rt=bu,Dt=function(t,e,n,r,i){var o=Ps;Ps|=4;try{return Wi(98,t.bind(null,e,n,r,i))}finally{0===(Ps=o)&&(Ws(),Ji())}},Lt=function(){0==(49&Ps)&&(function(){if(null!==ru){var t=ru;ru=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,vu(t,zi())}))}Ji()}(),Du())},Mt=function(t,e){var n=Ps;Ps|=2;try{return t(e)}finally{0===(Ps=n)&&(Ws(),Ji())}};var sc={Events:[ri,ii,oi,Pt,xt,Du,{current:!1}]},uc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zt(t))?null:t.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ti=lc.inject(cc),Ii=lc}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,e.createPortal=ac,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Zt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ps;if(0!=(48&n))return t(e);Ps|=1;try{if(t)return Wi(99,t.bind(null,e))}finally{Ps=n,Ji()}},e.hydrate=function(t,e,n){if(!ic(e))throw Error(a(200));return oc(null,t,e,!0,n)},e.render=function(t,e,n){if(!ic(e))throw Error(a(200));return oc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ic(t))throw Error(a(40));return!!t._reactRootContainer&&(wu((function(){oc(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=bu,e.unstable_createPortal=function(t,e){return ac(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ic(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return oc(t,e,n,!1,r)},e.version="17.0.2"},935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){}}(),t.exports=n(448)},408:(t,e,n)=>{"use strict";var r=n(418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function g(){}function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:w.current}}function I(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var S=/\/+/g;function C(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function k(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(S,"$&/")+"/"),k(a,e,n,"",(function(t){return t}))):null!=a&&(I(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+C(s=t[c],c);u+=k(s,e,n,l,a)}else if(l=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=k(s=s.value,e,n,l=r+C(s,c++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function N(t,e,n){if(null==t)return t;var r=[],i=0;return k(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function A(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var O={current:null};function P(){var t=O.current;if(null===t)throw Error(p(321));return t}var x={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:N,forEach:function(t,e,n){N(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!I(t))throw Error(p(143));return t}},e.Component=m,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=w.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)_.call(e,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return P().useCallback(t,e)},e.useContext=function(t,e){return P().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return P().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return P().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return P().useLayoutEffect(t,e)},e.useMemo=function(t,e){return P().useMemo(t,e)},e.useReducer=function(t,e,n){return P().useReducer(t,e,n)},e.useRef=function(t){return P().useRef(t)},e.useState=function(t){return P().useState(t)},e.version="17.0.2"},294:(t,e,n)=>{"use strict";t.exports=n(408)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var t=e.unstable_now();c(!0,t),c=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(h,0))},r=function(t,e){l=setTimeout(t,e)},i=function(){clearTimeout(l)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){window.cancelAnimationFrame;window.requestAnimationFrame}var d=!1,v=null,m=-1,g=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t||(g=0<t?Math.floor(1e3/t):5)};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();y=t+g;try{v(!0,t)?w.postMessage(null):(d=!1,v=null)}catch(t){throw w.postMessage(null),t}}else d=!1},n=function(t){v=t,d||(d=!0,w.postMessage(null))},r=function(t,n){m=f((function(){t(e.unstable_now())}),n)},i=function(){p(m),m=-1}}function _(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<I(i,e)))break t;t[r]=e,t[n]=i,n=r}}function E(t){return void 0===(t=t[0])?null:t}function T(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function I(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var S=[],C=[],k=1,N=null,A=3,O=!1,P=!1,x=!1;function R(t){for(var e=E(C);null!==e;){if(null===e.callback)T(C);else{if(!(e.startTime<=t))break;T(C),e.sortIndex=e.expirationTime,_(S,e)}e=E(C)}}function D(t){if(x=!1,R(t),!P)if(null!==E(S))P=!0,n(L);else{var e=E(C);null!==e&&r(D,e.startTime-t)}}function L(t,n){P=!1,x&&(x=!1,i()),O=!0;var o=A;try{for(R(n),N=E(S);null!==N&&(!(N.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?N.callback=s:N===E(S)&&T(S),R(n)}else T(S);N=E(S)}if(null!==N)var u=!0;else{var c=E(C);null!==c&&r(D,c.startTime-n),u=!1}return u}finally{N=null,A=o,O=!1}}var M=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||O||(P=!0,n(L))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return E(S)},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:k++,callback:o,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,_(C,t),null===E(S)&&t===E(C)&&(x?i():x=!0,r(D,a-s))):(t.sortIndex=u,_(S,t),P||O||(P=!0,n(L))),t},e.unstable_wrapCallback=function(t){var e=A;return function(){var n=A;A=e;try{return t.apply(this,arguments)}finally{A=n}}}},840:(t,e,n)=>{"use strict";t.exports=n(53)},655:(t,e,n)=>{"use strict";n.d(e,{CR:()=>c,Jh:()=>s,XA:()=>u,ZT:()=>i,fl:()=>l,mG:()=>a,pi:()=>o,pr:()=>h});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function __(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t,e=n(294);function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));var i=function(t){return t};var o="beforeunload",a="popstate";function s(e){void 0===e&&(e={});var n=e.window,s=void 0===n?document.defaultView:n,p=s.history;function d(){var t=f(s.location.hash.substr(1)),e=t.pathname,n=void 0===e?"/":e,r=t.search,o=void 0===r?"":r,a=t.hash,u=void 0===a?"":a,c=p.state||{};return[c.idx,i({pathname:n,search:o,hash:u,state:c.usr||null,key:c.key||"default"})]}var v=null;function m(){if(v)E.call(v),v=null;else{var e=t.Pop,n=d(),r=n[0],i=n[1];if(E.length){if(null!=r){var o=b-r;o&&(v={action:e,location:i,retry:function(){N(-1*o)}},N(o))}}else k(e)}}s.addEventListener(a,m),s.addEventListener("hashchange",(function(){h(d()[1])!==h(w)&&m()}));var g=t.Pop,y=d(),b=y[0],w=y[1],_=c(),E=c();function T(t){return function(){var t=document.querySelector("base"),e="";if(t&&t.getAttribute("href")){var n=s.location.href,r=n.indexOf("#");e=-1===r?n:n.slice(0,r)}return e}()+"#"+("string"==typeof t?t:h(t))}function I(t,e){return void 0===e&&(e=null),i(r({pathname:w.pathname,hash:"",search:""},"string"==typeof t?f(t):t,{state:e,key:l()}))}function S(t,e){return[{usr:t.state,key:t.key,idx:e},T(t)]}function C(t,e,n){return!E.length||(E.call({action:t,location:e,retry:n}),!1)}function k(t){g=t;var e=d();b=e[0],w=e[1],_.call({action:g,location:w})}function N(t){p.go(t)}null==b&&(b=0,p.replaceState(r({},p.state,{idx:b}),""));var A={get action(){return g},get location(){return w},createHref:T,push:function e(n,r){var i=t.Push,o=I(n,r);if(C(i,o,(function(){e(n,r)}))){var a=S(o,b+1),u=a[0],c=a[1];try{p.pushState(u,"",c)}catch(t){s.location.assign(c)}k(i)}},replace:function e(n,r){var i=t.Replace,o=I(n,r);if(C(i,o,(function(){e(n,r)}))){var a=S(o,b),s=a[0],u=a[1];p.replaceState(s,"",u),k(i)}},go:N,back:function(){N(-1)},forward:function(){N(1)},listen:function(t){return _.push(t)},block:function(t){var e=E.push(t);return 1===E.length&&s.addEventListener(o,u),function(){e(),E.length||s.removeEventListener(o,u)}}};return A}function u(t){t.preventDefault(),t.returnValue=""}function c(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function l(){return Math.random().toString(36).substr(2,8)}function h(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,i=void 0===r?"":r,o=t.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function f(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}const p=(0,e.createContext)(null);const d=(0,e.createContext)(null);const v=(0,e.createContext)({outlet:null,matches:[]});function m(t,e){if(!t)throw new Error(e)}function g(t,e,n){void 0===n&&(n="/");let r=S(("string"==typeof e?f(e):e).pathname||"/",n);if(null==r)return null;let i=y(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let o=null;for(let t=0;null==o&&t<i.length;++t)o=E(i[t],r);return o}function y(t,e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=""),t.forEach(((t,i)=>{let o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||m(!1),o.relativePath=o.relativePath.slice(r.length));let a=C([r,o.relativePath]),s=n.concat(o);t.children&&t.children.length>0&&(!0===t.index&&m(!1),y(t.children,e,s,a)),(null!=t.path||t.index)&&e.push({path:a,score:_(a,t.index),routesMeta:s})})),e}const b=/^:\w+$/,w=t=>"*"===t;function _(t,e){let n=t.split("/"),r=n.length;return n.some(w)&&(r+=-2),e&&(r+=2),n.filter((t=>!w(t))).reduce(((t,e)=>t+(b.test(e)?3:""===e?1:10)),r)}function E(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let t=0;t<n.length;++t){let a=n[t],s=t===n.length-1,u="/"===i?e:e.slice(i.length)||"/",c=T({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);let l=a.route;o.push({params:r,pathname:C([i,c.pathname]),pathnameBase:k(C([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=C([i,c.pathnameBase]))}return o}function T(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((t,e)=>(r.push(e),"([^\\/]+)")));t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((t,e,n)=>{if("*"===e){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(e){return t}}(s[n]||""),t}),{}),pathname:o,pathnameBase:a,pattern:t}}function I(t,e,n){let r,i="string"==typeof t?f(t):t,o=""===t||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{let t=e.length-1;if(o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}r=t>=0?e[t]:"/"}let a=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof t?f(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:N(r),hash:A(i)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function S(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}const C=t=>t.join("/").replace(/\/\/+/g,"/"),k=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",A=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function O(t){P()||m(!1);let{basename:n,navigator:r}=(0,e.useContext)(p),{hash:i,pathname:o,search:a}=D(t),s=o;if("/"!==n){let e=function(t){return""===t||""===t.pathname?"/":"string"==typeof t?f(t).pathname:t.pathname}(t),r=null!=e&&e.endsWith("/");s="/"===o?n+(r?"/":""):C([n,o])}return r.createHref({pathname:s,search:a,hash:i})}function P(){return null!=(0,e.useContext)(d)}function x(){return P()||m(!1),(0,e.useContext)(d).location}function R(){P()||m(!1);let{basename:t,navigator:n}=(0,e.useContext)(p),{matches:r}=(0,e.useContext)(v),{pathname:i}=x(),o=JSON.stringify(r.map((t=>t.pathnameBase))),a=(0,e.useRef)(!1);(0,e.useEffect)((()=>{a.current=!0}));let s=(0,e.useCallback)((function(e,r){if(void 0===r&&(r={}),!a.current)return;if("number"==typeof e)return void n.go(e);let s=I(e,JSON.parse(o),i);"/"!==t&&(s.pathname=C([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state)}),[t,n,o,i]);return s}function D(t){let{matches:n}=(0,e.useContext)(v),{pathname:r}=x(),i=JSON.stringify(n.map((t=>t.pathnameBase)));return(0,e.useMemo)((()=>I(t,JSON.parse(i),r)),[t,i,r])}function L(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight(((r,i,o)=>(0,e.createElement)(v.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})),null)}function M(t){m(!1)}function F(n){let{basename:r="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:u=!1}=n;P()&&m(!1);let c=k(r),l=(0,e.useMemo)((()=>({basename:c,navigator:s,static:u})),[c,s,u]);"string"==typeof o&&(o=f(o));let{pathname:h="/",search:v="",hash:g="",state:y=null,key:b="default"}=o,w=(0,e.useMemo)((()=>{let t=S(h,c);return null==t?null:{pathname:t,search:v,hash:g,state:y,key:b}}),[c,h,v,g,y,b]);return null==w?null:(0,e.createElement)(p.Provider,{value:l},(0,e.createElement)(d.Provider,{children:i,value:{location:w,navigationType:a}}))}function j(t){let{children:n,location:r}=t;return function(t,n){P()||m(!1);let{matches:r}=(0,e.useContext)(v),i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let s,u=x();if(n){var c;let t="string"==typeof n?f(n):n;"/"===a||(null==(c=t.pathname)?void 0:c.startsWith(a))||m(!1),s=t}else s=u;let l=s.pathname||"/",h=g(t,{pathname:"/"===a?l:l.slice(a.length)||"/"});return L(h&&h.map((t=>Object.assign({},t,{params:Object.assign({},o,t.params),pathname:C([a,t.pathname]),pathnameBase:"/"===t.pathnameBase?a:C([a,t.pathnameBase])}))),r)}(U(n),r)}function U(t){let n=[];return e.Children.forEach(t,(t=>{if(!(0,e.isValidElement)(t))return;if(t.type===e.Fragment)return void n.push.apply(n,U(t.props.children));t.type!==M&&m(!1);let r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=U(t.props.children)),n.push(r)})),n}function V(){return V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(this,arguments)}function q(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}const B=["onClick","reloadDocument","replace","state","target","to"],z=["aria-current","caseSensitive","className","end","style","to","children"];function H(t){let{basename:n,children:r,window:i}=t,o=(0,e.useRef)();null==o.current&&(o.current=s({window:i}));let a=o.current,[u,c]=(0,e.useState)({action:a.action,location:a.location});return(0,e.useLayoutEffect)((()=>a.listen(c)),[a]),(0,e.createElement)(F,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:a})}const G=(0,e.forwardRef)((function(t,n){let{onClick:r,reloadDocument:i,replace:o=!1,state:a,target:s,to:u}=t,c=q(t,B),l=O(u),f=function(t,n){let{target:r,replace:i,state:o}=void 0===n?{}:n,a=R(),s=x(),u=D(t);return(0,e.useCallback)((e=>{if(!(0!==e.button||r&&"_self"!==r||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e))){e.preventDefault();let n=!!i||h(s)===h(u);a(t,{replace:n,state:o})}}),[s,a,u,i,o,r,t])}(u,{replace:o,state:a,target:s});return(0,e.createElement)("a",V({},c,{href:l,onClick:function(t){r&&r(t),t.defaultPrevented||i||f(t)},ref:n,target:s}))}));const W=(0,e.forwardRef)((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:u,children:c}=t,l=q(t,z),h=x(),f=D(u),p=h.pathname,d=f.pathname;i||(p=p.toLowerCase(),d=d.toLowerCase());let v,m=p===d||!a&&p.startsWith(d)&&"/"===p.charAt(d.length),g=m?r:void 0;v="function"==typeof o?o({isActive:m}):[o,m?"active":null].filter(Boolean).join(" ");let y="function"==typeof s?s({isActive:m}):s;return(0,e.createElement)(G,V({},l,{"aria-current":g,className:v,ref:n,style:y,to:u}),"function"==typeof c?c({isActive:m}):c)}));var K=n(935);function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=["get","post","put","delete"],X=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(J(this,t),this.options=n,!n.restURL)throw new Error("restURL option is required");if(!n.restNonce)throw new Error("restNonce option is required");Y.forEach((function(t){e[t]=e._setup(t)}))}var e,n,r;return e=t,n=[{key:"_setup",value:function(t){var e=this;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={credentials:"same-origin",method:t,headers:{Accept:"application/json","Content-Type":"application/json","X-WP-Nonce":e.options.restNonce}};return r&&(i.body=JSON.stringify(r)),fetch(e.options.restURL+n,i).then((function(t){return t.json().then((function(e){return t.ok?e:Promise.reject(e)}))}))}}}],n&&Q(e.prototype,n),r&&Q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const $="acotrs_loaderEAJGT",Z="acotrs_iconUFrGe";function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rt(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=at(t);if(e){var i=at(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(a,t);var n,r,i,o=it(a);function a(){return et(this,a),o.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(){return e.createElement("div",{className:$},e.createElement("span",{style:{backgroundImage:"url(".concat(window.lms_conversition_object.assets_url,"images/loading.svg)")},className:Z}))}}])&&nt(n.prototype,r),i&&nt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(e.Component);const ut="acotrs_switchJupIl",ct="acotrs_sliderph43y",lt="acotrs_tooltipWSoPM",ht="acotrs_saveBtnpqbNu",ft="acotrs_generalWrapuXen2",pt="acotrs_bodyWrapEPcmp",dt="acotrs_erashedWrapNXe0N",vt="acotrs_blockedForFreeVersionYInmk",mt="acotrs_statusMessagetR1EQ",gt="acotrs_removeAllMessagecxDs7",yt="acotrs_removButtonUSasI";var bt=n(697),wt=n.n(bt),_t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Et=new Uint8Array(16);function Tt(){if(!_t)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _t(Et)}for(var It=[],St=0;St<256;++St)It[St]=(St+256).toString(16).substr(1);const Ct=function(t,e){var n=e||0,r=It;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")};const kt=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||Tt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||Ct(i)};function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e,n){return e&&Nt(t.prototype,e),n&&Nt(t,n),t}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(){return Pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pt.apply(this,arguments)}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){Ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}function Lt(t,e){return Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lt(t,e)}function Mt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var Ft={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},jt=function(t,e){var n;"function"==typeof window.CustomEvent?n=new window.CustomEvent(t,{detail:e}):(n=document.createEvent("Event")).initEvent(t,!1,!0,e),window.dispatchEvent(n)};var Ut=function(t,e){var n=this.state.show,r=this.props.id,i=this.isCapture(e.currentTarget),o=e.currentTarget.getAttribute("currentItem");i||e.stopPropagation(),n&&"true"===o?t||this.hideTooltip(e):(e.currentTarget.setAttribute("currentItem","true"),Vt(e.currentTarget,this.getTargetArray(r)),this.showTooltip(e))},Vt=function(t,e){for(var n=0;n<e.length;n++)t!==e[n]?e[n].setAttribute("currentItem","false"):e[n].setAttribute("currentItem","true")},qt={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(t,e,n){this.id in t?t[this.id][e]=n:Object.defineProperty(t,this.id,{configurable:!0,value:Ot({},e,n)})},get:function(t,e){var n=t[this.id];if(void 0!==n)return n[e]}};var Bt=function(t,e,n){var r=e.respectEffect,i=void 0!==r&&r,o=e.customEvent,a=void 0!==o&&o,s=this.props.id,u=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||a){var h=null==s&&null==c||c===s;if(null!=u&&(!i||"float"===this.getEffect(l))&&h){var f=function(t){var e={};for(var n in t)"function"==typeof t[n]?e[n]=t[n].bind(t):e[n]=t[n];return e}(n);f.currentTarget=l,t(f)}}},zt=function(t,e){var n={};return t.forEach((function(t){var r=t.getAttribute(e);r&&r.split(" ").forEach((function(t){return n[t]=!0}))})),n},Ht=function(){return document.getElementsByTagName("body")[0]};function Gt(t,e,n,r,i,o,a){for(var s=Wt(n),u=s.width,c=s.height,l=Wt(e),h=l.width,f=l.height,p=Kt(t,e,o),d=p.mouseX,v=p.mouseY,m=Jt(o,h,f,u,c),g=Qt(a),y=g.extraOffsetX,b=g.extraOffsetY,w=window.innerWidth,_=window.innerHeight,E=Yt(n),T=E.parentTop,I=E.parentLeft,S=function(t){var e=m[t].l;return d+e+y},C=function(t){var e=m[t].t;return v+e+b},k=function(t){return function(t){var e=m[t].r;return d+e+y}(t)>w},N=function(t){return function(t){var e=m[t].b;return v+e+b}(t)>_},A=function(t){return function(t){return S(t)<0}(t)||k(t)||function(t){return C(t)<0}(t)||N(t)},O=function(t){return!A(t)},P=["top","bottom","left","right"],x=[],R=0;R<4;R++){var D=P[R];O(D)&&x.push(D)}var L,M=!1,F=i!==r;return O(i)&&F?(M=!0,L=i):x.length>0&&A(i)&&A(r)&&(M=!0,L=x[0]),M?{isNewState:!0,newState:{place:L}}:{isNewState:!1,position:{left:parseInt(S(r)-I,10),top:parseInt(C(r)-T,10)}}}var Wt=function(t){var e=t.getBoundingClientRect(),n=e.height,r=e.width;return{height:parseInt(n,10),width:parseInt(r,10)}},Kt=function(t,e,n){var r=e.getBoundingClientRect(),i=r.top,o=r.left,a=Wt(e),s=a.width,u=a.height;return"float"===n?{mouseX:t.clientX,mouseY:t.clientY}:{mouseX:o+s/2,mouseY:i+u/2}},Jt=function(t,e,n,r,i){var o,a,s,u;return"float"===t?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===t&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+e/2+2),r:-e/2,t:-i/2,b:i/2},a={l:e/2,r:r+e/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:u,right:a}},Qt=function(t){var e=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(t)&&(t=JSON.parse(t.toString().replace(/'/g,'"'))),t)"top"===r?n-=parseInt(t[r],10):"bottom"===r?n+=parseInt(t[r],10):"left"===r?e-=parseInt(t[r],10):"right"===r&&(e+=parseInt(t[r],10));return{extraOffsetX:e,extraOffsetY:n}},Yt=function(t){for(var e=t;e;){var n=window.getComputedStyle(e);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;e=e.parentElement}return{parentTop:e&&e.getBoundingClientRect().top||0,parentLeft:e&&e.getBoundingClientRect().left||0}};function Xt(t,n,r,i){if(n)return n;if(null!=r)return r;if(null===r)return null;var o=/<br\s*\/?>/;return i&&"false"!==i&&o.test(t)?t.split(o).map((function(t,n){return e.createElement("span",{key:n,className:"multi-line"},t)})):t}function $t(t){var e={};return Object.keys(t).filter((function(t){return/(^aria-\w+$|^role$)/.test(t)})).forEach((function(n){e[n]=t[n]})),e}function Zt(t){var e=t.length;return t.hasOwnProperty?Array.prototype.slice.call(t):new Array(e).fill().map((function(e){return t[e]}))}var te={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function ee(t,e,n,r){return function(t,e){var n=e.text,r=e.background,i=e.border,o=e.arrow;return"\n  \t.".concat(t," {\n\t    color: ").concat(n,";\n\t    background: ").concat(r,";\n\t    border: 1px solid ").concat(i,";\n  \t}\n\n  \t.").concat(t,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(t,".place-top::before {\n        border-top: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(o,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(t,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(t,".place-bottom::before {\n        border-bottom: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(o,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(t,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(t,".place-left::before {\n        border-left: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(o,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(t,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(t,".place-right::before {\n        border-right: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(o,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(t,function(t,e,n){var r=t.text,i=t.background,o=t.border,a=t.arrow?t.arrow:t.background,s=function(t){return te[t]?Rt({},te[t]):void 0}(e);r&&(s.text=r);i&&(s.background=i);n&&(s.border=o||("light"===e?"black":"white"));a&&(s.arrow=a);return s}(e,n,r))}var ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function re(t,e){return t(e={exports:{}},e.exports),e.exports}var ie=function(t){return t&&t.Math==Math&&t},oe=ie("object"==typeof globalThis&&globalThis)||ie("object"==typeof window&&window)||ie("object"==typeof self&&self)||ie("object"==typeof ne&&ne)||function(){return this}()||Function("return this")(),ae=function(t){try{return!!t()}catch(t){return!0}},se=!ae((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ue={}.propertyIsEnumerable,ce=Object.getOwnPropertyDescriptor,le=ce&&!ue.call({1:2},1)?function(t){var e=ce(this,t);return!!e&&e.enumerable}:ue,he={f:le},fe=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},pe={}.toString,de=function(t){return pe.call(t).slice(8,-1)},ve="".split,me=ae((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==de(t)?ve.call(t,""):Object(t)}:Object,ge=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ye=function(t){return me(ge(t))},be=function(t){return"object"==typeof t?null!==t:"function"==typeof t},we=function(t,e){if(!be(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!be(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!be(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!be(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},_e=function(t){return Object(ge(t))},Ee={}.hasOwnProperty,Te=function(t,e){return Ee.call(_e(t),e)},Ie=oe.document,Se=be(Ie)&&be(Ie.createElement),Ce=function(t){return Se?Ie.createElement(t):{}},ke=!se&&!ae((function(){return 7!=Object.defineProperty(Ce("div"),"a",{get:function(){return 7}}).a})),Ne=Object.getOwnPropertyDescriptor,Ae=se?Ne:function(t,e){if(t=ye(t),e=we(e,!0),ke)try{return Ne(t,e)}catch(t){}if(Te(t,e))return fe(!he.f.call(t,e),t[e])},Oe={f:Ae},Pe=function(t){if(!be(t))throw TypeError(String(t)+" is not an object");return t},xe=Object.defineProperty,Re=se?xe:function(t,e,n){if(Pe(t),e=we(e,!0),Pe(n),ke)try{return xe(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t},De={f:Re},Le=se?function(t,e,n){return De.f(t,e,fe(1,n))}:function(t,e,n){return t[e]=n,t},Me=function(t,e){try{Le(oe,t,e)}catch(n){oe[t]=e}return e},Fe="__core-js_shared__",je=oe[Fe]||Me(Fe,{}),Ue=Function.toString;"function"!=typeof je.inspectSource&&(je.inspectSource=function(t){return Ue.call(t)});var Ve,qe,Be,ze=je.inspectSource,He=oe.WeakMap,Ge="function"==typeof He&&/native code/.test(ze(He)),We=re((function(t){(t.exports=function(t,e){return je[t]||(je[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})})),Ke=0,Je=Math.random(),Qe=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Ke+Je).toString(36)},Ye=We("keys"),Xe=function(t){return Ye[t]||(Ye[t]=Qe(t))},$e={},Ze="Object already initialized",tn=oe.WeakMap;if(Ge||je.state){var en=je.state||(je.state=new tn),nn=en.get,rn=en.has,on=en.set;Ve=function(t,e){if(rn.call(en,t))throw new TypeError(Ze);return e.facade=t,on.call(en,t,e),e},qe=function(t){return nn.call(en,t)||{}},Be=function(t){return rn.call(en,t)}}else{var an=Xe("state");$e[an]=!0,Ve=function(t,e){if(Te(t,an))throw new TypeError(Ze);return e.facade=t,Le(t,an,e),e},qe=function(t){return Te(t,an)?t[an]:{}},Be=function(t){return Te(t,an)}}var sn,un,cn={set:Ve,get:qe,has:Be,enforce:function(t){return Be(t)?qe(t):Ve(t,{})},getterFor:function(t){return function(e){var n;if(!be(e)||(n=qe(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ln=re((function(t){var e=cn.get,n=cn.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a,s=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||Te(i,"name")||Le(i,"name",e),(a=n(i)).source||(a.source=r.join("string"==typeof e?e:""))),t!==oe?(s?!c&&t[e]&&(u=!0):delete t[e],u?t[e]=i:Le(t,e,i)):u?t[e]=i:Me(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ze(this)}))})),hn=oe,fn=function(t){return"function"==typeof t?t:void 0},pn=function(t,e){return arguments.length<2?fn(hn[t])||fn(oe[t]):hn[t]&&hn[t][e]||oe[t]&&oe[t][e]},dn=Math.ceil,vn=Math.floor,mn=function(t){return isNaN(t=+t)?0:(t>0?vn:dn)(t)},gn=Math.min,yn=function(t){return t>0?gn(mn(t),9007199254740991):0},bn=Math.max,wn=Math.min,_n=function(t){return function(e,n,r){var i,o=ye(e),a=yn(o.length),s=function(t,e){var n=mn(t);return n<0?bn(n+e,0):wn(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},En={includes:_n(!0),indexOf:_n(!1)}.indexOf,Tn=function(t,e){var n,r=ye(t),i=0,o=[];for(n in r)!Te($e,n)&&Te(r,n)&&o.push(n);for(;e.length>i;)Te(r,n=e[i++])&&(~En(o,n)||o.push(n));return o},In=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Sn=In.concat("length","prototype"),Cn=Object.getOwnPropertyNames||function(t){return Tn(t,Sn)},kn={f:Cn},Nn={f:Object.getOwnPropertySymbols},An=pn("Reflect","ownKeys")||function(t){var e=kn.f(Pe(t)),n=Nn.f;return n?e.concat(n(t)):e},On=function(t,e){for(var n=An(e),r=De.f,i=Oe.f,o=0;o<n.length;o++){var a=n[o];Te(t,a)||r(t,a,i(e,a))}},Pn=/#|\.prototype\./,xn=function(t,e){var n=Dn[Rn(t)];return n==Mn||n!=Ln&&("function"==typeof e?ae(e):!!e)},Rn=xn.normalize=function(t){return String(t).replace(Pn,".").toLowerCase()},Dn=xn.data={},Ln=xn.NATIVE="N",Mn=xn.POLYFILL="P",Fn=xn,jn=Oe.f,Un=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Vn=Array.isArray||function(t){return"Array"==de(t)},qn=pn("navigator","userAgent")||"",Bn=oe.process,zn=Bn&&Bn.versions,Hn=zn&&zn.v8;Hn?un=(sn=Hn.split("."))[0]<4?1:sn[0]+sn[1]:qn&&(!(sn=qn.match(/Edge\/(\d+)/))||sn[1]>=74)&&(sn=qn.match(/Chrome\/(\d+)/))&&(un=sn[1]);var Gn,Wn=un&&+un,Kn=!!Object.getOwnPropertySymbols&&!ae((function(){return!String(Symbol())||!Symbol.sham&&Wn&&Wn<41})),Jn=Kn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Qn=We("wks"),Yn=oe.Symbol,Xn=Jn?Yn:Yn&&Yn.withoutSetter||Qe,$n=function(t){return Te(Qn,t)&&(Kn||"string"==typeof Qn[t])||(Kn&&Te(Yn,t)?Qn[t]=Yn[t]:Qn[t]=Xn("Symbol."+t)),Qn[t]},Zn=$n("species"),tr=function(t,e){var n;return Vn(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Vn(n.prototype)?be(n)&&null===(n=n[Zn])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},er=[].push,nr=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,h){for(var f,p,d=_e(u),v=me(d),m=Un(c,l,3),g=yn(v.length),y=0,b=h||tr,w=e?b(u,g):n||a?b(u,0):void 0;g>y;y++)if((s||y in v)&&(p=m(f=v[y],y,d),t))if(e)w[y]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:er.call(w,f)}else switch(t){case 4:return!1;case 7:er.call(w,f)}return o?-1:r||i?i:w}},rr={forEach:nr(0),map:nr(1),filter:nr(2),some:nr(3),every:nr(4),find:nr(5),findIndex:nr(6),filterOut:nr(7)},ir=Object.keys||function(t){return Tn(t,In)},or=se?Object.defineProperties:function(t,e){Pe(t);for(var n,r=ir(e),i=r.length,o=0;i>o;)De.f(t,n=r[o++],e[n]);return t},ar=pn("document","documentElement"),sr=Xe("IE_PROTO"),ur=function(){},cr=function(t){return"<script>"+t+"</"+"script>"},lr=function(){try{Gn=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;lr=Gn?function(t){t.write(cr("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Gn):((e=Ce("iframe")).style.display="none",ar.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(cr("document.F=Object")),t.close(),t.F);for(var n=In.length;n--;)delete lr.prototype[In[n]];return lr()};$e[sr]=!0;var hr=Object.create||function(t,e){var n;return null!==t?(ur.prototype=Pe(t),n=new ur,ur.prototype=null,n[sr]=t):n=lr(),void 0===e?n:or(n,e)},fr=$n("unscopables"),pr=Array.prototype;null==pr[fr]&&De.f(pr,fr,{configurable:!0,value:hr(null)});var dr,vr,mr,gr,yr=rr.find,br="find",wr=!0;br in[]&&Array(1).find((function(){wr=!1})),function(t,e){var n,r,i,o,a,s=t.target,u=t.global,c=t.stat;if(n=u?oe:c?oe[s]||Me(s,{}):(oe[s]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(a=jn(n,r))&&a.value:n[r],!Fn(u?r:s+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;On(o,i)}(t.sham||i&&i.sham)&&Le(o,"sham",!0),ln(n,r,o,t)}}({target:"Array",proto:!0,forced:wr},{find:function(t){return yr(this,t,arguments.length>1?arguments[1]:void 0)}}),dr=br,pr[fr][dr]=!0;var _r,Er=function(t){t.hide=function(t){jt(Ft.HIDE,{target:t})},t.rebuild=function(){jt(Ft.REBUILD)},t.show=function(t){jt(Ft.SHOW,{target:t})},t.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},t.prototype.globalShow=function(t){if(this.mount){var e=!!(t&&t.detail&&t.detail.target);this.showTooltip({currentTarget:e&&t.detail.target},!0)}},t.prototype.globalHide=function(t){if(this.mount){var e=!!(t&&t.detail&&t.detail.target);this.hideTooltip({currentTarget:e&&t.detail.target},e)}}}(vr=function(t){t.prototype.bindWindowEvents=function(t){window.removeEventListener(Ft.HIDE,this.globalHide),window.addEventListener(Ft.HIDE,this.globalHide,!1),window.removeEventListener(Ft.REBUILD,this.globalRebuild),window.addEventListener(Ft.REBUILD,this.globalRebuild,!1),window.removeEventListener(Ft.SHOW,this.globalShow),window.addEventListener(Ft.SHOW,this.globalShow,!1),t&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},t.prototype.unbindWindowEvents=function(){window.removeEventListener(Ft.HIDE,this.globalHide),window.removeEventListener(Ft.REBUILD,this.globalRebuild),window.removeEventListener(Ft.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},t.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(vr=function(t){t.prototype.isCustomEvent=function(t){return this.state.event||!!t.getAttribute("data-event")},t.prototype.customBindListener=function(t){var e=this,n=this.state,r=n.event,i=n.eventOff,o=t.getAttribute("data-event")||r,a=t.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){t.removeEventListener(n,qt.get(t,n));var r=Ut.bind(e,a);qt.set(t,n,r),t.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){t.removeEventListener(n,e.hideTooltip),t.addEventListener(n,e.hideTooltip,!1)}))},t.prototype.customUnbindListener=function(t){var e=this.state,n=e.event,r=e.eventOff,i=n||t.getAttribute("data-event"),o=r||t.getAttribute("data-event-off");t.removeEventListener(i,qt.get(t,n)),o&&t.removeEventListener(o,this.hideTooltip)}}(vr=function(t){t.prototype.isCapture=function(t){return t&&"true"===t.getAttribute("data-iscapture")||this.props.isCapture||!1}}(vr=function(t){t.prototype.getEffect=function(t){return t.getAttribute("data-effect")||this.props.effect||"float"}}(vr=function(t){t.prototype.isBodyMode=function(){return!!this.props.bodyMode},t.prototype.bindBodyListener=function(t){var e=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=Ht(),u=zt(t,"data-event"),c=zt(t,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(c[i]=!0),o.split(" ").forEach((function(t){return u[t]=!0})),a.split(" ").forEach((function(t){return c[t]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var h in null==r&&(l.mouseover=Bt.bind(this,this.showTooltip,{}),l.mousemove=Bt.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=Bt.bind(this,this.hideTooltip,{})),u)l[h]=Bt.bind(this,(function(t){var n=t.currentTarget.getAttribute("data-event-off")||i;Ut.call(e,n,t)}),{customEvent:!0});for(var f in c)l[f]=Bt.bind(this,this.hideTooltip,{customEvent:!0});for(var p in l)s.addEventListener(p,l[p])},t.prototype.unbindBodyListener=function(t){t=t||Ht();var e=this.bodyModeListeners;for(var n in e)t.removeEventListener(n,e[n])}}((gr=mr=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=Mt(this,Dt(n).call(this,t))).state={uuid:t.uuid||"t"+kt(),place:t.place||"top",desiredPlace:t.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:t.event||null,eventOff:t.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:$t(t),isEmptyTip:!1,disable:!1,possibleCustomEvents:t.possibleCustomEvents||"",possibleCustomEventsOff:t.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},e.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),e.mount=!0,e.delayShowLoop=null,e.delayHideLoop=null,e.delayReshow=null,e.intervalUpdateContent=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(n,t),At(n,null,[{key:"propTypes",get:function(){return{uuid:wt().string,children:wt().any,place:wt().string,type:wt().string,effect:wt().string,offset:wt().object,multiline:wt().bool,border:wt().bool,textColor:wt().string,backgroundColor:wt().string,borderColor:wt().string,arrowColor:wt().string,insecure:wt().bool,class:wt().string,className:wt().string,id:wt().string,html:wt().bool,delayHide:wt().number,delayUpdate:wt().number,delayShow:wt().number,event:wt().string,eventOff:wt().string,isCapture:wt().bool,globalEventOff:wt().string,getContent:wt().any,afterShow:wt().func,afterHide:wt().func,overridePosition:wt().func,disable:wt().bool,scrollHide:wt().bool,resizeHide:wt().bool,wrapper:wt().string,bodyMode:wt().bool,possibleCustomEvents:wt().string,possibleCustomEventsOff:wt().string,clickable:wt().bool}}}]),At(n,[{key:"bind",value:function(t){var e=this;t.forEach((function(t){e[t]=e[t].bind(e)}))}},{key:"componentDidMount",value:function(){var t=this.props,e=(t.insecure,t.resizeHide);this.bindListener(),this.bindWindowEvents(e),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var t=this.tooltipRef;if(t){for(var e,n=t.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:e=n.head;break;default:e=n}if(!e.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),e.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(t){var e,n=[];if(t){var r=t.replace(/\\/g,"\\\\").replace(/"/g,'\\"');e='[data-tip][data-for="'.concat(r,'"]')}else e="[data-tip]:not([data-for])";return Zt(document.getElementsByTagName("*")).filter((function(t){return t.shadowRoot})).forEach((function(t){n=n.concat(Zt(t.shadowRoot.querySelectorAll(e)))})),n.concat(Zt(document.querySelectorAll(e)))}},{key:"bindListener",value:function(){var t=this,e=this.props,n=e.id,r=e.globalEventOff,i=e.isCapture,o=this.getTargetArray(n);o.forEach((function(e){null===e.getAttribute("currentItem")&&e.setAttribute("currentItem","false"),t.unbindBasicListener(e),t.isCustomEvent(e)&&t.customUnbindListener(e)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(e){var n=t.isCapture(e),r=t.getEffect(e);t.isCustomEvent(e)?t.customBindListener(e):(e.addEventListener("mouseenter",t.showTooltip,n),e.addEventListener("focus",t.showTooltip,n),"float"===r&&e.addEventListener("mousemove",t.updateTooltip,n),e.addEventListener("mouseleave",t.hideTooltip,n),e.addEventListener("blur",t.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var t=this,e=this.props,n=e.id,r=e.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(e){t.unbindBasicListener(e),t.isCustomEvent(e)&&t.customUnbindListener(e)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(t){var e=this.isCapture(t);t.removeEventListener("mouseenter",this.showTooltip,e),t.removeEventListener("mousemove",this.updateTooltip,e),t.removeEventListener("mouseleave",this.hideTooltip,e)}},{key:"getTooltipContent",value:function(){var t,e=this.props,n=e.getContent,r=e.children;return n&&(t=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),Xt(this.state.originTooltip,r,t,this.state.isMultiline)}},{key:"isEmptyTip",value:function(t){return"string"==typeof t&&""===t||null===t}},{key:"showTooltip",value:function(t,e){if(this.tooltipRef){if(e&&!this.getTargetArray(this.props.id).some((function(e){return e===t.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=t.currentTarget.getAttribute("data-tip"),a=t.currentTarget.getAttribute("data-multiline")||r||!1,s=t instanceof window.FocusEvent||e,u=!0;t.currentTarget.getAttribute("data-scroll-hide")?u="true"===t.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide),t&&t.currentTarget&&t.currentTarget.setAttribute&&t.currentTarget.setAttribute("aria-describedby",this.state.uuid);var c=t.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(t.currentTarget),h=t.currentTarget.getAttribute("data-offset")||this.props.offset||{},f=Gt(t,t.currentTarget,this.tooltipRef,c,c,l,h);f.position&&this.props.overridePosition&&(f.position=this.props.overridePosition(f.position,t,t.currentTarget,this.tooltipRef,c,c,l,h));var p=f.isNewState?f.newState.place:c;this.clearTimer();var d=t.currentTarget,v=this.state.show?d.getAttribute("data-delay-update")||this.props.delayUpdate:0,m=this,g=function(){m.setState({originTooltip:o,isMultiline:a,desiredPlace:c,place:p,type:d.getAttribute("data-type")||m.props.type||"dark",customColors:{text:d.getAttribute("data-text-color")||m.props.textColor||null,background:d.getAttribute("data-background-color")||m.props.backgroundColor||null,border:d.getAttribute("data-border-color")||m.props.borderColor||null,arrow:d.getAttribute("data-arrow-color")||m.props.arrowColor||null},effect:l,offset:h,html:(d.getAttribute("data-html")?"true"===d.getAttribute("data-html"):m.props.html)||!1,delayShow:d.getAttribute("data-delay-show")||m.props.delayShow||0,delayHide:d.getAttribute("data-delay-hide")||m.props.delayHide||0,delayUpdate:d.getAttribute("data-delay-update")||m.props.delayUpdate||0,border:(d.getAttribute("data-border")?"true"===d.getAttribute("data-border"):m.props.border)||!1,extraClass:d.getAttribute("data-class")||m.props.class||m.props.className||"",disable:(d.getAttribute("data-tip-disable")?"true"===d.getAttribute("data-tip-disable"):m.props.disable)||!1,currentTarget:d},(function(){u&&m.addScrollListener(m.state.currentTarget),m.updateTooltip(t),i&&Array.isArray(i)&&(m.intervalUpdateContent=setInterval((function(){if(m.mount){var t=m.props.getContent,e=Xt(o,"",t[0](),a),n=m.isEmptyTip(e);m.setState({isEmptyTip:n}),m.updatePosition()}}),i[1]))}))};v?this.delayReshow=setTimeout(g,v):g()}}},{key:"updateTooltip",value:function(t){var e=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props.afterShow,a=this.getTooltipContent(),s=t.currentTarget||t.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!i){var u=this.state.show?0:parseInt(r,10),c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!e.state.show;e.setState({currentEvent:t,currentTarget:s,show:!0},(function(){e.updatePosition(),n&&o&&o(t)}))}};clearTimeout(this.delayShowLoop),u?this.delayShowLoop=setTimeout(c,u):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll,a=o?0:this.state.delayHide,s=this.props.afterHide,u=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(u)&&!i){if(e){var c=this.getTargetArray(this.props.id),l=c.some((function(e){return e===t.currentTarget}));if(!l||!this.state.show)return}t&&t.currentTarget&&t.currentTarget.removeAttribute&&t.currentTarget.removeAttribute("aria-describedby");var h=function(){var e=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),e&&s&&s(t)})))};this.clearTimer(),a?this.delayHideLoop=setTimeout(h,parseInt(a,10)):h()}}},{key:"hideTooltipOnScroll",value:function(t,e){this.hideTooltip(t,e,{isScroll:!0})}},{key:"addScrollListener",value:function(t){var e=this.isCapture(t);window.addEventListener("scroll",this.hideTooltipOnScroll,e)}},{key:"removeScrollListener",value:function(t){var e=this.isCapture(t);window.removeEventListener("scroll",this.hideTooltipOnScroll,e)}},{key:"updatePosition",value:function(){var t=this,e=this.state,n=e.currentEvent,r=e.currentTarget,i=e.place,o=e.desiredPlace,a=e.effect,s=e.offset,u=this.tooltipRef,c=Gt(n,r,u,i,o,a,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,u,i,o,a,s)),c.isNewState)return this.setState(c.newState,(function(){t.updatePosition()}));u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var t=this;return Boolean(Object.keys(this.state.customColors).find((function(e){return"border"!==e&&t.state.customColors[e]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var t=this,r=this.state,i=r.extraClass,o=r.html,a=r.ariaProps,s=r.disable,u=r.uuid,c=this.getTooltipContent(),l=this.isEmptyTip(c),h=ee(this.state.uuid,this.state.customColors,this.state.type,this.state.border),f="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||s||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),p=this.props.wrapper;n.supportedWrappers.indexOf(p)<0&&(p=n.defaultProps.wrapper);var d=[f,i].filter(Boolean).join(" ");if(o){var v="".concat(c,'\n<style aria-hidden="true">').concat(h,"</style>");return e.createElement(p,Pt({className:"".concat(d),id:this.props.id||u,ref:function(e){return t.tooltipRef=e}},a,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:v}}))}return e.createElement(p,Pt({className:"".concat(d),id:this.props.id||u},a,{ref:function(e){return t.tooltipRef=e},"data-id":"tooltip"}),e.createElement("style",{dangerouslySetInnerHTML:{__html:h},"aria-hidden":"true"}),c)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.ariaProps,r=$t(t);return Object.keys(r).some((function(t){return r[t]!==n[t]}))?Rt({},e,{ariaProps:r}):null}}]),n}(e.Component),Ot(mr,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),Ot(mr,"supportedWrappers",["div","span"]),Ot(mr,"displayName","ReactTooltip"),(_r=vr=gr).prototype.bindRemovalTracker=function(){var t=this,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=e){var n=new e((function(e){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===t.state.currentTarget)return void t.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},vr=void(_r.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||vr))||vr)||vr)||vr)||vr)||vr)||vr;const Tr=Er,Ir={form_group:"acotrs_form_groupATdyS"};function Sr(t){var n=t.label,r=t.customClass,i=t.name,o=t.type,a=t.value,s=t.placeholder,u=t.options,c=t.min,l=t.onChange,h=[];return void 0!==u&&Object.keys(u).forEach((function(t,n){h.push(e.createElement("option",{key:n,value:t},u[t]))})),e.createElement("div",{className:Ir.form_group},n&&e.createElement("label",{htmlFor:i,className:Ir.form_label},n),"select"===o&&e.createElement("select",{className:r?"".concat(r," ").concat(Ir.form_control):Ir.form_control,id:i,name:i,type:o,value:a,onChange:l,placeholder:s},h.map((function(t,e){return t}))),"number"===o&&e.createElement("input",{className:r?"".concat(r," ").concat(Ir.form_control):Ir.form_control,id:i,name:i,type:o,value:a,min:c,onChange:l,placeholder:s}),"textarea"===o&&e.createElement("textarea",{className:r?"".concat(r," ").concat(Ir.form_control):Ir.form_control,id:i,name:i,value:a,onChange:l,placeholder:s}),"email"===o&&e.createElement("input",{className:r?"".concat(r," ").concat(Ir.form_control):Ir.form_control,id:i,name:i,type:o,value:a,onChange:l,placeholder:s}),"text"===o&&e.createElement("input",{className:r?"".concat(r," ").concat(Ir.form_control):Ir.form_control,id:i,name:i,type:o,value:a,onChange:l,placeholder:s}))}const Cr=/^[a-z0-9]+(-[a-z0-9]+)*$/,kr=Object.freeze({left:0,top:0,width:16,height:16,rotate:0,vFlip:!1,hFlip:!1});function Nr(t){return{...kr,...t}}const Ar=(t,e,n,r="")=>{const i=t.split(":");if("@"===t.slice(0,1)){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const t=i.pop(),n=i.pop(),o={provider:i.length>0?i[0]:r,prefix:n,name:t};return e&&!Or(o)?null:o}const o=i[0],a=o.split("-");if(a.length>1){const t={provider:r,prefix:a.shift(),name:a.join("-")};return e&&!Or(t)?null:t}if(n&&""===r){const t={provider:r,prefix:"",name:o};return e&&!Or(t,n)?null:t}return null},Or=(t,e)=>!!t&&!(""!==t.provider&&!t.provider.match(Cr)||!(e&&""===t.prefix||t.prefix.match(Cr))||!t.name.match(Cr));function Pr(t,e,n=!1){const r=function e(n,r){if(void 0!==t.icons[n])return Object.assign({},t.icons[n]);if(r>5)return null;const i=t.aliases;if(i&&void 0!==i[n]){const t=i[n],o=e(t.parent,r+1);return o?function(t,e){const n={...t};for(const t in kr){const r=t;if(void 0!==e[r]){const t=e[r];if(void 0===n[r]){n[r]=t;continue}switch(r){case"rotate":n[r]=(n[r]+t)%4;break;case"hFlip":case"vFlip":n[r]=t!==n[r];break;default:n[r]=t}}}return n}(o,t):o}const o=t.chars;return!r&&o&&void 0!==o[n]?e(o[n],r+1):null}(e,0);if(r)for(const e in kr)void 0===r[e]&&void 0!==t[e]&&(r[e]=t[e]);return r&&n?Nr(r):r}function xr(t,e,n){n=n||{};const r=[];if("object"!=typeof t||"object"!=typeof t.icons)return r;t.not_found instanceof Array&&t.not_found.forEach((t=>{e(t,null),r.push(t)}));const i=t.icons;Object.keys(i).forEach((n=>{const i=Pr(t,n,!0);i&&(e(n,i),r.push(n))}));const o=n.aliases||"all";if("none"!==o&&"object"==typeof t.aliases){const n=t.aliases;Object.keys(n).forEach((i=>{if("variations"===o&&function(t){for(const e in kr)if(void 0!==t[e])return!0;return!1}(n[i]))return;const a=Pr(t,i,!0);a&&(e(i,a),r.push(i))}))}return r}const Rr={provider:"string",aliases:"object",not_found:"object"};for(const t in kr)Rr[t]=typeof kr[t];function Dr(t){if("object"!=typeof t||null===t)return null;const e=t;if("string"!=typeof e.prefix||!t.icons||"object"!=typeof t.icons)return null;for(const e in Rr)if(void 0!==t[e]&&typeof t[e]!==Rr[e])return null;const n=e.icons;for(const t in n){const e=n[t];if(!t.match(Cr)||"string"!=typeof e.body)return null;for(const t in kr)if(void 0!==e[t]&&typeof e[t]!=typeof kr[t])return null}const r=e.aliases;if(r)for(const t in r){const e=r[t],i=e.parent;if(!t.match(Cr)||"string"!=typeof i||!n[i]&&!r[i])return null;for(const t in kr)if(void 0!==e[t]&&typeof e[t]!=typeof kr[t])return null}return e}let Lr=Object.create(null);try{const t=window||self;t&&1===t._iconifyStorage.version&&(Lr=t._iconifyStorage.storage)}catch(t){}function Mr(t,e){void 0===Lr[t]&&(Lr[t]=Object.create(null));const n=Lr[t];return void 0===n[e]&&(n[e]=function(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:Object.create(null)}}(t,e)),n[e]}function Fr(t,e){if(!Dr(e))return[];const n=Date.now();return xr(e,((e,r)=>{r?t.icons[e]=r:t.missing[e]=n}))}function jr(t,e){const n=t.icons[e];return void 0===n?null:n}let Ur=!1;function Vr(t){return"boolean"==typeof t&&(Ur=t),Ur}function qr(t){const e="string"==typeof t?Ar(t,!0,Ur):t;return e?jr(Mr(e.provider,e.prefix),e.name):null}function Br(t,e){const n=Ar(t,!0,Ur);if(!n)return!1;return function(t,e,n){try{if("string"==typeof n.body)return t.icons[e]=Object.freeze(Nr(n)),!0}catch(t){}return!1}(Mr(n.provider,n.prefix),n.name,e)}const zr=Object.freeze({inline:!1,width:null,height:null,hAlign:"center",vAlign:"middle",slice:!1,hFlip:!1,vFlip:!1,rotate:0});function Hr(t,e){const n={};for(const r in t){const i=r;if(n[i]=t[i],void 0===e[i])continue;const o=e[i];switch(i){case"inline":case"slice":"boolean"==typeof o&&(n[i]=o);break;case"hFlip":case"vFlip":!0===o&&(n[i]=!n[i]);break;case"hAlign":case"vAlign":"string"==typeof o&&""!==o&&(n[i]=o);break;case"width":case"height":("string"==typeof o&&""!==o||"number"==typeof o&&o||null===o)&&(n[i]=o);break;case"rotate":"number"==typeof o&&(n[i]+=o)}}return n}const Gr=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Wr=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Kr(t,e,n){if(1===e)return t;if(n=void 0===n?100:n,"number"==typeof t)return Math.ceil(t*e*n)/n;if("string"!=typeof t)return t;const r=t.split(Gr);if(null===r||!r.length)return t;const i=[];let o=r.shift(),a=Wr.test(o);for(;;){if(a){const t=parseFloat(o);isNaN(t)?i.push(o):i.push(Math.ceil(t*e*n)/n)}else i.push(o);if(o=r.shift(),void 0===o)return i.join("");a=!a}}function Jr(t){let e="";switch(t.hAlign){case"left":e+="xMin";break;case"right":e+="xMax";break;default:e+="xMid"}switch(t.vAlign){case"top":e+="YMin";break;case"bottom":e+="YMax";break;default:e+="YMid"}return e+=t.slice?" slice":" meet",e}function Qr(t,e){const n={left:t.left,top:t.top,width:t.width,height:t.height};let r,i,o=t.body;[t,e].forEach((t=>{const e=[],r=t.hFlip,i=t.vFlip;let a,s=t.rotate;switch(r?i?s+=2:(e.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),e.push("scale(-1 1)"),n.top=n.left=0):i&&(e.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),e.push("scale(1 -1)"),n.top=n.left=0),s<0&&(s-=4*Math.floor(s/4)),s%=4,s){case 1:a=n.height/2+n.top,e.unshift("rotate(90 "+a.toString()+" "+a.toString()+")");break;case 2:e.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:a=n.width/2+n.left,e.unshift("rotate(-90 "+a.toString()+" "+a.toString()+")")}s%2==1&&(0===n.left&&0===n.top||(a=n.left,n.left=n.top,n.top=a),n.width!==n.height&&(a=n.width,n.width=n.height,n.height=a)),e.length&&(o='<g transform="'+e.join(" ")+'">'+o+"</g>")})),null===e.width&&null===e.height?(i="1em",r=Kr(i,n.width/n.height)):null!==e.width&&null!==e.height?(r=e.width,i=e.height):null!==e.height?(i=e.height,r=Kr(i,n.width/n.height)):(r=e.width,i=Kr(r,n.height/n.width)),"auto"===r&&(r=n.width),"auto"===i&&(i=n.height),r="string"==typeof r?r:r.toString()+"",i="string"==typeof i?i:i.toString()+"";const a={attributes:{width:r,height:i,preserveAspectRatio:Jr(e),viewBox:n.left.toString()+" "+n.top.toString()+" "+n.width.toString()+" "+n.height.toString()},body:o};return e.inline&&(a.inline=!0),a}const Yr=/\sid="(\S+)"/g,Xr="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let $r=0;function Zr(t,e=Xr){const n=[];let r;for(;r=Yr.exec(t);)n.push(r[1]);return n.length?(n.forEach((n=>{const r="function"==typeof e?e(n):e+($r++).toString(),i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+r+"$3")})),t):t}const ti=Object.create(null);function ei(t,e){ti[t]=e}function ni(t){return ti[t]||ti[""]}function ri(t){let e;if("string"==typeof t.resources)e=[t.resources];else if(e=t.resources,!(e instanceof Array&&e.length))return null;return{resources:e,path:void 0===t.path?"/":t.path,maxURL:t.maxURL?t.maxURL:500,rotate:t.rotate?t.rotate:750,timeout:t.timeout?t.timeout:5e3,random:!0===t.random,index:t.index?t.index:0,dataAfterTimeout:!1!==t.dataAfterTimeout}}const ii=Object.create(null),oi=["https://api.simplesvg.com","https://api.unisvg.com"],ai=[];for(;oi.length>0;)1===oi.length||Math.random()>.5?ai.push(oi.shift()):ai.push(oi.pop());function si(t,e){const n=ri(e);return null!==n&&(ii[t]=n,!0)}function ui(t){return ii[t]}ii[""]=ri({resources:["https://api.iconify.design"].concat(ai)});const ci=(t,e)=>{let n=t,r=-1!==n.indexOf("?");return Object.keys(e).forEach((t=>{let i;try{i=function(t){switch(typeof t){case"boolean":return t?"true":"false";case"number":case"string":return encodeURIComponent(t);default:throw new Error("Invalid parameter")}}(e[t])}catch(t){return}n+=(r?"&":"?")+encodeURIComponent(t)+"="+i,r=!0})),n},li={},hi={};let fi=(()=>{let t;try{if(t=fetch,"function"==typeof t)return t}catch(t){}return null})();const pi={prepare:(t,e,n)=>{const r=[];let i=li[e];void 0===i&&(i=function(t,e){const n=ui(t);if(!n)return 0;let r;if(n.maxURL){let t=0;n.resources.forEach((e=>{const n=e;t=Math.max(t,n.length)}));const i=ci(e+".json",{icons:""});r=n.maxURL-t-n.path.length-i.length}else r=0;const i=t+":"+e;return hi[t]=n.path,li[i]=r,r}(t,e));const o="icons";let a={type:o,provider:t,prefix:e,icons:[]},s=0;return n.forEach(((n,u)=>{s+=n.length+1,s>=i&&u>0&&(r.push(a),a={type:o,provider:t,prefix:e,icons:[]},s=n.length),a.icons.push(n)})),r.push(a),r},send:(t,e,n)=>{if(!fi)return void n("abort",424);let r=function(t){if("string"==typeof t){if(void 0===hi[t]){const e=ui(t);if(!e)return"/";hi[t]=e.path}return hi[t]}return"/"}(e.provider);switch(e.type){case"icons":{const t=e.prefix,n=e.icons.join(",");r+=ci(t+".json",{icons:n});break}case"custom":{const t=e.uri;r+="/"===t.slice(0,1)?t.slice(1):t;break}default:return void n("abort",400)}let i=503;fi(t+r).then((t=>{const e=t.status;if(200===e)return i=501,t.json();setTimeout((()=>{n(function(t){return 404===t}(e)?"abort":"next",e)}))})).then((t=>{"object"==typeof t&&null!==t?setTimeout((()=>{n("success",t)})):setTimeout((()=>{n("next",i)}))})).catch((()=>{n("next",i)}))}};const di=Object.create(null),vi=Object.create(null);function mi(t,e){t.forEach((t=>{const n=t.provider;if(void 0===di[n])return;const r=di[n],i=t.prefix,o=r[i];o&&(r[i]=o.filter((t=>t.id!==e)))}))}let gi=0;var yi={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function bi(t,e,n,r){const i=t.resources.length,o=t.random?Math.floor(Math.random()*i):t.index;let a;if(t.random){let e=t.resources.slice(0);for(a=[];e.length>1;){const t=Math.floor(Math.random()*e.length);a.push(e[t]),e=e.slice(0,t).concat(e.slice(t+1))}a=a.concat(e)}else a=t.resources.slice(o).concat(t.resources.slice(0,o));const s=Date.now();let u,c="pending",l=0,h=null,f=[],p=[];function d(){h&&(clearTimeout(h),h=null)}function v(){"pending"===c&&(c="aborted"),d(),f.forEach((t=>{"pending"===t.status&&(t.status="aborted")})),f=[]}function m(t,e){e&&(p=[]),"function"==typeof t&&p.push(t)}function g(){c="failed",p.forEach((t=>{t(void 0,u)}))}function y(){f.forEach((t=>{"pending"===t.status&&(t.status="aborted")})),f=[]}function b(){if("pending"!==c)return;d();const r=a.shift();if(void 0===r)return f.length?void(h=setTimeout((()=>{d(),"pending"===c&&(y(),g())}),t.timeout)):void g();const i={status:"pending",resource:r,callback:(e,n)=>{!function(e,n,r){const i="success"!==n;switch(f=f.filter((t=>t!==e)),c){case"pending":break;case"failed":if(i||!t.dataAfterTimeout)return;break;default:return}if("abort"===n)return u=r,void g();if(i)return u=r,void(f.length||(a.length?b():g()));if(d(),y(),!t.random){const n=t.resources.indexOf(e.resource);-1!==n&&n!==t.index&&(t.index=n)}c="completed",p.forEach((t=>{t(r)}))}(i,e,n)}};f.push(i),l++,h=setTimeout(b,t.rotate),n(r,e,i.callback)}return"function"==typeof r&&p.push(r),setTimeout(b),function(){return{startTime:s,payload:e,status:c,queriesSent:l,queriesPending:f.length,subscribe:m,abort:v}}}function wi(t){const e=function(t){if(!("object"==typeof t&&"object"==typeof t.resources&&t.resources instanceof Array&&t.resources.length))throw new Error("Invalid Reduncancy configuration");const e=Object.create(null);let n;for(n in yi)void 0!==t[n]?e[n]=t[n]:e[n]=yi[n];return e}(t);let n=[];function r(){n=n.filter((t=>"pending"===t().status))}const i={query:function(t,i,o){const a=bi(e,t,i,((t,e)=>{r(),o&&o(t,e)}));return n.push(a),a},find:function(t){const e=n.find((e=>t(e)));return void 0!==e?e:null},setIndex:t=>{e.index=t},getIndex:()=>e.index,cleanup:r};return i}function _i(){}const Ei=Object.create(null);function Ti(t,e,n){let r,i;if("string"==typeof t){const e=ni(t);if(!e)return n(void 0,424),_i;i=e.send;const o=function(t){if(void 0===Ei[t]){const e=ui(t);if(!e)return;const n={config:e,redundancy:wi(e)};Ei[t]=n}return Ei[t]}(t);o&&(r=o.redundancy)}else{const e=ri(t);if(e){r=wi(e);const n=ni(t.resources?t.resources[0]:"");n&&(i=n.send)}}return r&&i?r.query(e,i,n)().abort:(n(void 0,424),_i)}const Ii={};function Si(){}const Ci=Object.create(null),ki=Object.create(null),Ni=Object.create(null),Ai=Object.create(null);function Oi(t,e){void 0===Ni[t]&&(Ni[t]=Object.create(null));const n=Ni[t];n[e]||(n[e]=!0,setTimeout((()=>{n[e]=!1,function(t,e){void 0===vi[t]&&(vi[t]=Object.create(null));const n=vi[t];n[e]||(n[e]=!0,setTimeout((()=>{if(n[e]=!1,void 0===di[t]||void 0===di[t][e])return;const r=di[t][e].slice(0);if(!r.length)return;const i=Mr(t,e);let o=!1;r.forEach((n=>{const r=n.icons,a=r.pending.length;r.pending=r.pending.filter((n=>{if(n.prefix!==e)return!0;const a=n.name;if(void 0!==i.icons[a])r.loaded.push({provider:t,prefix:e,name:a});else{if(void 0===i.missing[a])return o=!0,!0;r.missing.push({provider:t,prefix:e,name:a})}return!1})),r.pending.length!==a&&(o||mi([{provider:t,prefix:e}],n.id),n.callback(r.loaded.slice(0),r.missing.slice(0),r.pending.slice(0),n.abort))}))})))}(t,e)})))}const Pi=Object.create(null);function xi(t,e,n){void 0===ki[t]&&(ki[t]=Object.create(null));const r=ki[t];void 0===Ai[t]&&(Ai[t]=Object.create(null));const i=Ai[t];void 0===Ci[t]&&(Ci[t]=Object.create(null));const o=Ci[t];void 0===r[e]?r[e]=n:r[e]=r[e].concat(n).sort(),i[e]||(i[e]=!0,setTimeout((()=>{i[e]=!1;const n=r[e];delete r[e];const a=ni(t);if(!a)return void function(){const n=(""===t?"":"@"+t+":")+e,r=Math.floor(Date.now()/6e4);Pi[n]<r&&(Pi[n]=r)}();a.prepare(t,e,n).forEach((n=>{Ti(t,n,((r,i)=>{const a=Mr(t,e);if("object"!=typeof r){if(404!==i)return;const t=Date.now();n.icons.forEach((e=>{a.missing[e]=t}))}else try{const n=Fr(a,r);if(!n.length)return;const i=o[e];n.forEach((t=>{delete i[t]})),Ii.store&&Ii.store(t,r)}catch(t){}Oi(t,e)}))}))})))}const Ri=(t,e)=>{const n=function(t,e=!0,n=!1){const r=[];return t.forEach((t=>{const i="string"==typeof t?Ar(t,!1,n):t;e&&!Or(i,n)||r.push({provider:i.provider,prefix:i.prefix,name:i.name})})),r}(t,!0,Vr()),r=function(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort(((t,e)=>t.provider!==e.provider?t.provider.localeCompare(e.provider):t.prefix!==e.prefix?t.prefix.localeCompare(e.prefix):t.name.localeCompare(e.name)));let r={provider:"",prefix:"",name:""};return t.forEach((t=>{if(r.name===t.name&&r.prefix===t.prefix&&r.provider===t.provider)return;r=t;const i=t.provider,o=t.prefix,a=t.name;void 0===n[i]&&(n[i]=Object.create(null));const s=n[i];void 0===s[o]&&(s[o]=Mr(i,o));const u=s[o];let c;c=void 0!==u.icons[a]?e.loaded:""===o||void 0!==u.missing[a]?e.missing:e.pending;const l={provider:i,prefix:o,name:a};c.push(l)})),e}(n);if(!r.pending.length){let t=!0;return e&&setTimeout((()=>{t&&e(r.loaded,r.missing,r.pending,Si)})),()=>{t=!1}}const i=Object.create(null),o=[];let a,s;r.pending.forEach((t=>{const e=t.provider,n=t.prefix;if(n===s&&e===a)return;a=e,s=n,o.push({provider:e,prefix:n}),void 0===Ci[e]&&(Ci[e]=Object.create(null));const r=Ci[e];void 0===r[n]&&(r[n]=Object.create(null)),void 0===i[e]&&(i[e]=Object.create(null));const u=i[e];void 0===u[n]&&(u[n]=[])}));const u=Date.now();return r.pending.forEach((t=>{const e=t.provider,n=t.prefix,r=t.name,o=Ci[e][n];void 0===o[r]&&(o[r]=u,i[e][n].push(r))})),o.forEach((t=>{const e=t.provider,n=t.prefix;i[e][n].length&&xi(e,n,i[e][n])})),e?function(t,e,n){const r=gi++,i=mi.bind(null,n,r);if(!e.pending.length)return i;const o={id:r,icons:e,callback:t,abort:i};return n.forEach((t=>{const e=t.provider,n=t.prefix;void 0===di[e]&&(di[e]=Object.create(null));const r=di[e];void 0===r[n]&&(r[n]=[]),r[n].push(o)})),i}(e,r,o):Si},Di="iconify2",Li="iconify",Mi="iconify-count",Fi="iconify-version",ji=36e5,Ui={local:!0,session:!0};let Vi=!1;const qi={local:0,session:0},Bi={local:[],session:[]};let zi="undefined"==typeof window?{}:window;function Hi(t){const e=t+"Storage";try{if(zi&&zi[e]&&"number"==typeof zi[e].length)return zi[e]}catch(t){}return Ui[t]=!1,null}function Gi(t,e,n){try{return t.setItem(Mi,n.toString()),qi[e]=n,!0}catch(t){return!1}}function Wi(t){const e=t.getItem(Mi);if(e){const t=parseInt(e);return t||0}return 0}const Ki=()=>{if(Vi)return;Vi=!0;const t=Math.floor(Date.now()/ji)-168;function e(e){const n=Hi(e);if(!n)return;const r=e=>{const r=Li+e.toString(),i=n.getItem(r);if("string"!=typeof i)return!1;let o=!0;try{const e=JSON.parse(i);if("object"!=typeof e||"number"!=typeof e.cached||e.cached<t||"string"!=typeof e.provider||"object"!=typeof e.data||"string"!=typeof e.data.prefix)o=!1;else{const t=e.provider,n=e.data.prefix;o=Fr(Mr(t,n),e.data).length>0}}catch(t){o=!1}return o||n.removeItem(r),o};try{const t=n.getItem(Fi);if(t!==Di)return t&&function(t){try{const e=Wi(t);for(let n=0;n<e;n++)t.removeItem(Li+n.toString())}catch(t){}}(n),void function(t,e){try{t.setItem(Fi,Di)}catch(t){}Gi(t,e,0)}(n,e);let i=Wi(n);for(let t=i-1;t>=0;t--)r(t)||(t===i-1?i--:Bi[e].push(t));Gi(n,e,i)}catch(t){}}for(const t in Ui)e(t)},Ji=(t,e)=>{function n(n){if(!Ui[n])return!1;const r=Hi(n);if(!r)return!1;let i=Bi[n].shift();if(void 0===i&&(i=qi[n],!Gi(r,n,i+1)))return!1;try{const n={cached:Math.floor(Date.now()/ji),provider:t,data:e};r.setItem(Li+i.toString(),JSON.stringify(n))}catch(t){return!1}return!0}Vi||Ki(),Object.keys(e.icons).length&&(e.not_found&&delete(e=Object.assign({},e)).not_found,n("local")||n("session"))};const Qi=/[\s,]+/;function Yi(t,e){e.split(Qi).forEach((e=>{switch(e.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0}}))}function Xi(t,e){e.split(Qi).forEach((e=>{const n=e.trim();switch(n){case"left":case"center":case"right":t.hAlign=n;break;case"top":case"middle":case"bottom":t.vAlign=n;break;case"slice":case"crop":t.slice=!0;break;case"meet":t.slice=!1}}))}function $i(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(t){for(;t<0;)t+=4;return t%4}if(""===n){const e=parseInt(t);return isNaN(e)?0:r(e)}if(n!==t){let e=0;switch(n){case"%":e=25;break;case"deg":e=90}if(e){let i=parseFloat(t.slice(0,t.length-n.length));return isNaN(i)?0:(i/=e,i%1==0?r(i):0)}}return e}const Zi={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img",style:{}},to={...zr,inline:!0};if(Vr(!0),ei("",pi),"undefined"!=typeof document&&"undefined"!=typeof window){Ii.store=Ji,Ki();const t=window;if(void 0!==t.IconifyPreload){const e=t.IconifyPreload;"object"==typeof e&&null!==e&&(e instanceof Array?e:[e]).forEach((t=>{try{"object"!=typeof t||null===t||t instanceof Array||"object"!=typeof t.icons||"string"!=typeof t.prefix||function(t,e){if("object"!=typeof t)return!1;if("string"!=typeof e&&(e="string"==typeof t.provider?t.provider:""),Ur&&""===e&&("string"!=typeof t.prefix||""===t.prefix)){let e=!1;return Dr(t)&&(t.prefix="",xr(t,((t,n)=>{n&&Br(t,n)&&(e=!0)}))),e}!("string"!=typeof t.prefix||!Or({provider:e,prefix:t.prefix,name:"a"}))&&Fr(Mr(e,t.prefix),t)}(t)}catch(t){}}))}if(void 0!==t.IconifyProviders){const e=t.IconifyProviders;if("object"==typeof e&&null!==e)for(let t in e){try{const n=e[t];if("object"!=typeof n||!n||void 0===n.resources)continue;si(t,n)}catch(Qb){}}}}class eo extends e.Component{constructor(t){super(t),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(t){this.state.icon!==t&&this.setState({icon:t})}_checkIcon(t){const e=this.state,n=this.props.icon;if("object"==typeof n&&null!==n&&"string"==typeof n.body)return this._icon="",this._abortLoading(),void((t||null===e.icon)&&this._setData({data:Nr(n)}));let r;if("string"!=typeof n||null===(r=Ar(n,!1,!0)))return this._abortLoading(),void this._setData(null);const i=qr(r);if(null!==i){if(this._icon!==n||null===e.icon){this._abortLoading(),this._icon=n;const t=["iconify"];""!==r.prefix&&t.push("iconify--"+r.prefix),""!==r.provider&&t.push("iconify--"+r.provider),this._setData({data:i,classes:t}),this.props.onLoad&&this.props.onLoad(n)}}else this._loading&&this._loading.name===n||(this._abortLoading(),this._icon="",this._setData(null),this._loading={name:n,abort:Ri([r],this._checkIcon.bind(this,!1))})}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(t){t.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const t=this.props,n=this.state.icon;if(null===n)return t.children?t.children:e.createElement("span",{});let r=t;return n.classes&&(r={...t,className:("string"==typeof t.className?t.className+" ":"")+n.classes.join(" ")}),((t,n,r,i)=>{const o=r?to:zr,a=Hr(o,n),s="object"==typeof n.style&&null!==n.style?n.style:{},u={...Zi,ref:i,style:s};for(let t in n){const e=n[t];if(void 0!==e)switch(t){case"icon":case"style":case"children":case"onLoad":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":a[t]=!0===e||"true"===e||1===e;break;case"flip":"string"==typeof e&&Yi(a,e);break;case"align":"string"==typeof e&&Xi(a,e);break;case"color":s.color=e;break;case"rotate":"string"==typeof e?a[t]=$i(e):"number"==typeof e&&(a[t]=e);break;case"ariaHidden":case"aria-hidden":!0!==e&&"true"!==e&&delete u["aria-hidden"];break;default:void 0===o[t]&&(u[t]=e)}}const c=Qr(t,a);let l=0,h=n.id;"string"==typeof h&&(h=h.replace(/-/g,"_")),u.dangerouslySetInnerHTML={__html:Zr(c.body,h?()=>h+"ID"+l++:"iconifyReact")};for(let t in c.attributes)u[t]=c.attributes[t];return c.inline&&void 0===s.verticalAlign&&(s.verticalAlign="-0.125em"),e.createElement("svg",u)})(n.data,r,t._inline,t._ref)}}e.forwardRef((function(t,n){const r={...t,_ref:n,_inline:!1};return e.createElement(eo,r)}));const no=e.forwardRef((function(t,n){const r={...t,_ref:n,_inline:!0};return e.createElement(eo,r)}));var ro=n(963),io=n(406);function oo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ao(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var __=window.wp.i18n.__,so={"":__("No Sound","lms-conversation"),"juntos-607.mp3":__("Juntos","lms-conversation"),"me-too-603.mp3":__("Me-too","lms-conversation"),"mixkit-doorbell-single-press-333.wav":__("Doorbell Single Press","lms-conversation"),"mixkit-dry-pop-up-notification-alert-2356.wav":__("Dry Pop-up Notification Alert","lms-conversation"),"mixkit-elevator-tone-2863.wav":__("Elevator Tone","lms-conversation"),"mixkit-gaming-lock-2848.wav":__("Gaming Lock","lms-conversation"),"mixkit-sci-fi-click-900.wav":__("Sci Fi Click","lms-conversation"),"mixkit-sci-fi-reject-notification-896.wav":__("Sci Fi Reject Notification","lms-conversation"),"mixkit-software-interface-back-2575.wav":__("Software Interface Back","lms-conversation"),"mixkit-software-interface-remove-2576.wav":__("Software Interface Remove","lms-conversation"),"mixkit-store-door-bell-ring-934.wav":__("Store Door Bell Ring","lms-conversation"),"percussion-sound-614.mp3":__("Percussion Sound","lms-conversation")};function uo(t){var n=oo((0,e.useState)(!1),2),r=n[0],i=(n[1],t.config);return e.createElement(e.Fragment,null,e.createElement("div",{className:ft},e.createElement("div",{className:pt},e.createElement("h2",null,__("General Settings","lms-conversation")),e.createElement("div",null,e.createElement("article",null,__("Enable LMS Conversation","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"enableConversation",className:lt+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"enableConversation",place:"top",effect:"solid"},__("Enable / Disable LMS Conversation for Fornt-end.","lms-conversation")))),e.createElement("label",{className:ut},e.createElement("input",{type:"checkbox",onChange:t.handleUpdate,name:"enable_lms_conversation",value:1,checked:!(void 0===i.enable_lms_conversation||!i.enable_lms_conversation)}),e.createElement("span",{className:ct}))),e.createElement("div",null,e.createElement("article",null,__("Conversation Controller on Course","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"teahcerCapability",className:lt+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"teahcerCapability",place:"top",effect:"solid"},__("Allow Teacher / Author to set Enable / Disable conversation for each course.","lms-conversation")))),e.createElement("label",{className:ut},e.createElement("input",{type:"checkbox",onChange:t.handleUpdate,name:"allow_tacher_capability",value:1,checked:!(void 0===i.allow_tacher_capability||!i.allow_tacher_capability)}),e.createElement("span",{className:ct}))),e.createElement("div",null,e.createElement("article",null,__("Allow user to remove own message","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"removeownmessage",className:lt+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"removeownmessage",place:"top",effect:"solid"},__("Allow chat user to remove their own message.","lms-conversation")))),e.createElement("label",{className:ut},e.createElement("input",{type:"checkbox",onChange:t.handleUpdate,name:"remove_access",value:1,checked:!(void 0===i.remove_access||!i.remove_access)}),e.createElement("span",{className:ct}))),e.createElement("div",null,e.createElement("article",null,__("Notification Sound","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"notificationSound",className:lt+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"notificationSound",place:"top",effect:"solid"},__("Set notification sound for while receive message.","lms-conversation")))),e.createElement(Sr,{type:"select",options:so,name:"notifucation_sound",onChange:t.handleUpdate,value:void 0!==i.notifucation_sound?i.notifucation_sound:""})),e.createElement("div",{className:dt},e.createElement("div",{className:vt},e.createElement("span",{"data-tip":!0,"data-for":"proFeatures"},e.createElement(no,{icon:io.Z}),e.createElement(Tr,{id:"proFeatures",place:"top",effect:"solid"},__("This is a pro feature, please use our pro version for use this feature.","lms-conversation")))),e.createElement("hr",null),e.createElement("h2",null,__("Erased","lms-conversation"),e.createElement("span",null,"(",__("Danger Zone","lms-conversation"),")")),e.createElement("div",null,e.createElement("article",null,__("Allow author to remove course chat message","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"removecourseMssage",className:lt+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"removecourseMssage",place:"right",effect:"solid"},__("If selected, course author well be capable to remove all message from their own course.","lms-conversation")))),e.createElement("label",{className:ut},e.createElement("input",{type:"checkbox",onChange:t.handleUpdate,name:"author_can_remove",value:1,checked:!(void 0===i.author_can_remove||!i.author_can_remove)}),e.createElement("span",{className:ct}))),e.createElement("div",null,e.createElement("article",null,__("Remove entire message","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"removeEntireMessage",className:lt+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"removeEntireMessage",place:"right",effect:"solid"},__("Remove entire message by pressing remove button","lms-conversation")))),e.createElement("div",{className:gt},e.createElement("span",{"data-tip":!0,"data-for":"removeWarning",onClick:function(t){return remove_all_message(t)},className:yt},e.createElement(no,{icon:ro.Z}),e.createElement(Tr,{id:"removeWarning",place:"left",effect:"solid"},__("WARNING: Remove entire message","lms-conversation"))),r&&e.createElement(e.Fragment,null,e.createElement("span",{className:mt},__("Entire message remove successfully.","lms-conversation")))))),e.createElement("button",{className:ht,onClick:t.SaveChanges},e.createElement("span",null,__("Save","lms-conversation"))))))}const co="acotrs_tooltipKRiXe",lo="acotrs_saveBtnypyCS",ho="acotrs_WrapL2byg",fo="acotrs_bodyWrapNVejT",po="acotrs_inputWrapLg3D3",vo="acotrs_rowqsxFx",mo="acotrs_connectedStatusuBu1E",go="acotrs_methodMsggwX2w",yo="acotrs_connectedrzxPp";var bo=n(99);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Pa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function C(t,e,n){this.code=A+t,this.message=e||O[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new C(e.substring(A.length),t.message,t.serverResponse):null}I(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var N,A="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}N=x("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new F((function(){return new B}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t,e){return 0<=z(t,e)}function Q(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function X(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Tt&&e||"",this.b=Et}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===Et?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Et={},Tt={};function It(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(t){s.console&&s.console.error(t.message)}_t=t}else _t=t}return _t}function St(t,e){this.a=e===Ot?t:""}function Ct(t){return t instanceof St&&t.constructor===St?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=wt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new St(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))})))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Pt(t,e){this.a=e===jt?t:""}function xt(t){return t instanceof Pt&&t.constructor===Pt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Pt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t))t=new Pt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new Pt(t,jt):null}return t}function Ft(t){return t instanceof Pt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Pt(t,jt))}var jt={},Ut=new Pt("about:invalid#zClosurez",jt);function Vt(t,e,n){this.a=n===qt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Bt(t,e,n,r){return t=t instanceof Pt?t:Ft(t),e=e||s,n=n instanceof bt?wt(n):n||"",e.open(xt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Gt[" "]=h;var Wt,Kt,Jt=ft("Opera"),Qt=ft("Trident")||ft("MSIE"),Yt=ft("Edge"),Xt=Yt||Qt,$t=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Kt=Z,$t?/rv:([^\);]+)(\)|;)/.exec(Kt):Yt?/Edge\/([\d\.]+)/.exec(Kt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Zt?/WebKit\/(\S+)/.exec(Kt):Jt?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Wt=String(re);break t}}Wt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(Wt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(s.document&&Qt){var se=te();ie=se||(parseInt(Wt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ce=!Qt||9<=Number(ue);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}H(a?$(o):o,r)}}}function me(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){s.setTimeout((function(){throw t}),0)}function ye(t,e){pe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);pe=function(){t.then(_e)}}else pe=function(){var t=_e;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(fe||(fe=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=me(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),fe(t)):s.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new U;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){ge(t)}j(V,t)}be=!1}function Ee(t,e){if(this.a=Te,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=h)try{var n=this;t.call(e,(function(t){Me(n,Ie,t)}),(function(t){if(!(t instanceof ze))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Me(n,Se,t)}))}catch(t){Me(this,Se,t)}}var Te=0,Ie=2,Se=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new F((function(){return new Ce}),(function(t){t.reset()}));function Ne(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof Ee)return t;var e=new Ee(h);return Me(e,Ie,t),e}function Oe(t){return new Ee((function(e,n){n(t)}))}function Pe(t,e,n){Fe(t,e,n,null)||ye(E(e,t))}function xe(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Te)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Te&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Ve(n,i,Se,e)))}t.c=null}else Me(t,Se,e)}function De(t,e){t.b||t.a!=Ie&&t.a!=Se||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=Ne(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ze?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,De(t,i),i.a}function Me(t,e,n){t.a==Te&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Fe(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,je(t),e!=Se||n instanceof ze||function(t,e){t.g=!0,ye((function(){t.g&&Be.call(null,e)}))}(t,n)))}function Fe(t,e,n,r){if(t instanceof Ee)return De(t,Ne(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function je(t){t.i||(t.i=!0,ye(t.fc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(t){Be.call(null,t)}j(ke,e)}function qe(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Le(this,d(t)?t:null,d(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(t=Ee.prototype).na=function(t,e){return(t=Ne(t,t,e)).c=!0,De(this,t),this},t.o=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==Te){var e=new ze(t);ye((function(){Re(this,e)}),this)}},t.Zc=function(t){this.a=Te,Me(this,Ie,t)},t.$c=function(t){this.a=Te,Me(this,Se,t)},t.fc=function(){for(var t;t=Ue(this);)Ve(this,t,this.a,this.h);this.i=!1};var Be=ge;function ze(t){D.call(this,t)}function He(){0!=Ge&&(We[m(this)]=this),this.xa=this.xa,this.oa=this.oa}I(ze,D),ze.prototype.name="cancel";var Ge=0,We={};function Ke(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ge)){var e=m(t);if(0!=Ge&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}He.prototype.xa=!1,He.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Je=Object.freeze||function(t){return t},Qe=!Qt||9<=Number(ue),Ye=Qt&&!ae("9"),Xe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(t){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{Gt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ze,$e);var tn=Je({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++nn,this.va=this.Oa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new rn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=En(n),t&&t[en]?In(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=bn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=En(n),t&&t[en]?Sn(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function mn(t){return t in ln?ln[t]:ln[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return yn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return d(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function Tn(){He.call(this),this.v=new an(this),this.$b=this,this.fb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(t,e,n){if(d(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Nn(t){var e=null;return new Ee((function(n,r){-1==(e=kn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function An(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function On(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(Tn,He),Tn.prototype[en]=!0,Tn.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},Tn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},Tn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;gt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},Tn.prototype.Da=function(){if(Tn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Pn.prototype).V=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Ln?(this.h=void 0!==e?e:t.h,Mn(this,t.f),this.l=t.l,this.a=t.a,Fn(this,t.g),this.c=t.c,jn(this,rr(t.b)),this.i=t.i):t&&(n=String(t).match(Dn))?(this.h=!!e,Mn(this,n[1]||"",!0),this.l=zn(n[2]||""),this.a=zn(n[3]||"",!0),Fn(this,n[4]),this.c=zn(n[5]||"",!0),jn(this,n[6]||"",!0),this.i=zn(n[7]||"")):(this.h=!!e,this.b=new Xn(null,this.h))}function Mn(t,e,n){t.f=n?zn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Hn(e,Qn)),t.b=new Xn(e,t.h))}function Un(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function qn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function Bn(t,e,n,r){var i=new Ln(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&Fn(i,n),r&&(i.c=r),i}function zn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Gn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Hn(e,Wn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Hn(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Jn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Hn(n,Yn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.f;n?Mn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Fn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?jn(e,rr(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Wn=/[#\/\?@]/g,Kn=/[#\?:]/g,Jn=/[#\?]/g,Qn=/[#\?@]/g,Yn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=On(t);if(void 0===e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=An(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){$n(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function er(t,e){return $n(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),$(n)),t.b+=n.length)}function rr(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Xn.prototype).add=function(t,e){$n(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){$n(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){$n(this);var e=[];if("string"==typeof t)er(this,t)&&(e=X(e,this.a.get(ir(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function hr(){var t=Pr();return Qt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||s.window;var n="about:blank";t&&(n=xt(Mt(t)||Ut)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function mr(t){t=t||s.window;try{t.close()}catch(t){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Nr(Pr())==Cr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:Mt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(a=me(document,"A"),"HTMLAnchorElement"),e=e instanceof Pt?e:Ft(e),a.href=xt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=xt(e),a&&(Xt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Vt(t=(r=It())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==s.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function _r(t){return t=t||Pr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Tr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Ir(){return bo.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":bo.Z.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Sr(){var t=Ir();return"ReactNative"===t||"Node"===t}var Cr="Firefox",kr="Chrome";function Nr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Cr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":kr:"Safari"}var Ar={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Nr(i=Pr()):"Worker"===r&&(r=Nr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return s.navigator&&s.navigator.userAgent||""}function xr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=s.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!hr()||!!s.indexedDB}catch(t){return Tr()&&!!s.indexedDB}return!1}function Dr(){return(Lr()||"chrome-extension:"===Mr()||_r())&&!Sr()&&Rr()&&!Tr()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return s.location&&s.location.protocol||null}function Fr(t){return!vr(t=t||Pr())&&Nr(t)!=Cr}function jr(t){return void 0===t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function Br(t){return"Safari"!=Nr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function zr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Hr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Ir(),this.b=vr(t)||"ReactNative"===e}function Gr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Kr(){return!(!xr("fireauth.oauthhelper",s)&&!xr("fireauth.iframe",s))}Hr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Lr()&&"chrome-extension:"!==Mr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Jr,Qr={};function Yr(t){Qr[t]||(Qr[t]=!0,"undefined"!=typeof console&&console.warn)}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Jr=2==Xr.abcd}catch(Kt){Jr=!1}function $r(t,e,n){Jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ai]),$r(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(t){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),$r(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[pi],r=t[vi],i=t[mi];if(t=ri(t[di]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==fi?(e[yi]=n||null,e[wi]=n||null,e[gi]=r):(e[yi]=r||null,e[wi]=r||null,e[gi]=n||null),e[bi]=t||null,$r(this,Ei,i),$r(this,_i,ei(e))}I(ui,ni),ui.prototype.w=function(){var t=ui.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",pi="email",di="mfaInfo",vi="newEmail",mi="requestType",gi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ei="operation";function Ti(t){var e=Vn(t=qn(t),Ii)||null,n=Vn(t,Si)||null,r=Vn(t,Ni)||null;if(r=r&&Oi[r]||null,!e||!n||!r)throw new C("argument-error",Ii+", "+Si+"and "+Ni+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,Ci)||null,languageCode:Vn(t,ki)||null,tenantId:Vn(t,Ai)||null})}var Ii="apiKey",Si="oobCode",Ci="continueUrl",ki="languageCode",Ni="mode",Ai="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ti(t)}catch(t){return null}}function xi(t){var e=t[Fi];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[Vi];var r=n[ji];if(n=n[Ui],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",Vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[qi])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",qi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(e=t[Li])&&"boolean"!=typeof e)throw new C("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",Di+" property must be a non empty string when specified.");this.h=t||null}var Ri="android",Di="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",Fi="url",ji="installApp",Ui="minimumVersion",Vi="packageName",qi="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var zi=null;function Hi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!zi){zi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===zi[o]&&(zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Gi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Wi(t){try{return new Gi(t)}catch(t){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Hi(t))}catch(t){}return null}Gi.prototype.S=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.i};var Ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Yi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Qi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Qi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Qi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Ji},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Xi(t){for(var e in Yi)if(Yi[e].fa==t)return Yi[e];return null}function $i(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=ao;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if(void 0!==t[Zi])return new eo(t)}catch(t){}return null}var Zi="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Zi]){var n=Wi(t[Zi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function no(t){eo.call(this,t),$r(this,"profile",ei((t=Vr(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function so(t){var e=qn(t),n=Vn(e,"link"),r=Vn(qn(n),"link");return e=Vn(e,"deep_link_id"),Vn(qn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:lo}I(no,eo),I(ro,no),I(io,no),I(oo,no),I(ao,no);var co="enroll",lo="signin";function ho(){}function fo(t,e){return t.then((function(t){if(t[ns]){var n=Wi(t[ns]);if(!n||e!=n.h)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new C("user-mismatch"):t}))}function po(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function vo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function mo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(t){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function yo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function wo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(t){}}return null}function _o(t,e){this.Pc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Xi(t)||{}).Ja||null,this.nb=null}function Eo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,t,[])}function To(t){_o.call(this,t,Qi),this.a=[]}function Io(){To.call(this,"facebook.com")}function So(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function Co(){To.call(this,"github.com")}function ko(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function No(){To.call(this,"google.com"),this.Ca("profile")}function Ao(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new No).credential({idToken:n,accessToken:e})}function Oo(){_o.call(this,"twitter.com",Ji)}function Po(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ro(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Do(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Lo(t,e){if(!(e=Mo(e)))throw new C("argument-error","Invalid email link!");return new xo(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Mo(t){return(t=Pi(t=so(t)))&&t.operation===hi?t:null}function Fo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new C("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function jo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Fo(e)}return null}function Uo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Vo(t){try{this.a=t||bo.Z.auth()}catch(t){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function qo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Fo({cb:t,bb:e})}function Bo(t){if(t.temporaryProof&&t.phoneNumber)return new Fo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Ao(o,n);case"facebook.com":return So(n);case"github.com":return ko(n);case"twitter.com":return Po(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new po(e,a):new go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new To(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function zo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Ho(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Go(t){return(t=t||{}).type?new Ho(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Wo(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ja=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},po.prototype.ja=function(t){return Is(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ss(t,n)},po.prototype.c=function(t,e){return fo(Cs(t,vo(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ja=function(t){return Is(t,yo(this))},go.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Ss(t,n)},go.prototype.c=function(t,e){return fo(Cs(t,yo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},_o.prototype.Ka=function(t){return this.Hb=vt(t),this},I(Eo,_o),I(To,_o),To.prototype.Ca=function(t){return J(this.a,t)||this.a.push(t),this},To.prototype.Pb=function(){return $(this.a)},To.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},I(Io,To),$r(Io,"PROVIDER_ID","facebook.com"),$r(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Co,To),$r(Co,"PROVIDER_ID","github.com"),$r(Co,"GITHUB_SIGN_IN_METHOD","github.com"),I(No,To),$r(No,"PROVIDER_ID","google.com"),$r(No,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Oo,_o),$r(Oo,"PROVIDER_ID","twitter.com"),$r(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ja=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?su(t,Ds,{email:this.a,oobCode:this.f}):su(t,nu,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?su(t,Ls,{idToken:e,email:this.a,oobCode:this.f}):su(t,Js,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return fo(this.ja(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Do,{PROVIDER_ID:"password"}),Zr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ja=function(t){return t.eb(Uo(this))},Fo.prototype.b=function(t,e){var n=Uo(this);return n.idToken=e,su(t,iu,n)},Fo.prototype.c=function(t,e){var n=Uo(this);return n.operation="REAUTH",fo(t=su(t,ou,n),e)},Fo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Vo.prototype.eb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=v(t)?t.session:null,a=v(t)?t.phoneNumber:t;return i=o&&o.type==co?o.Ha().then((function(t){return function(t,e){return su(t,Ys,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==lo?o.Ha().then((function(e){return function(t,e){return su(t,Xs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return su(t,Ws,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Zr(Vo,{PROVIDER_ID:"phone"}),Zr(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Ho.prototype.S=function(){return this.i},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Ko,Jo=null;function Qo(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.f)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Yo(t,e,n){C.call(this,t,n),(t=e||{}).Ib&&$r(this,"email",t.Ib),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.Yb&&$r(this,"tenantId",t.Yb)}function Xo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Bo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function $o(){}function Zo(t){return t.c||(t.c=t.b())}function ta(){}function ea(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function na(){}function ra(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.pc,this),this.a.onerror=_(this.Rb,this),this.a.onprogress=_(this.qc,this),this.a.ontimeout=_(this.uc,this)}function ia(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function oa(t,e,n){this.reset(t,e,n,void 0,void 0)}I(Qo,C),I(Yo,C),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,I(ta,$o),ta.prototype.a=function(){var t=ea(this);return t?new ActiveXObject(t):new XMLHttpRequest},ta.prototype.b=function(){var t={};return ea(this)&&(t[0]=!0,t[1]=!0),t},Ko=new ta,I(na,$o),na.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ra;throw Error("Unsupported browser")},na.prototype.b=function(){return{}},(t=ra.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ia(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",ia(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,ia(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},oa.prototype.a=null;function aa(t){this.f=t,this.b=this.c=this.a=null}function sa(t,e){this.name=t,this.value=e}oa.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||T(),delete this.a},sa.prototype.toString=function(){return this.name};var ua=new sa("SEVERE",1e3),ca=new sa("WARNING",900),la=new sa("CONFIG",700),ha=new sa("FINE",500);function fa(t){return t.c?t.c:t.a?fa(t.a):(M("Root logger has no level set."),null)}aa.prototype.log=function(t,e,n){if(t.value>=fa(this).value)for(d(e)&&(e=e()),t=new oa(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var pa={},da=null;function va(t){var e;if(da||(da=new aa(""),pa[""]=da,da.c=la),!(e=pa[t])){e=new aa(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=va(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,pa[t]=e}return e}function ma(t,e){t&&t.log(ha,e,void 0)}function ga(t){this.f=t}function ya(t){Tn.call(this),this.u=t,this.i=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ga,$o),ga.prototype.a=function(){return new ya(this.f)},ga.prototype.b=function(t){return function(){return t}}({}),I(ya,Tn);var ba=0;function wa(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function _a(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ea(t)}function Ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ta(t){Tn.call(this),this.headers=new Pn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.R=!1}(t=ya.prototype).open=function(t,e){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ea(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ba},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,wa(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?_a(this):Ea(this),3==this.readyState&&wa(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,_a(this))},t.rc=function(t){this.a&&(this.response=t,_a(this))},t.Ta=function(t){var e=this.h;e&&e.log(ca,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&_a(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ca,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ca,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),I(Ta,Tn);var Ia="";Ta.prototype.b=va("goog.net.XhrIo");var Sa=/^https?$/i,Ca=["POST","PUT"];function ka(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Ko.a(),t.A=t.O?Zo(t.O):Zo(Ko),t.a.onreadystatechange=_(t.Ub,t);try{ma(t.b,Ma(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return ma(t.b,Ma(t,"Error opening Xhr: "+e.message)),void Aa(t,e)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)H(t,e,void 0);else for(var n=On(t),r=An(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Na,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!J(Ca,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ra(t),0<t.g&&(t.u=function(t){return Qt&&ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ma(t.b,Ma(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=kn(t.Ma,t.g,t)),ma(t.b,Ma(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){ma(t.b,Ma(t,"Send error: "+e.message)),Aa(t,e)}}function Na(t){return"content-type"==t.toLowerCase()}function Aa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,Oa(t),xa(t)}function Oa(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Pa(t){if(t.c&&void 0!==a)if(t.A[1]&&4==Da(t)&&2==La(t))ma(t.b,Ma(t,"Local request error detected and ignored"));else if(t.h&&4==Da(t))kn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Da(t)){ma(t.b,Ma(t,"Request complete")),t.c=!1;try{var e,n=La(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Dn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Sa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Da(t)?t.a.statusText:""}catch(e){ma(t.b,"Can not get status: "+e.message),c=""}t.i=c+" ["+La(t)+"]",Oa(t)}}finally{xa(t)}}}function xa(t,e){if(t.a){Ra(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ua,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ra(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Da(t){return t.a?t.a.readyState:0}function La(t){try{return 2<Da(t)?t.a.status:-1}catch(t){return-1}}function Ma(t,e){return e+" ["+t.P+" "+t.l+" "+La(t)+"]"}function Fa(t){var e=Ja;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function ja(t,e,n){t.a=!0,t.c=n,t.f=!e,Ba(t)}function Ua(t){if(t.a){if(!t.m)throw new za(t);t.m=!1}}function Va(t,e,n,r){t.g.push([e,n,r]),t.a&&Ba(t)}function qa(t){return K(t.g,(function(t){return d(t[1])}))}function Ba(t){if(t.i&&t.a&&qa(t)){var e=t.i,n=Wa[e];n&&(s.clearTimeout(n.a),delete Wa[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(R(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.h=!0)}catch(r){e=r,t.f=!0,qa(t)||(n=!0)}}t.c=e,r&&(u=_(t.v,t,!0),r=_(t.v,t,!1),e instanceof Fa?(Va(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Ga(e),Wa[e.a]=e,t.i=e.a)}function za(){D.call(this)}function Ha(){D.call(this)}function Ga(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=Ta.prototype).Ma=function(){void 0!==a&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",ma(this.b,Ma(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ma(this.b,Ma(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xa(this,!0)),Ta.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?Pa(this):this.Ic())},t.Ic=function(){Pa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ua,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ma(this.b,"Can not get response: "+t.message),null}},Fa.prototype.cancel=function(t){if(this.a)this.c instanceof Fa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Ha(this),Ua(this),ja(this,!1,t))}},Fa.prototype.v=function(t,e){this.h=!1,ja(this,t,e)},Fa.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Va(this,r,(function(t){t instanceof Ha?o.cancel():i(t)})),o.then(t,e,n)},Fa.prototype.$goog_Thenable=!0,I(za,D),za.prototype.message="Deferred has already fired",za.prototype.name="AlreadyCalledError",I(Ha,D),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",Ga.prototype.c=function(){throw delete Wa[this.a],this.b};var Wa={};function Ka(t){var e={},n=e.document||document,r=Ct(t).toString(),i=me(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Fa(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Qa(i,!0);var t=new $a(Xa,"Timeout reached for loading script "+r);Ua(a),ja(a,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Qa(i,e.wd||!1,u),Ua(a),ja(a,!0,null))},i.onerror=function(){Qa(i,!0,u);var t=new $a(Ya,"Error while loading script "+r);Ua(a),ja(a,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Ct(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ja(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Qa(t,!0,this.Ma)}}function Qa(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ya=0,Xa=1;function $a(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Za(t){this.f=t}function ts(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||rs,this.g=vt(t.secureTokenHeaders||is),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||os,this.a=vt(t.firebaseHeaders||as),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=s.XMLHttpRequest||n&&bo.Z.INTERNAL.node&&bo.Z.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new ga(self):Sr()?this.f=new Za(n):this.f=new na,this.b=null}I($a,D),I(Za,$o),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var es,ns="idToken",rs=new Hr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},os=new Hr(3e4,6e4),as={"Content-Type":"application/json"};function ss(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function us(t,e){e&&(t.l=cs("https://securetoken.googleapis.com/v1/token",e),t.i=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=cs("https://identitytoolkit.googleapis.com/v2/",e))}function cs(t,e){return t=qn(t),e=qn(e.url),t.c=t.a+t.c,Mn(t,e.f),t.a=e.a,Fn(t,e.g),t.toString()}function ls(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function hs(t,e,n,r,i,o,a){(function(){var t=Pr();return!((t=Nr(t)!=kr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&ue&&!(9<ue))})()||Tr()?t=_(t.u,t):(es||(es=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ps]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Va(t,null,e,void 0)}(Ka(kt(fs,{onload:ps})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,a)}ts.prototype.S=function(){return this.b},ts.prototype.u=function(t,e,n,r,i,o){if(Tr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ma(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),Sn(a,"ready",(function(){u&&clearTimeout(u),Ke(this)})),Sn(a,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),ka(a,t,n,r,i)};var fs=new bt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),ps="__fcb"+Math.floor(1e6*Math.random()).toString();function ds(t,e,n,r,i,o,a){var s=qn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Ee((function(e,n){hs(t,s.toString(),(function(t){t?t.error?n(cu(t,o||{})):e(t):n(new C("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.m.get())}))}function vs(t){if("string"!=typeof(t=t.email)||!br.test(t))throw new C("invalid-email")}function ms(t){"email"in t&&vs(t)}function gs(t){if(!t[ns]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,vt(t));throw new C("internal-error")}}function ys(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}ts.prototype.s=function(t,e,n,r,i){var o=this;es.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ts.prototype.yb=function(){return su(this,Qs,{})},ts.prototype.Ab=function(t,e){return su(this,Ks,{idToken:t,email:e})},ts.prototype.Bb=function(t,e){return su(this,Js,{idToken:t,password:e})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function _s(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function Es(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ts(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Xo(t)):t.errorMessage&&(e=uu(t.errorMessage)),e)throw e;gs(t)}function Is(t,e){return e.returnIdpCredential=!0,su(t,$s,e)}function Ss(t,e){return e.returnIdpCredential=!0,su(t,tu,e)}function Cs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,su(t,Zs,e)}function ks(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=ts.prototype).Cb=function(t,e){var n={idToken:t},r=[];return pt(bs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),su(this,Ks,n)},t.ub=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),su(this,Bs,t)},t.vb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),su(this,Us,t)},t.tb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),su(this,Vs,t)},t.Db=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),su(this,qs,t)},t.eb=function(t){return su(this,ru,t)},t.mb=function(t,e){return su(this,Gs,{oobCode:t,newPassword:e})},t.Qa=function(t){return su(this,As,{oobCode:t})},t.ib=function(t){return su(this,Ns,{oobCode:t})};var Ns={endpoint:"setAccountInfo",B:ks,Z:"email",C:!0},As={endpoint:"resetPassword",B:ks,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},C:!0},Os={endpoint:"signupNewUser",B:function(t){if(vs(t),!t.password)throw new C("weak-password")},F:gs,U:!0,C:!0},Ps={endpoint:"createAuthUri",C:!0},xs={endpoint:"deleteAccount",M:["idToken"]},Rs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new C("internal-error")}},Ds={endpoint:"emailLinkSignin",M:["email","oobCode"],B:vs,F:gs,U:!0,C:!0},Ls={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:vs,F:gs,U:!0},Ms={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ws,F:gs,C:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ws,F:gs,C:!0,Na:!0},js={endpoint:"getAccountInfo"},Us={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");vs(t)},Z:"email",C:!0},Vs={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",C:!0},qs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",C:!0},Bs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");vs(t)},Z:"email",C:!0},zs={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Hs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Gs={endpoint:"resetPassword",B:ks,Z:"email",C:!0},Ws={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ks={endpoint:"setAccountInfo",M:["idToken"],B:ms,U:!0},Js={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ms(t),!t.password)throw new C("weak-password")},F:gs,U:!0},Qs={endpoint:"signupNewUser",F:gs,U:!0,C:!0},Ys={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},C:!0,Na:!0},Xs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},C:!0,Na:!0},$s={endpoint:"verifyAssertion",B:_s,Xa:Es,F:Ts,U:!0,C:!0},Zs={endpoint:"verifyAssertion",B:_s,Xa:Es,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw uu(t.errorMessage);gs(t)},U:!0,C:!0},tu={endpoint:"verifyAssertion",B:function(t){if(_s(t),!t.idToken)throw new C("internal-error")},Xa:Es,F:Ts,U:!0},eu={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new C("invalid-custom-token")},F:gs,U:!0,C:!0},nu={endpoint:"verifyPassword",B:function(t){if(vs(t),!t.password)throw new C("wrong-password")},F:gs,U:!0,C:!0},ru={endpoint:"verifyPhoneNumber",B:ys,F:gs,C:!0},iu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new C("internal-error");ys(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Xo(t);gs(t)}},ou={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ys,F:gs,C:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[ns]^!!t.refreshToken)throw new C("internal-error")},C:!0,Na:!0};function su(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Oe(new C("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ae(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ds(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]}))}function uu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=jr(t)),new C("internal-error",e)}function lu(t){this.b=t,this.a=null,this.qb=function(t){return(du||(du=new Ee((function(t,e){function n(){zr(),xr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){zr(),e(Error("Network Error"))},timeout:fu.get()})}if(xr("gapi.iframes.Iframe"))t();else if(xr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){xr("gapi.load")?n():e(Error("Network Error"))},Ae(Ka(r=kt(hu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw du=null,t})))).then((function(){return new Ee((function(e,n){xr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),pu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var hu=new bt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),fu=new Hr(3e4,6e4),pu=new Hr(5e3,15e3),du=null;function vu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,this.g?t=Bn((t=qn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Bn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.i),Un(this.a,"appName",this.h),this.b=null,this.c=[]}function mu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function gu(t){try{return bo.Z.app(t).auth().Ga()}catch(t){return[]}}function yu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function bu(t){var e=fr();return function(t){return su(t,zs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Qo(fr())}))}function wu(t){return t.v||(t.v=wr().then((function(){if(!t.u){var e=t.c,n=t.h,r=gu(t.b),i=new vu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.m=new lu(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.v}function _u(t){return t.l||(t.A=t.c?Or(t.c,gu(t.b)):null,t.l=new ts(t.g,x(t.h),t.A),t.f&&us(t.l,t.f)),t.l}function Eu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new mu(t,e,n,r,i,h)).l=o,t.g=a,t.h=s,t.b=vt(u||null),t.f=c,t.xb(l).toString()}function Tu(t){if(this.a=t||bo.Z.INTERNAL.reactNative&&bo.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=_(this.c,this)}vu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},mu.prototype.xb=function(t){return this.i=t,this},mu.prototype.toString=function(){if(this.m){var t=qn(this.m.url);t=Bn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Bn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=bo.Z.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=vt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),dt(e)||Un(t,"customParameters",jr(e))}if("function"==typeof this.a.Pb&&((n=this.a.Pb()).length&&Un(t,"scopes",n.join(","))),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.h?Un(t,"v",this.h):tr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(t,a)&&Un(t,a,this.b[a]);return this.i?Un(t,"tid",this.i):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(a=gu(this.c)).length&&Un(t,"fw",a.join(",")),t.toString()},(t=yu.prototype).Nb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return wu(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&mr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){Nn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Nn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Pr();return!Fr(t)&&!Br(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Oe(new C("popup-blocked"));if(a&&!Fr())return this.la().o((function(e){mr(t),i(e)})),r(),Ae();this.a||(this.a=bu(_u(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw mr(t),i(e),e}));return r(),e})).then((function(){(zo(n),a)||pr(Eu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=bu(_u(this)));var i=this;return this.a.then((function(){zo(e),pr(Eu(i.s,i.g,i.b,t,e,fr(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return wu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new C("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){Y(this.i,(function(e){return e==t}))},(t=Tu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Vr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,jr(e)))},t.T=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Su,Cu=[];function ku(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Nu(t){this.a=t}function Au(t){this.c=t,this.b=!1,this.a=[]}function Ou(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Pu(t,c),e})).o((function(e){throw Pu(t,c),e}))}function Pu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function xu(){if(!Mu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;Tr()&&self?(this.m=function(){var t=Tr()?self:null;if(H(Cu,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);Cu.push(e)}return e}(),ku(this.m,"keyChanged",(function(e,n){return qu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:J(e,n.key)}}))})),ku(this.m,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.i=e)&&(t.g=new Au(new Nu(e)),Ou(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&J(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ru(t){return new Ee((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Ru(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.h||(t.h=Ru(t)),t.h}function Lu(t,e){var n=0;return new Ee((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Mu(){try{return!!s.indexedDB}catch(t){return!1}}function Fu(t){return t.objectStore("firebaseLocalStorage")}function ju(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Uu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Vu(t,e){return t.g&&t.i&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Ou(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function qu(t){return Du(t).then((function(t){var e=Fu(ju(t,!1));return e.getAll?Uu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Bu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function zu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Mu()){var t=qr(),r="__sak"+t;return Su||(Su=new xu),(n=Su).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Hu(){this.a={},this.type="inMemory"}function Gu(){if(!function(){var t="Node"==Ir();if(!(t=Wu()||t&&bo.Z.INTERNAL.node&&bo.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Wu()||bo.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Wu(){try{var t=s.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){this.type="nullStorage"}function Ju(){if(!function(){var t="Node"==Ir();if(!(t=Qu()||t&&bo.Z.INTERNAL.node&&bo.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Qu()||bo.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var t=s.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Yu(){var t={};t.Browser=Zu,t.Node=tc,t.ReactNative=ec,t.Worker=nc,this.a=t[Ir()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),xe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Nu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Au.prototype.close=function(){for(;0<this.a.length;)Pu(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n=this,r=!1;return Lu(this,(function(e){return Uu((e=Fu(ju(e,!0))).get(t))})).then((function(i){return Lu(n,(function(o){if(o=Fu(ju(o,!0)),i)return i.value=e,Uu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Uu(o.add(a))}))})).then((function(){return n.c[t]=e,Vu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Lu(this,(function(e){return Uu(Fu(ju(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Lu(this,(function(r){return n=!0,e.b++,Uu(Fu(ju(r,!0)).delete(t))})).then((function(){return delete e.c[t],Vu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=qu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Bu(t),e()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Bu(this)},(t=zu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Hu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.T=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=Gu.prototype).get=function(t){var e=this;return Ae().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=jr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&hn(s.window,"storage",t)},t.ia=function(t){s.window&&dn(s.window,"storage",t)},(t=Ku.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.T=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Ju.prototype).get=function(t){var e=this;return Ae().then((function(){return Vr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=jr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Xu,$u,Zu={D:Gu,ab:Ju},tc={D:Gu,ab:Ju},ec={D:Tu,ab:Ku},nc={D:Gu,ab:Ku},rc={qd:"local",NONE:"none",sd:"session"};function ic(){var t=!(Br(Pr())||!Er()),e=Fr(),n=Rr();this.v=t,this.i=e,this.l=n,this.a={},Xu||(Xu=new Yu),t=Xu;try{this.g=!hr()&&Kr()||!s.indexedDB?new t.a.D:new zu(Tr()?new Hu:new t.a.D)}catch(t){this.g=new Hu,this.i=!0}try{this.h=new t.a.ab}catch(t){this.h=new Hu}this.m=new Hu,this.f=_(this.Xb,this),this.b={}}function oc(){return $u||($u=new ic),$u}function ac(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function sc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function uc(t,e,n){return n=sc(e,n),"local"==e.D&&(t.b[n]=null),ac(t,e.D).T(n)}function cc(t){t.c&&(clearInterval(t.c),t.c=null)}function lc(t){this.a=t,this.b=oc()}(t=ic.prototype).get=function(t,e){return ac(this,t.D).get(sc(t,e))},t.set=function(t,e,n){var r=sc(t,n),i=this,o=ac(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=sc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),dt(this.a)&&(ac(this,"local").ca(this.f),this.i||(hr()||!Kr())&&s.indexedDB||!this.l||function(t){cc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=sc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(ac(this,"local").ia(this.f),cc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ac(this,"local").ia(this.f):cc(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},Qt&&ue&&10==ue&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,_(this.lb,this))},t.lb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var hc,fc={name:"authEvent",D:"local"};function pc(){this.a=oc()}function dc(t,e){this.b=vc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===hc&&(hc=s.Int32Array?new Int32Array(Ec):Ec),this.reset()}I(dc,(function(){this.b=-1}));for(var vc=64,mc=vc-1,gc=[],yc=0;yc<mc;yc++)gc[yc]=0;var bc=X(128,gc);function wc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|hc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function _c(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(wc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(wc(t),i=0)}}t.c=i,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.i):$(this.i)};var Ec=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){dc.call(this,8,Ic)}I(Tc,dc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sc(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new pc,this.g=new lc(this.i),this.f=null,this.b=[],this.a=this.c=null}function Cc(t){return new C("invalid-cordova-configuration",t)}function kc(t){var e=new Tc;_c(e,t),t=[];var n=8*e.g;56>e.c?_c(e,bc,56-e.c):_c(e,bc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(wc(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Nc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ac(t){return t.f||(t.f=t.la().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Oc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=so(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Vr(Vn(o=qn(i),"firebaseError")||null))?k(o):null)?new Ho(r.c,r.b,null,null,o,null,r.S()):new Ho(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Nc(t,i)}))}var n=new Ho("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Nn(500).then((function(){return Oc(t).then((function(){r||Nc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(xr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){}},Jo||(Jo=new Wo),function(t){var e=Jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=xr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Oc(t){var e=null;return function(t){return t.b.get(fc,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,uc((n=t.g).b,fc,n.a)})).then((function(){return e}))}function Pc(t){this.a=t,this.b=oc()}(t=Sc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ee((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof xr("universalLinks.subscribe",s))throw Cc("cordova-universal-links-plugin-fix is not installed");if(void 0===xr("BuildInfo.packageName",s))throw Cc("cordova-plugin-buildinfo is not installed");if("function"!=typeof xr("cordova.plugins.browsertab.openUrl",s))throw Cc("cordova-plugin-browsertab is not installed");if("function"!=typeof xr("cordova.InAppBrowser.open",s))throw Cc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},t.Nb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Ae()},t.Lb=function(){return Oe(new C("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Oe(new C("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ae().then((function(){return zo(e),Ac(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ho(e,r,null,o,new C("no-auth-event"),null,i),u=xr("BuildInfo.packageName",s);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=xr("BuildInfo.displayName",s),l={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Pr().toLowerCase().match(/android/))return Oe(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=kc(o),l.sessionId=o;var h=Eu(t.m,t.h,t.l,e,n,null,r,t.v,l,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(fc,a.w(),e)})).then((function(){var e=xr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=xr("cordova.plugins.browsertab.openUrl",s)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=xr("cordova.InAppBrowser.open",s)))throw new C("invalid-cordova-configuration");e=Pr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){u=function(){var e=xr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Nn(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},l=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Oc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Ac(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ho("unknown",null,null,null,new C("no-auth-event")),t(e))}))},t.Ra=function(t){Y(this.b,(function(e){return e==t}))};var xc={name:"pendingRedirect",D:"session"};function Rc(t){return uc(t.b,xc,t.a)}function Dc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=_(this.s,this),this.b=new Qc,this.A=new tl,this.g=new Pc(Kc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Lc(this.O,this.m,this.v,N,this.G)}function Lc(t,e,n,r,i){var o=bo.Z.SDK_VERSION||null;return _r()?new Sc(t,e,n,o,r,i):new yu(t,e,n,o,r,i)}function Mc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function Fc(t){t.a.Wb()&&Mc(t).o((function(e){var n=new Ho("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));zc(e)&&t.s(n)})),t.a.Sb()||Yc(t.b)}function jc(t,e){J(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(xc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Rc(t.g).then((function(){Mc(t).o((function(e){var n=new Ho("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));zc(e)&&t.s(n)}))})):Fc(t)})).o((function(){Fc(t)}))}function Uc(t,e){Y(t.i,(function(t){return t==e}))}Dc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Lc(this.O,this.m,this.v,null,this.G),this.h={}},Dc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=T()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=T())),e=!0;break}}return Yc(this.b),e};var Vc=new Hr(2e3,1e4),qc=new Hr(3e4,6e4);function Bc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function zc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Hc(t,e,n,r,i){var o;return function(t){return t.b.set(xc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(zc(e))throw new C("operation-not-supported-in-this-environment");return o=e,Rc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new Ee((function(){})):Rc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Gc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Vc.get())}Dc.prototype.qa=function(){return this.b.qa()};var Wc={};function Kc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Jc(t,e,n,r){var i=Kc(e,n,r);return Wc[i]||(Wc[i]=new Dc(t,e,n,r)),Wc[i]}function Qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Yc(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function Xc(t){t.g&&!t.h&&Zc(t,!1,null,null)}function $c(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):$c(t,n):$c(t,{user:null}),t.f=[],t.c=[]}function tl(){}function el(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function nl(t,e){this.a=e,$r(this,"verificationId",t)}function rl(t,e,n,r){return new Vo(t).eb(e,n).then((function(t){return new nl(t,r)}))}function il(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ol(t,e,n){var r=e&&e[sl];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;H(e[al]||[],(function(t){(t=ri(t))&&i.b.push(t)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qc.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Zc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Zc(t,s,e,null)})).o((function(e){Zc(t,s,null,e)}))}(this,t,e):Oe(new C("invalid-auth-event")):(Zc(this,!1,null,null),Ae())}else Oe(new C("invalid-auth-event"))},Qc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=Nn(qc.get()).then((function(){t.b||(t.g=!0,Zc(t,!0,null,e))}))}(t))}))},tl.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):Oe(new C("invalid-auth-event"))}else Oe(new C("invalid-auth-event"))},nl.prototype.confirm=function(t){return t=qo(this.verificationId,t),this.a(t)};var al="mfaInfo",sl="mfaPendingCredential";function ul(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new ol(t,e,n),$r(this,"resolver",this.b)}function cl(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ul(e,t.serverResponse,n,t.message)}catch(t){}return null}function ll(){}function hl(t){$r(this,"factorId",t.fa),this.a=t}function fl(t){if(hl.call(this,t),this.a.fa!=Vo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function pl(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function dl(t,e){this.a=t,this.b=[],this.c=_(this.xc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),vl(this,n)}function vl(t,e){t.b=e,$r(t,"enrolledFactors",e)}function ml(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gl(t,e){t.stop(),t.b=Nn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Gr()||!t?Ae():new Ee((function(n){e=function(){Gr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.i()})).then((function(){gl(t,!0)})).o((function(e){t.h(e)&&gl(t,!1)}))}function yl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function bl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function wl(t,e){t.b=Wi(e[ns]||""),t.a=e.refreshToken,bl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function _l(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?hs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.v.get()):r(new C("internal-error"))}))}(t.f,e).then((function(e){return t.b=Wi(e.access_token),t.a=e.refresh_token,bl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function El(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function Tl(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Il(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=bo.Z.SDK_VERSION?Or(bo.Z.SDK_VERSION):null;this.a=new ts(this.l,x(N),r),t.emulatorConfig&&us(this.a,t.emulatorConfig),this.b=new yl(this.a),xl(this,e[ns]),wl(this.b,e),$r(this,"refreshToken",this.b.a),Ll(this,n||{}),Tn.call(this),this.P=!1,this.s&&Dr()&&(this.h=Jc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new ml((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=_(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.i)},this.ba=null,this.za=function(t){us(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){kl(i,t.f)},this.aa=null,this.N=new dl(this,n),$r(this,"multiFactor",this.N)}function Sl(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&hn(e,"languageCodeChanged",t.Ba)}function Cl(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&hn(e,"emulatorConfigChanged",t.za)}function kl(t,e){t.X=e,ls(t.a,bo.Z.SDK_VERSION?Or(bo.Z.SDK_VERSION,t.X):null)}function Nl(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&hn(e,"frameworkChanged",t.Aa)}function Al(t){try{return bo.Z.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ol(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),hn(t,"tokenChanged",t.$))}function Pl(t){dn(t,"tokenChanged",t.$),t.u.stop()}function xl(t,e){t.ya=e,$r(t,"_lat",e)}function Rl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return xe(e).then((function(){return t}))}function Dl(t){t.h&&!t.P&&(t.P=!0,jc(t.h,t))}function Ll(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new El(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ml(){}function Fl(t){return Ae().then((function(){if(t.A)throw new C("app-deleted")}))}function jl(t){return W(t.providerData,(function(t){return t.providerId}))}function Ul(t,e){e&&(Vl(t,e.providerId),t.providerData.push(e))}function Vl(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function ql(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Bl(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new El(t.a,t.b)}(e.metadata)):$r(t,"metadata",new El),H(e.providerData,(function(e){Ul(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),$r(t,"refreshToken",t.b.a),vl(t.N,e.N.b))}function zl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return su(t.a,js,{idToken:e}).then(_(t.Jc,t))}(t,e).then((function(){return n||ql(t,"isAnonymous",!1),e}))}))}function Hl(t,e){e[ns]&&t.ya!=e[ns]&&(wl(t.b,e),t.dispatchEvent(new pl("tokenChanged")),xl(t,e[ns]),ql(t,"refreshToken",t.b.a))}function Gl(t,e){return zl(t).then((function(){if(J(jl(t),e))return Rl(t).then((function(){throw new C("provider-already-linked")}))}))}function Wl(t,e,n){return ti({user:t,credential:Bo(e),additionalUserInfo:e=$i(e),operationType:n})}function Kl(t,e){return Hl(t,e),t.reload().then((function(){return t}))}function Jl(t,e,n,r,i){if(!Dr())return Oe(new C("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=Xi(n.providerId),a=qr(t.uid+":::"),s=null;(!Fr()||Er())&&t.s&&n.isOAuthProvider&&(s=Eu(t.s,t.l,t.m,e,n,null,a,bo.Z.SDK_VERSION||null,null,null,t.tenantId));var u=gr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Yl(t),!i)return t.I().then((function(){}))})).then((function(){return Bc(t.h,u,e,n,a,!!s,t.tenantId)})).then((function(){return new Ee((function(n,r){t.ma(e,null,new C("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=a,t.c=Gc(t.h,t,e,u,a)}))})).then((function(t){return u&&mr(u),t?ti(t):null})).o((function(t){throw u&&mr(u),t})),Xl(t,r,i)}function Ql(t,e,n,r,i){if(!Dr())return Oe(new C("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=null,a=qr(t.uid+":::");return r=r().then((function(){if(Yl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Rl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(th,t.w(),e.a)),e})).then((function(){return Hc(t.h,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return eh(t.ha);throw o})).then((function(){if(o)throw o})),Xl(t,r,i)}function Yl(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Xl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Oe(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new pl("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Q(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=cl(e.w(),Al(t),_(t.ic,t))),n||e}))}function $l(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[ns]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Ul(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Zl(t){this.a=t,this.b=oc()}ol.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[al],delete n[sl],gt(n,t),e.g(n)}))},I(ul,C),ll.prototype.rb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Uo(t.a)}),su(e,Ms,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Uo(t.a)}),su(e,Fs,n)}))}(this,t,e)},I(hl,ll),I(fl,hl),I(pl,$e),(t=dl.prototype).xc=function(t){vl(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Hl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return su(r,au,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return vl(e,r),Hl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},ml.prototype.start=function(){this.a=this.c,gl(this,!0)},ml.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},yl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},yl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new C("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?_l(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},El.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Il,Tn),Il.prototype.wa=function(t){this.pa=t,ss(this.a,t)},Il.prototype.ka=function(){return this.pa},Il.prototype.Ga=function(){return $(this.X)},Il.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},$r(Il.prototype,"providerId","firebase"),(t=Il.prototype).reload=function(){var t=this;return Xl(this,Fl(this).then((function(){return zl(t).then((function(){return Rl(t)})).then(Ml)})))},t.nc=function(t){return this.I(t).then((function(t){return new il(t)}))},t.I=function(t){var e=this;return Xl(this,Fl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.ya&&(xl(e,t.accessToken),e.dispatchEvent(new pl("tokenChanged"))),ql(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");Ll(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new Tl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ul(this,e[n]);ql(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new pl("userReloaded",{gd:t}))},t.Kc=function(t){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Xl(this,t.c(this.a,this.uid).then((function(t){return Hl(e,t),n=Wl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Xl(this,Gl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Wl(e,t,"link"),Kl(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Xl(this,Gl(this,"phone").then((function(){return rl(Al(n),t,e,_(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Xl(this,Ae().then((function(){return rl(Al(n),t,e,_(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Xl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Hl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Xl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Hl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Xl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Hl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Fl(this);var e=this;return Xl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Hl(e,t),ql(e,"displayName",t.displayName||null),ql(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))})),Rl(e)})).then(Ml))},t.bd=function(t){var e=this;return Xl(this,zl(this).then((function(n){return J(jl(e),t)?function(t,e,n){return su(t,Rs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(jl(e),(function(t){n[t]||Vl(e,t)})),n[Vo.PROVIDER_ID]||$r(e,"phoneNumber",null),Rl(e)})):Rl(e).then((function(){throw new C("no-such-provider")}))})))},t.delete=function(){var t=this;return Xl(this,this.I().then((function(e){return su(t.a,xs,{idToken:e})})).then((function(){t.dispatchEvent(new pl("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Sl(t,null),Cl(t,null),Nl(t,null),t.G=[],t.A=!0,Pl(t),$r(t,"refreshToken",null),t.h&&Uc(t.h,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?_(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?_(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):null},t.Dc=function(t){var e=this;return Jl(this,"linkViaPopup",t,(function(){return Gl(e,t.providerId).then((function(){return Rl(e)}))}),!1)},t.Mc=function(t){return Jl(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Ec=function(t){var e=this;return Ql(this,"linkViaRedirect",t,(function(){return Gl(e,t.providerId)}),!1)},t.Nc=function(t){return Ql(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xl(this,this.I().then((function(n){return Ss(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Wl(i,t,"link"),Kl(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Ae().then((function(){return fo(Cs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Wl(i,t,"reauthenticate"),Hl(i,t),i.f=null,i.reload()})).then((function(){return o}));return Xl(this,a,!0)},t.tb=function(t){var e=this,n=null;return Xl(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Bi(new xi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Xl(this,this.I().then((function(t){return r=t,void 0===e||dt(e)?{}:Bi(new xi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Xl(this,t=fo(Ae(t),n.uid).then((function(t){return e=Wl(n,t,"reauthenticate"),Hl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.N.w()),t};var th={name:"redirectUser",D:"session"};function eh(t){return uc(t.b,th,t.a)}function nh(t){this.a=t,this.b=oc(),this.c=null,this.f=function(t){var e=oh("local"),n=oh("session"),r=oh("none");return function(t,e,n){var r=sc(e,n),i=ac(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Vr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ih,t.a).then((function(t){return t?oh(t):e}))}))}))})).then((function(e){return t.c=e,rh(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(oh("local"),this.a,_(this.g,this))}function rh(t,e){var n,r=[];for(n in rc)rc[n]!==e&&r.push(uc(t.b,oh(rc[n]),t.a));return r.push(uc(t.b,ih,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Pe(t[s],E(o,s),a);else e(i)}))}(r)}nh.prototype.g=function(){var t=this,e=oh("local");ch(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return rh(t,"local").then((function(){t.c=e}))}))}))};var ih={name:"persistence",D:"session"};function oh(t){return{name:"authUser",D:t}}function ah(t,e){return ch(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function sh(t){return ch(t,(function(){return uc(t.b,t.c,t.a)}))}function uh(t,e,n){return ch(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),$l(t||{})}))}))}function ch(t,e){return t.f=t.f.then(e,e),t.f}function lh(t){if(this.m=!1,$r(this,"settings",new el),$r(this,"app",t),!bh(this).options||!bh(this).options.apiKey)throw new C("invalid-api-key");t=bo.Z.SDK_VERSION?Or(bo.Z.SDK_VERSION):null,this.a=new ts(bh(this).options&&bh(this).options.apiKey,x(N),t),this.R=[],this.u=[],this.P=[],this.ac=bo.Z.INTERNAL.createSubscribe(_(this.yc,this)),this.X=void 0,this.bc=bo.Z.INTERNAL.createSubscribe(_(this.zc,this)),gh(this,null),this.l=new nh(bh(this).options.apiKey+":"+bh(this).name),this.G=new Zl(bh(this).options.apiKey+":"+bh(this).name),this.$=Th(this,function(t){var e=bh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(th,t.a).then((function(t){return t&&e&&(t.authDomain=e),$l(t||{})}))}(t.G,bh(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),eh(t.G)}));return Th(t,e)}(t).then((function(){return uh(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ah(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:sh(t.l)}))):null})).then((function(e){gh(t,e||null)}));return Th(t,n)}(this)),this.h=Th(this,function(t){return t.$.then((function(){return vh(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(oh("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=_(this.Yc,this),this.Ba=_(this.da,this),this.ya=_(this.kc,this),this.za=_(this.vc,this),this.Aa=_(this.wc,this),this.b=null,function(t){var e=bh(t).options.authDomain,n=bh(t).options.apiKey;e&&Dr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Jc(e,n,bh(t).name,t.f),jc(t.b,t),wh(t)&&Dl(wh(t)),t.s){Dl(t.s);var r=t.s;r.wa(t.ka()),Sl(r,t),kl(r=t.s,t.N),Nl(r,t),us((r=t.s).a,t.f),Cl(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Fc,this),this.A=0,Tn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function hh(t){$e.call(this,"languageCodeChanged"),this.i=t}function fh(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function ph(t){$e.call(this,"frameworkChanged"),this.f=t}function dh(t){return t.gb||Oe(new C("auth-domain-config-required"))}function vh(t){if(!Dr())return Oe(new C("operation-not-supported-in-this-environment"));var e=dh(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return Th(t,e)}function mh(t,e){var n={};return n.apiKey=bh(t).options.apiKey,n.authDomain=bh(t).options.authDomain,n.appName=bh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new Il(t,e);return n&&(i.ha=n),r&&kl(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return wh(t)&&e.uid==wh(t).uid?(Bl(wh(t),e),t.da(e)):(gh(t,e),Dl(e),t.da(e))})).then((function(){Eh(t)}))}function gh(t,e){wh(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(wh(t),t.Ba),dn(wh(t),"tokenChanged",t.ya),dn(wh(t),"userDeleted",t.za),dn(wh(t),"userInvalidated",t.Aa),Pl(wh(t))),e&&(e.R.push(t.Ba),hn(e,"tokenChanged",t.ya),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.A&&Ol(e)),$r(t,"currentUser",e),e&&(e.wa(t.ka()),Sl(e,t),kl(e,t.N),Nl(e,t),us(e.a,t.f),Cl(e,t))}function yh(t,e){var n=null,r=null;return Th(t,e.then((function(e){return n=Bo(e),r=$i(e),mh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=cl(e.w(),t,_(t.jc,t))),n||e})).then((function(){return ti({user:wh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bh(t){return t.app}function wh(t){return t.currentUser}function _h(t){return wh(t)&&wh(t)._lat||null}function Eh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](_h(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](_h(t))}}function Th(t,e){return t.R.push(e),e.na((function(){Q(t.R,e)})),e}function Ih(){}function Sh(){this.a={},this.b=1e12}nh.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in rc)if(rc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Mu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),ch(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,rh(n,t)})).then((function(){if(n.c=oh(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},I(lh,Tn),I(hh,$e),I(fh,$e),I(ph,$e),(t=lh.prototype).wb=function(t){return Th(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,ss(this.a,this.aa),this.dispatchEvent(new hh(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&console.info,s.document&&!t&&wr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,us(this.a,this.f),this.dispatchEvent(new fh(this.f))}},t.Fc=function(t){this.N.push(t),ls(this.a,bo.Z.SDK_VERSION?Or(bo.Z.SDK_VERSION,this.N):null),this.dispatchEvent(new ph(this.N))},t.Ga=function(){return $(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:bh(this).options.apiKey,authDomain:bh(this).options.authDomain,appName:bh(this).name,currentUser:wh(this)&&wh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?_(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return yh(i,Is(i.a,o))}))},t.Wc=function(t){if(!Dr())return Oe(new C("operation-not-supported-in-this-environment"));var e=this,n=Xi(t.providerId),r=qr(),i=null;(!Fr()||Er())&&bh(this).options.authDomain&&t.isOAuthProvider&&(i=Eu(bh(this).options.authDomain,bh(this).options.apiKey,bh(this).name,"signInViaPopup",t,null,r,bo.Z.SDK_VERSION||null,null,null,this.S(),this.f));var o=gr(i,n&&n.ua,n&&n.ta);return n=dh(this).then((function(n){return Bc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new Ee((function(t,n){e.ma("signInViaPopup",null,new C("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=r,e.c=Gc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&mr(o),t?ti(t):null})).o((function(t){throw o&&mr(o),t})),Th(this,n)},t.Xc=function(t){if(!Dr())return Oe(new C("operation-not-supported-in-this-environment"));var e=this,n=dh(this).then((function(){return function(t){return ch(t,(function(){return t.b.set(ih,t.c.D,t.a)}))}(e.l)})).then((function(){return Hc(e.b,"signInViaRedirect",t,void 0,e.S())}));return Th(this,n)},t.qa=function(){var t=this;return vh(this).then((function(e){return t.b&&Xc(t.b.b),e})).o((function(e){throw t.b&&Xc(t.b.b),e}))},t.cd=function(t){if(!t)return Oe(new C("null-user"));if(this.W!=t.tenantId)return Oe(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=bh(this).options.apiKey,n.authDomain=bh(this).options.authDomain,n.appName=bh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[ns]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Il(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&kl(e,r),Bl(e,t),e}(t,n,e.G,e.Ga());return Th(this,this.h.then((function(){if(bh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return wh(e)&&t.uid==wh(e).uid?(Bl(wh(e),t),e.da(t)):(gh(e,r),Dl(r),e.da(r))})).then((function(){Eh(e)})))},t.zb=function(){var t=this;return Th(this,this.h.then((function(){return t.b&&Xc(t.b.b),wh(t)?(gh(t,null),sh(t.l).then((function(){Eh(t)}))):Ae()})))},t.Yc=function(){var t=this;return uh(this.l,bh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=wh(t)&&e){n=wh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Bl(wh(t),e),wh(t).I();(wh(t)||e)&&(gh(t,e),e&&(Dl(e),e.ha=t.G),t.b&&jc(t.b,t),Eh(t))}}))},t.da=function(t){return ah(this.l,t)},t.kc=function(){Eh(this),this.da(wh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then((function(){return yh(e,Ae(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(wh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),Th(t,t.h.then((function(){!t.m&&J(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(_h(t)))})))}(this,(function(){t.next(wh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(wh(r)):"function"==typeof t.next&&t.next(wh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(wh(r)):"function"==typeof t.next&&t.next(wh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return Th(this,this.h.then((function(){return wh(e)?wh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.h.then((function(){return yh(e,su(e.a,eu,{token:t}))})).then((function(t){var n=t.user;return ql(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.h.then((function(){return yh(n,su(n.a,nu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return yh(n,su(n.a,Os,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.h.then((function(){return yh(e,t.ja(e.a))}))},t.Rc=function(t){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then((function(){var e=wh(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yh(t,t.a.yb()).then((function(e){var n=e.user;return ql(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return wh(this)&&wh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&wh(this)&&Ol(wh(this))},t.Oc=function(t){var e=this;H(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&wh(this)&&Pl(wh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),Th(this,this.h.then((function(){e.m||J(e.u,t)&&t(_h(e))})))},t.removeAuthTokenListener=function(t){Y(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(oh("local"),t.a,this.pa),this.b&&(Uc(this.b,this),Xc(this.b.b)),Promise.resolve()},t.gc=function(t){return Th(this,function(t,e){return su(t,Ps,{identifier:e,continueUri:Lr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Mo(t)},t.vb=function(t,e){var n=this;return Th(this,Ae().then((function(){var t=new xi(e);if(!t.c)throw new C("argument-error",Li+" must be true when sending sign in link to email");return Bi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return Th(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return Th(this,this.a.Qa(t).then((function(t){return new ci(t)})))},t.ib=function(t){return Th(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return Th(this,Ae().then((function(){return void 0===e||dt(e)?{}:Bi(new xi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return Th(this,rl(this,t,e,_(this.Za,this)))},t.Uc=function(t,e){var n=this;return Th(this,Ae().then((function(){var r=e||fr(),i=Lo(t,r);if(!(r=Mo(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new C("tenant-id-mismatch");return n.Za(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Ch=null;function kh(t,e){return(e=Nh(e))&&t.a[e]||null}function Nh(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ah(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=le(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():hn(this.f,"click",this.h)}function Oh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ph(){}function xh(){}Sh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ah(t,e),this.b++},Sh.prototype.reset=function(t){var e=kh(this,t);t=Nh(t),e&&t&&(e.delete(),delete this.a[t])},Sh.prototype.getResponse=function(t){return(t=kh(this,t))?t.getResponse():null},Sh.prototype.execute=function(t){(t=kh(this,t))&&t.execute()},Ah.prototype.getResponse=function(){return Oh(this),this.b},Ah.prototype.execute=function(){Oh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.i&&t.execute()}),6e4)}),500))},Ah.prototype.delete=function(){Oh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.h)},$r(Ph,"FACTOR_ID","phone"),xh.prototype.g=function(){return Ch||(Ch=new Sh),Ae(Ch)},xh.prototype.c=function(){};var Rh=null;function Dh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Lh=new bt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Mh=new Hr(3e4,6e4);Dh.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),Mh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete s[e.a]},Ae(Ka(kt(Lh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Dh.prototype.c=function(){this.b--};var Fh=null;function jh(t,e,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Rh||(Rh=new xh),a=Rh):(Fh||(Fh=new Dh),a=Fh),this.v=a,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[qh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Bh],!s.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.h&&le(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ts(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Uh];this.a[Uh]=function(t){if(zh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=xr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Vh];this.a[Vh]=function(){if(zh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=xr(l,s);"function"==typeof t&&t()}}}var Uh="callback",Vh="expired-callback",qh="sitekey",Bh="size";function zh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Hh(t,e){return t.i.push(e),e.na((function(){Q(t.i,e)})),e}function Gh(t){if(t.A)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Wh(t,e,n){var r=!1;try{this.b=n||bo.Z.app()}catch(t){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=bo.Z.SDK_VERSION?Or(bo.Z.SDK_VERSION,o):null,jh.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,x(N),r)}function Kh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Jh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=jh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Hh(this,Ae().then((function(){if(Lr()&&!Tr())return wr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,su(t.s,Hs,{})})).then((function(e){t.a[qh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Gh(this);var t=this;return Hh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=me(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Gh(this);var t=this;return Hh(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}}))})))},t.reset=function(){Gh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Gh(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=le(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Wh,jh);var Jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Yh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Xh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function $h(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Zh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function tf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function ef(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function nf(t){return v(t)&&"string"==typeof t.uid}function rf(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function of(t,e){for(var n in e){var r=e[n].name;t[r]=uf(r,t[n],e[n].j)}}function af(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Kh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function sf(t,e,n,r){t[e]=uf(e,n,r)}function uf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Kh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}of(lh.prototype,{ib:{name:"applyActionCode",j:[Qh("code")]},Qa:{name:"checkActionCode",j:[Qh("code")]},mb:{name:"confirmPasswordReset",j:[Qh("code"),Qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qh("email"),Qh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Qh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Qh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[rf(Xh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[rf(Xh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Qh("email"),rf(Xh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Qh("email"),Xh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Qh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[tf()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[tf()]},Sc:{name:"signInWithCustomToken",j:[Qh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Qh("email"),Qh("password")]},Uc:{name:"signInWithEmailLink",j:[Qh("email"),Qh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[rf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Il)}},Zh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Qh("url"),Xh("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Qh("code")]}}),af(lh.prototype,{lc:{name:"languageCode",jb:rf(Qh(),Zh(),"languageCode")},ti:{name:"tenantId",jb:rf(Qh(),Zh(),"tenantId")}}),lh.Persistence=rc,lh.Persistence.LOCAL="local",lh.Persistence.SESSION="session",lh.Persistence.NONE="none",of(Il.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Yh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Yh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[tf()]},pb:{name:"linkWithCredential",j:[tf()]},Cc:{name:"linkWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[tf()]},sb:{name:"reauthenticateWithCredential",j:[tf()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[rf(Xh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},bd:{name:"unlink",j:[Qh("provider")]},Ab:{name:"updateEmail",j:[Qh("email")]},Bb:{name:"updatePassword",j:[Qh("password")]},dd:{name:"updatePhoneNumber",j:[tf("phone")]},Cb:{name:"updateProfile",j:[Xh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Qh("email"),rf(Xh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]}}),of(Sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),of(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),of(Ee.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),af(el.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Yh("appVerificationDisabledForTesting")}}),of(nl.prototype,{confirm:{name:"confirm",j:[Qh("verificationCode")]}}),sf(ho,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[wo,Ro,jo,mo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[rf(Qh(),Xh(),"json")]),sf(Do,"credential",(function(t,e){return new xo(t,e)}),[Qh("email"),Qh("password")]),of(xo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),of(Io.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(Io,"credential",So,[rf(Qh(),Xh(),"token")]),sf(Do,"credentialWithLink",Lo,[Qh("email"),Qh("emailLink")]),of(Co.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(Co,"credential",ko,[rf(Qh(),Xh(),"token")]),of(No.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(No,"credential",Ao,[rf(Qh(),rf(Xh(),Zh()),"idToken"),rf(Qh(),Zh(),"accessToken",!0)]),of(Oo.prototype,{Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(Oo,"credential",Po,[rf(Qh(),Xh(),"token"),Qh("secret",!0)]),of(To.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},credential:{name:"credential",j:[rf(Qh(),rf(Xh(),Zh()),"optionsOrIdToken"),rf(Qh(),Zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),of(go.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),of(po.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),sf(Vo,"credential",qo,[Qh("verificationId"),Qh("verificationCode")]),of(Vo.prototype,{eb:{name:"verifyPhoneNumber",j:[rf(Qh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?ef(t.session,co)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?ef(t.session,lo)&&nf(t.multiFactorHint):t.session&&t.multiFactorUid?ef(t.session,lo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),of(Fo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),of(C.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),of(Yo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),of(Qo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),of(ul.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),of(ol.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),of(dl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Qh("displayName",!0)]},ad:{name:"unenroll",j:[rf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:nf},Qh(),"multiFactorInfoIdentifier")]}}),of(Wh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sf(Ti,"parseLink",Pi,[Qh("link")]),sf(Ph,"assertion",(function(t){return new fl(t)}),[tf("phone")]),function(){if(void 0===bo.Z||!bo.Z.INTERNAL||!bo.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:lh,AuthCredential:ho,Error:C};sf(t,"EmailAuthProvider",Do,[]),sf(t,"FacebookAuthProvider",Io,[]),sf(t,"GithubAuthProvider",Co,[]),sf(t,"GoogleAuthProvider",No,[]),sf(t,"TwitterAuthProvider",Oo,[]),sf(t,"OAuthProvider",To,[Qh("providerId")]),sf(t,"SAMLAuthProvider",Eo,[Qh("providerId")]),sf(t,"PhoneAuthProvider",Vo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof lh)}}]),sf(t,"RecaptchaVerifier",Wh,[rf(Qh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Xh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof bo.Z.app.App)}}]),sf(t,"ActionCodeURL",Ti,[]),sf(t,"PhoneMultiFactorGenerator",Ph,[]),bo.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new lh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),bo.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.mc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),bo.Z.registerVersion("@firebase/auth","0.16.1"),bo.Z.INTERNAL.extendNamespace({User:Il})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});n(446);var wo=n(594),_o=n(589),Eo=function(t,e){return Eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Eo(t,e)};function To(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Io,So="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Co=Co||{},ko=So||self;function No(){}function Ao(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Oo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Po="closure_uid_"+(1e9*Math.random()>>>0),xo=0;function Ro(t,e,n){return t.call.apply(t.bind,arguments)}function Do(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Lo(t,e,n){return(Lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ro:Do).apply(null,arguments)}function Mo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Fo(){return Date.now()}function jo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Uo(){this.j=this.j,this.i=this.i}Uo.prototype.j=!1,Uo.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,Po)&&t[Po]||(t[Po]=++xo)})(this)},Uo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Vo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},qo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Bo(t){return Array.prototype.concat.apply([],arguments)}function zo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ho(t){return/^[\s\xa0]*$/.test(t)}var Go,Wo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ko(t,e){return-1!=t.indexOf(e)}function Jo(t,e){return t<e?-1:t>e?1:0}t:{var Qo=ko.navigator;if(Qo){var Yo=Qo.userAgent;if(Yo){Go=Yo;break t}}Go=""}function Xo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function $o(t){var e={};for(var n in t)e[n]=t[n];return e}var Zo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ta(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Zo.length;o++)n=Zo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ea(t){return ea[" "](t),t}ea[" "]=No;var na,ra,ia=Ko(Go,"Opera"),oa=Ko(Go,"Trident")||Ko(Go,"MSIE"),aa=Ko(Go,"Edge"),sa=aa||oa,ua=Ko(Go,"Gecko")&&!(Ko(Go.toLowerCase(),"webkit")&&!Ko(Go,"Edge"))&&!(Ko(Go,"Trident")||Ko(Go,"MSIE"))&&!Ko(Go,"Edge"),ca=Ko(Go.toLowerCase(),"webkit")&&!Ko(Go,"Edge");function la(){var t=ko.document;return t?t.documentMode:void 0}t:{var ha="",fa=(ra=Go,ua?/rv:([^\);]+)(\)|;)/.exec(ra):aa?/Edge\/([\d\.]+)/.exec(ra):oa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ra):ca?/WebKit\/(\S+)/.exec(ra):ia?/(?:Version)[ \/]?(\S+)/.exec(ra):void 0);if(fa&&(ha=fa?fa[1]:""),oa){var pa=la();if(null!=pa&&pa>parseFloat(ha)){na=String(pa);break t}}na=ha}var da,va={};function ma(t){return function(t,e){var n=va;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Wo(String(na)).split("."),r=Wo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Jo(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Jo(0==a[2].length,0==s[2].length)||Jo(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(ko.document&&oa){var ga=la();da=ga||(parseInt(na,10)||void 0)}else da=void 0;var ya=da,ba=!oa||9<=Number(ya),wa=oa&&!ma("9"),_a=function(){if(!ko.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ko.addEventListener("test",No,e),ko.removeEventListener("test",No,e)}catch(t){}return t}();function Ea(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ta(t,e){if(Ea.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ua){t:{try{ea(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ia[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ea.prototype.b=function(){this.defaultPrevented=!0},jo(Ta,Ea);var Ia={2:"touch",3:"pen",4:"mouse"};Ta.prototype.b=function(){Ta.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,wa)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Sa="closure_listenable_"+(1e6*Math.random()|0),Ca=0;function ka(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ca,this.Y=this.Z=!1}function Na(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Aa(t){this.src=t,this.a={},this.b=0}function Oa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Vo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Na(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Pa(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Aa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Pa(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ka(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var xa="closure_lm_"+(1e6*Math.random()|0),Ra={};function Da(t,e,n,r,i){if(r&&r.once)return Ma(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Da(t,e[o],n,r,i);return null}return n=Ha(n),t&&t[Sa]?t.va(e,n,Oo(r)?!!r.capture:!!r,i):La(t,e,n,!1,r,i)}function La(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Oo(i)?!!i.capture:!!i;if(a&&!ba)return null;var s=Ba(t);if(s||(t[xa]=s=new Aa(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=qa,e=ba?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_a||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ua(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ma(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ma(t,e[o],n,r,i);return null}return n=Ha(n),t&&t[Sa]?t.wa(e,n,Oo(r)?!!r.capture:!!r,i):La(t,e,n,!0,r,i)}function Fa(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Fa(t,e[o],n,r,i);else r=Oo(r)?!!r.capture:!!r,n=Ha(n),t&&t[Sa]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Pa(o=t.a[e],n,r,i))&&(Na(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ba(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Pa(e,n,r,i)),(n=-1<t?e[t]:null)&&ja(n))}function ja(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Sa])Oa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ua(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ba(e))?(Oa(n,t),0==n.b&&(n.src=null,e[xa]=null)):Na(t)}}}function Ua(t){return t in Ra?Ra[t]:Ra[t]="on"+t}function Va(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ja(t),n.call(r,e)}function qa(t,e){if(t.Y)return!0;if(!ba){if(!e)t:{e=["window","event"];for(var n=ko,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Va(t,e=new Ta(e,this))}return Va(t,new Ta(e,this))}function Ba(t){return(t=t[xa])instanceof Aa?t:null}var za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ha(t){return"function"==typeof t?t:(t[za]||(t[za]=function(e){return t.handleEvent(e)}),t[za])}function Ga(){Uo.call(this),this.c=new Aa(this),this.J=this,this.C=null}function Wa(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ea(e,t);else if(e instanceof Ea)e.target=e.target||t;else{var i=e;ta(e=new Ea(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ka(a,r,!0,e)&&i}if(i=Ka(a=e.a=t,r,!0,e)&&i,i=Ka(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ka(a=e.a=n[o],r,!1,e)&&i}function Ka(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Oa(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}jo(Ga,Uo),Ga.prototype[Sa]=!0,(Io=Ga.prototype).addEventListener=function(t,e,n,r){Da(this,t,e,n,r)},Io.removeEventListener=function(t,e,n,r){Fa(this,t,e,n,r)},Io.G=function(){if(Ga.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Na(n[r]);delete e.a[t],e.b--}}this.C=null},Io.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Io.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ja=ko.JSON.stringify;function Qa(){this.b=this.a=null}var Ya,Xa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Za}),(function(t){t.reset()}));function $a(){var t=rs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Za(){this.next=this.b=this.a=null}function ts(t){ko.setTimeout((function(){throw t}),0)}function es(t,e){Ya||function(){var t=ko.Promise.resolve(void 0);Ya=function(){t.then(is)}}(),ns||(Ya(),ns=!0),rs.add(t,e)}Qa.prototype.add=function(t,e){var n=Xa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Za.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Za.prototype.reset=function(){this.next=this.b=this.a=null};var ns=!1,rs=new Qa;function is(){for(var t;t=$a();){try{t.a.call(t.b)}catch(t){ts(t)}var e=Xa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ns=!1}function os(t,e){Ga.call(this),this.b=t||1,this.a=e||ko,this.f=Lo(this.Za,this),this.g=Fo()}function as(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ss(t,e,n){if("function"==typeof t)n&&(t=Lo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Lo(t.handleEvent,t)}return 2147483647<Number(e)?-1:ko.setTimeout(t,e||0)}function us(t){t.a=ss((function(){t.a=null,t.c&&(t.c=!1,us(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}jo(os,Ga),(Io=os.prototype).aa=!1,Io.M=null,Io.Za=function(){if(this.aa){var t=Fo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Wa(this,"tick"),this.aa&&(as(this),this.start()))}},Io.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Fo())},Io.G=function(){os.X.G.call(this),as(this),delete this.a};var cs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function __(){this.constructor=t}Eo(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:us(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ko.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Uo);function ls(t){Uo.call(this),this.b=t,this.a={}}jo(ls,Uo);var hs=[];function fs(t,e,n,r){Array.isArray(n)||(n&&(hs[0]=n.toString()),n=hs);for(var i=0;i<n.length;i++){var o=Da(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ps(t){Xo(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ja(t)}),t),t.a={}}function ds(){this.a=!0}function vs(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ja(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}ls.prototype.G=function(){ls.X.G.call(this),ps(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ds.prototype.info=function(){};var ms={},gs=null;function ys(){return gs=gs||new Ga}function bs(t){Ea.call(this,ms.Fa,t)}function ws(t){var e=ys();Wa(e,new bs(e,t))}function _s(t,e){Ea.call(this,ms.STAT_EVENT,t),this.stat=e}function Es(t){var e=ys();Wa(e,new _s(e,t))}function Ts(t){Ea.call(this,ms.Ga,t)}function Is(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ko.setTimeout((function(){t()}),e)}ms.Fa="serverreachability",jo(bs,Ea),ms.STAT_EVENT="statevent",jo(_s,Ea),ms.Ga="timingevent",jo(Ts,Ea);var Ss={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Cs={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ks(){}function Ns(t){var e;return(e=t.a)||(e=t.a={}),e}function As(){}ks.prototype.a=null;var Os,Ps={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function xs(){Ea.call(this,"d")}function Rs(){Ea.call(this,"c")}function Ds(){}function Ls(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ls(this),this.P=Ms,t=sa?125:void 0,this.R=new os(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}jo(xs,Ea),jo(Rs,Ea),jo(Ds,ks),Os=new Ds;var Ms=45e3,Fs={},js={};function Us(t,e,n){t.H=1,t.i=su(eu(e)),t.j=n,t.I=!0,Vs(t,null)}function Vs(t,e){t.u=Fo(),zs(t),t.l=eu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),wu(n.b,"t",r),t.D=0,t.a=dc(t.g,t.g.C?e:null),0<t.O&&(t.F=new cs(Lo(t.Ca,t,t.a),t.O)),fs(t.J,t.a,"readystatechange",t.Xa),e=t.B?$o(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ws(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function qs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Bs(t,n);if(i==js){4==e&&(t.h=4,Es(14),r=!1),vs(t.c,t.f,null,"[Incomplete Response]");break}if(i==Fs){t.h=4,Es(15),vs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}vs(t.c,t.f,i,null),Js(t,i)}4==e&&0==n.length&&(t.h=1,Es(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ac(e),e.F=!0,Es(11))):(vs(t.c,t.f,n,"[Invalid Chunked Response]"),Ks(t),Ws(t))}function Bs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?js:(n=Number(e.substring(n,r)),isNaN(n)?Fs:(r+=1)+n>e.length?js:(e=e.substr(r,n),t.D=r+n,e))}function zs(t){t.T=Fo()+t.P,Hs(t,t.P)}function Hs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Is(Lo(t.Va,t),e)}function Gs(t){t.o&&(ko.clearTimeout(t.o),t.o=null)}function Ws(t){0==t.g.v||t.A||cc(t.g,t)}function Ks(t){Gs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,as(t.R),ps(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Js(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ku(n.b,t)))if(n.I=t.N,!t.C&&ku(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;uc(n),Xu(n)}oc(n),Es(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Is(Lo(n.Sa,n),6e3));if(1>=Cu(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else hc(n,11)}else if((t.C||n.a==t)&&uc(n),!Ho(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ko(l,"spdy")||Ko(l,"quic")||Ko(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Nu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,au(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Fo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=pc(u,u.C?u.ga:null,u.fa),p.C){Au(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Gs(d),zs(d)),u.a=p}else ic(u);0<n.g.length&&tc(n)}else"stop"!=i[0]&&"close"!=i[0]||hc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?hc(n,7):Yu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ws(4)}catch(t){}}function Qs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ao(t)||"string"==typeof t)qo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ao(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ao(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ys(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ys)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Xs(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];$s(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)$s(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function $s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Io=Ls.prototype).setTimeout=function(t){this.P=t},Io.Xa=function(t){t=t.target;var e=this.F;e&&3==Wu(t)?e.f():this.Ca(t)},Io.Ca=function(t){try{if(t==this.a)t:{var e=Wu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!sa&&!this.a.$())){this.A||4!=e||7==n||ws(8==n||0>=r?3:2),Gs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ho(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Es(12),Ks(this),Ws(this);break t}vs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Js(this,u)}this.I?(qs(this,e,o),sa&&this.b&&3==e&&(fs(this.J,this.R,"tick",this.Wa),this.R.start())):(vs(this.c,this.f,o,null),Js(this,o)),4==e&&Ks(this),this.b&&!this.A&&(4==e?cc(this.g,this):(this.b=!1,zs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Es(12)):(this.h=0,Es(13)),Ks(this),Ws(this)}}}catch(t){}},Io.Wa=function(){if(this.a){var t=Wu(this.a),e=this.a.$();this.D<e.length&&(Gs(this),qs(this,t,e),this.b&&4!=t&&zs(this))}},Io.cancel=function(){this.A=!0,Ks(this)},Io.Va=function(){this.o=null;var t=Fo();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ws(3),Es(17)),Ks(this),this.h=2,Ws(this)):Hs(this,this.T-t)},(Io=Ys.prototype).K=function(){Xs(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Io.L=function(){return Xs(this),this.a.concat()},Io.get=function(t,e){return $s(this.b,t)?this.b[t]:e},Io.set=function(t,e){$s(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Io.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Zs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof tu){this.a=void 0!==e?e:t.a,nu(this,t.f),this.j=t.j,ru(this,t.c),iu(this,t.h),this.g=t.g,e=t.b;var n=new mu;n.c=e.c,e.a&&(n.a=new Ys(e.a),n.b=e.b),ou(this,n),this.i=t.i}else t&&(n=String(t).match(Zs))?(this.a=!!e,nu(this,n[1]||"",!0),this.j=uu(n[2]||""),ru(this,n[3]||"",!0),iu(this,n[4]),this.g=uu(n[5]||"",!0),ou(this,n[6]||"",!0),this.i=uu(n[7]||"")):(this.a=!!e,this.b=new mu(null,this.a))}function eu(t){return new tu(t)}function nu(t,e,n){t.f=n?uu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ru(t,e,n){t.c=n?uu(e,!0):e}function iu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ou(t,e,n){e instanceof mu?(t.b=e,function(t,e){e&&!t.f&&(gu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(yu(this,e),wu(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=cu(e,du)),t.b=new mu(e,t.a))}function au(t,e,n){t.b.set(e,n)}function su(t){return au(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Fo()).toString(36)),t}function uu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,lu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}tu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(cu(e,hu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(cu(e,hu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(cu(n,"/"==n.charAt(0)?pu:fu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",cu(n,vu)),t.join("")};var hu=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,du=/[#\?@]/g,vu=/#/g;function mu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gu(t){t.a||(t.a=new Ys,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function yu(t,e){gu(t),e=_u(t,e),$s(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,$s((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Xs(t)))}function bu(t,e){return gu(t),e=_u(t,e),$s(t.a.b,e)}function wu(t,e,n){yu(t,e),0<n.length&&(t.c=null,t.a.set(_u(t,e),zo(n)),t.b+=n.length)}function _u(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Io=mu.prototype).add=function(t,e){gu(this),this.c=null,t=_u(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Io.forEach=function(t,e){gu(this),this.a.forEach((function(n,r){qo(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Io.L=function(){gu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Io.K=function(t){gu(this);var e=[];if("string"==typeof t)bu(this,t)&&(e=Bo(e,this.a.get(_u(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Bo(e,t[n])}return e},Io.set=function(t,e){return gu(this),this.c=null,bu(this,t=_u(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Io.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Io.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Eu=function(t,e){this.b=t,this.a=e};function Tu(t){this.g=t||Iu,ko.PerformanceNavigationTiming?t=0<(t=ko.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(ko.ia&&ko.ia.ya&&ko.ia.ya()&&ko.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Iu=10;function Su(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Cu(t){return t.b?1:t.a?t.a.size:0}function ku(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Nu(t,e){t.a?t.a.add(e):t.b=e}function Au(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ou(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=To(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return zo(t.c)}function Pu(){}function xu(){this.a=new Pu}function Ru(t,e,n){var r=n||"";try{Qs(t,(function(t,n){var i=t;Oo(t)&&(i=Ja(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Du(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Tu.prototype.cancel=function(){var t,e;if(this.c=Ou(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=To(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Pu.prototype.stringify=function(t){return ko.JSON.stringify(t,void 0)},Pu.prototype.parse=function(t){return ko.JSON.parse(t,void 0)};var Lu=ko.JSON.parse;function Mu(t){Ga.call(this),this.headers=new Ys,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Fu,this.D=this.F=!1}jo(Mu,Ga);var Fu="",ju=/^https?$/i,Uu=["POST","PUT"];function Vu(t){return"content-type"==t.toLowerCase()}function qu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Bu(t),Hu(t)}function Bu(t){t.u||(t.u=!0,Wa(t,"complete"),Wa(t,"error"))}function zu(t){if(t.b&&void 0!==Co&&(!t.s[1]||4!=Wu(t)||2!=t.W()))if(t.l&&4==Wu(t))ss(t.za,0,t);else if(Wa(t,"readystatechange"),4==Wu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Zs)[1]||null;if(!o&&ko.self&&ko.self.location){var a=ko.self.location.protocol;o=a.substr(0,a.length-1)}i=!ju.test(o?o.toLowerCase():"")}e=i}if(e)Wa(t,"complete"),Wa(t,"success");else{t.h=6;try{var s=2<Wu(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Bu(t)}}finally{Hu(t)}}}function Hu(t,e){if(t.a){Gu(t);var n=t.a,r=t.s[0]?No:null;t.a=null,t.s=null,e||Wa(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Gu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ko.clearTimeout(t.m),t.m=null)}function Wu(t){return t.a?t.a.readyState:0}function Ku(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Xo(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):au(t,e,n))}function Ju(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qu(t){this.pa=0,this.g=[],this.c=new ds,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ju("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ju("baseRetryDelayMs",5e3,t),this.Ra=Ju("retryDelaySeedMs",1e4,t),this.Ma=Ju("forwardChannelMaxRetries",2,t),this.ma=Ju("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Tu(t&&t.concurrentRequestLimit),this.ka=new xu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Yu(t){if($u(t),3==t.v){var e=t.R++,n=eu(t.B);au(n,"SID",t.J),au(n,"RID",e),au(n,"TYPE","terminate"),nc(t,n),(e=new Ls(t,t.c,e,void 0)).H=2,e.i=su(eu(n)),n=!1,ko.navigator&&ko.navigator.sendBeacon&&(n=ko.navigator.sendBeacon(e.i.toString(),"")),!n&&ko.Image&&((new Image).src=e.i,n=!0),n||(e.a=dc(e.g,null),e.a.ba(e.i)),e.u=Fo(),zs(e)}fc(t)}function Xu(t){t.a&&(ac(t),t.a.cancel(),t.a=null)}function $u(t){Xu(t),t.j&&(ko.clearTimeout(t.j),t.j=null),uc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ko.clearTimeout(t.h),t.h=null)}function Zu(t,e){t.g.push(new Eu(t.Oa++,e)),3==t.v&&tc(t)}function tc(t){Su(t.b)||t.h||(t.h=!0,es(t.Ba,t),t.u=0)}function ec(t,e){var n;n=e?e.f:t.R++;var r=eu(t.B);au(r,"SID",t.J),au(r,"RID",n),au(r,"AID",t.P),nc(t,r),t.i&&t.l&&Ku(r,t.i,t.l),n=new Ls(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=rc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Nu(t.b,n),Us(n,r,e)}function nc(t,e){t.f&&Qs({},(function(t,n){au(e,n,t)}))}function rc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Lo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Ru(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ic(t){t.a||t.j||(t.T=1,es(t.Aa,t),t.o=0)}function oc(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Is(Lo(t.Aa,t),lc(t,t.o)),t.o++,!0)}function ac(t){null!=t.s&&(ko.clearTimeout(t.s),t.s=null)}function sc(t){t.a=new Ls(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=eu(t.la);au(e,"RID","rpc"),au(e,"SID",t.J),au(e,"CI",t.H?"0":"1"),au(e,"AID",t.P),nc(t,e),au(e,"TYPE","xmlhttp"),t.i&&t.l&&Ku(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=su(eu(e)),n.j=null,n.I=!0,Vs(n,t)}function uc(t){null!=t.m&&(ko.clearTimeout(t.m),t.m=null)}function cc(t,e){var n=null;if(t.a==e){uc(t),ac(t),t.a=null;var r=2}else{if(!ku(t.b,e))return;n=e.s,Au(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Fo()-e.u;var i=t.u;Wa(r=ys(),new Ts(r,n,e,i)),tc(t)}else ic(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Cu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Is(Lo(t.Ba,t,e),lc(t,t.u)),t.u++,0)))}(t,e)||2==r&&oc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:hc(t,5);break;case 4:hc(t,10);break;case 3:hc(t,6);break;default:hc(t,2)}}function lc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function hc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Lo(t.Ya,t);n||(n=new tu("//www.google.com/images/cleardot.gif"),ko.location&&"http"==ko.location.protocol||nu(n,"https"),su(n)),function(t,e){var n=new ds;if(ko.Image){var r=new Image;r.onload=Mo(Du,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mo(Du,n,r,"TestLoadImage: error",!1,e),r.onabort=Mo(Du,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mo(Du,n,r,"TestLoadImage: timeout",!1,e),ko.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Es(2);t.v=0,t.f&&t.f.ra(e),fc(t),$u(t)}function fc(t){t.v=0,t.I=-1,t.f&&(0==Ou(t.b).length&&0==t.g.length||(t.b.c.length=0,zo(t.g),t.g.length=0),t.f.qa())}function pc(t,e,n){var r=function(t){return t instanceof tu?eu(t):new tu(t,void 0)}(n);if(""!=r.c)e&&ru(r,e+"."+r.c),iu(r,r.h);else{var i=ko.location;r=function(t,e,n,r){var i=new tu(null,void 0);return t&&nu(i,t),e&&ru(i,e),n&&iu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Xo(t.V,(function(t,e){au(r,e,t)})),e=t.A,n=t.na,e&&n&&au(r,e,n),au(r,"VER",t.ha),nc(t,r),r}function dc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mu(t.Na)).F=t.C,e}function vc(){}function mc(){if(oa&&!(10<=Number(ya)))throw Error("Environmental error: no available transport.")}function gc(t,e){Ga.call(this),this.a=new Qu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ho(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ho(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new wc(this)}function yc(t){xs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function bc(){Rs.call(this),this.status=1}function wc(t){this.a=t}(Io=Mu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ns(this.H):Ns(Os),this.a.onreadystatechange=Lo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void qu(this,t)}t=n||"";var i=new Ys(this.headers);r&&Qs(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Vu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ko.FormData&&t instanceof ko.FormData,!(0<=Vo(Uu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Gu(this),0<this.o&&((this.D=function(t){return oa&&ma(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Lo(this.xa,this)):this.m=ss(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){qu(this,t)}},Io.xa=function(){void 0!==Co&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Wa(this,"timeout"),this.abort(8))},Io.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Wa(this,"complete"),Wa(this,"abort"),Hu(this))},Io.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Hu(this,!0)),Mu.X.G.call(this)},Io.za=function(){this.j||(this.A||this.l||this.g?zu(this):this.Ua())},Io.Ua=function(){zu(this)},Io.W=function(){try{return 2<Wu(this)?this.a.status:-1}catch(t){return-1}},Io.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Io.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Lu(e)}},Io.ua=function(){return this.h},Io.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Io=Qu.prototype).ha=8,Io.v=1,Io.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ls(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ta(r=$o(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=rc(this,n,e),au(i=eu(this.B),"RID",t),au(i,"CVER",22),this.A&&au(i,"X-HTTP-Session-Id",this.A),nc(this,i),this.i&&r&&Ku(i,this.i,r),Nu(this.b,n),this.Ia&&au(i,"TYPE","init"),this.da?(au(i,"$req",e),au(i,"SID","null"),n.U=!0,Us(n,i,null)):Us(n,i,e),this.v=2}}else 3==this.v&&(t?ec(this,t):0==this.g.length||Su(this.b)||ec(this))},Io.Aa=function(){if(this.j=null,sc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Is(Lo(this.Ta,this),t)}},Io.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Es(10),Xu(this),sc(this))},Io.Sa=function(){null!=this.m&&(this.m=null,Xu(this),oc(this),Es(19))},Io.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Es(2)):(this.c.info("Failed to ping google.com"),Es(1))},(Io=vc.prototype).ta=function(){},Io.sa=function(){},Io.ra=function(){},Io.qa=function(){},Io.Ja=function(){},mc.prototype.a=function(t,e){return new gc(t,e)},jo(gc,Ga),gc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Es(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=pc(t,null,t.fa),tc(t)},gc.prototype.close=function(){Yu(this.a)},gc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Zu(this.a,e)}else this.l?((e={}).__data__=Ja(t),Zu(this.a,e)):Zu(this.a,t)},gc.prototype.G=function(){this.a.f=null,delete this.f,Yu(this.a),delete this.a,gc.X.G.call(this)},jo(yc,xs),jo(bc,Rs),jo(wc,vc),wc.prototype.ta=function(){Wa(this.a,"a")},wc.prototype.sa=function(t){Wa(this.a,new yc(t))},wc.prototype.ra=function(t){Wa(this.a,new bc(t))},wc.prototype.qa=function(){Wa(this.a,"b")},mc.prototype.createWebChannel=mc.prototype.a,gc.prototype.send=gc.prototype.h,gc.prototype.open=gc.prototype.g,gc.prototype.close=gc.prototype.close,Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,Cs.COMPLETE="complete",As.EventType=Ps,Ps.OPEN="a",Ps.CLOSE="b",Ps.ERROR="c",Ps.MESSAGE="d",Ga.prototype.listen=Ga.prototype.va,Mu.prototype.listenOnce=Mu.prototype.wa,Mu.prototype.getLastError=Mu.prototype.Qa,Mu.prototype.getLastErrorCode=Mu.prototype.ua,Mu.prototype.getStatus=Mu.prototype.W,Mu.prototype.getResponseJson=Mu.prototype.Pa,Mu.prototype.getResponseText=Mu.prototype.$,Mu.prototype.send=Mu.prototype.ba;var _c=function(){return new mc},Ec=function(){return ys()},Tc=Ss,Ic=Cs,Sc=ms,Cc={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},kc=As,Nc=Mu;var Ac=n(655),Oc=new wo.Yd("@firebase/firestore");function Pc(){return Oc.logLevel}function xc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Oc.logLevel<=wo.in.DEBUG){var r=e.map(Lc);Oc.debug.apply(Oc,(0,Ac.pr)(["Firestore (8.2.2): "+t],r))}}function Rc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Oc.logLevel<=wo.in.ERROR){var r=e.map(Lc);Oc.error.apply(Oc,(0,Ac.pr)(["Firestore (8.2.2): "+t],r))}}function Dc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Oc.logLevel<=wo.in.WARN){var r=e.map(Lc);Oc.warn.apply(Oc,(0,Ac.pr)(["Firestore (8.2.2): "+t],r))}}function Lc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Mc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw Rc(e),new Error(e)}function Fc(t,e){t||Mc()}function jc(t,e){return t}function Uc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vc=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Uc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function qc(t,e){return t<e?-1:t>e?1:0}function Bc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function zc(t){return t+"\0"}var Hc=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return qc(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Hc.h=new Hc("");var Gc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ac.ZT)(e,t),e}(Error),Kc=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Hc.fromBase64String(e))}catch(e){throw new Wc(Gc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Jc=function(t){this._=t};function Qc(){if("undefined"==typeof Uint8Array)throw new Wc(Gc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Yc(){if("undefined"==typeof atob)throw new Wc(Gc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Xc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.fromBase64String=function(t){return Yc(),new e(Kc.fromBase64String(t))},e.fromUint8Array=function(t){return Qc(),new e(Kc.fromUint8Array(t))},e.prototype.toBase64=function(){return Yc(),this._.toBase64()},e.prototype.toUint8Array=function(){return Qc(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Jc),$c=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Zc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),tl=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();tl.UNAUTHENTICATED=new tl(null),tl.P=new tl("google-credentials-uid"),tl.g=new tl("first-party-uid");var el=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},nl=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(tl.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),rl=function(){function t(t){var e=this;this.C=null,this.currentUser=tl.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(xc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Fc("string"==typeof n.accessToken),new el(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Fc(null===t||"string"==typeof t),new tl(t)},t}(),il=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=tl.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ol=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new il(this.k,this.M))},t.prototype.S=function(t){t(tl.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),al=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();al.U=-1;var sl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Wc(Gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Wc(Gc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Wc(Gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wc(Gc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?qc(this.nanoseconds,t.nanoseconds):qc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ul=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new sl(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),cl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Mc(),void 0===n?n=t.length-e:n>t.length-e&&Mc(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(cl),hl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return hl.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Wc(Gc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Wc(Gc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Wc(Gc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(cl),pl=function(){function t(t){this.path=t}return t.ft=function(e){return new t(ll.ct(e))},t.dt=function(e){return new t(ll.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ll.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return ll.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new ll(e.slice()))},t}();function dl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ml(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gl=function(){function t(t){this.fields=t,t.sort(fl.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Bc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),yl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bl(t){if(Fc(!!t),"string"==typeof t){var e=0,n=yl.exec(t);if(Fc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wl(t.seconds),nanos:wl(t.nanos)}}function wl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _l(t){return"string"==typeof t?Hc.fromBase64String(t):Hc.fromUint8Array(t)}function El(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tl(t){var e=t.mapValue.fields.__previous_value__;return El(e)?Tl(e):e}function Il(t){var e=bl(t.mapValue.fields.__local_write_time__.timestampValue);return new sl(e.seconds,e.nanos)}function Sl(t){return null==t}function Cl(t){return 0===t&&1/t==-1/0}function kl(t){return"number"==typeof t&&Number.isInteger(t)&&!Cl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?El(t)?4:10:Mc()}function Al(t,e){var n=Nl(t);if(n!==Nl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=bl(t.timestampValue),r=bl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return _l(t.bytesValue).isEqual(_l(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return wl(t.geoPointValue.latitude)===wl(e.geoPointValue.latitude)&&wl(t.geoPointValue.longitude)===wl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return wl(t.integerValue)===wl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=wl(t.doubleValue),r=wl(e.doubleValue);return n===r?Cl(n)===Cl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Bc(t.arrayValue.values||[],e.arrayValue.values||[],Al);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(dl(n)!==dl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Al(n[i],r[i])))return!1;return!0}(t,e);default:return Mc()}}function Ol(t,e){return void 0!==(t.values||[]).find((function(t){return Al(t,e)}))}function Pl(t,e){var n=Nl(t),r=Nl(e);if(n!==r)return qc(n,r);switch(n){case 0:return 0;case 1:return qc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=wl(t.integerValue||t.doubleValue),r=wl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return xl(t.timestampValue,e.timestampValue);case 4:return xl(Il(t),Il(e));case 5:return qc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=_l(t),r=_l(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qc(n[i],r[i]);if(0!==o)return o}return qc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=qc(wl(t.latitude),wl(e.latitude));return 0!==n?n:qc(wl(t.longitude),wl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pl(n[i],r[i]);if(o)return o}return qc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=qc(r[a],o[a]);if(0!==s)return s;var u=Pl(n[r[a]],i[o[a]]);if(0!==u)return u}return qc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Mc()}}function xl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qc(t,e);var n=bl(t),r=bl(e),i=qc(n.seconds,r.seconds);return 0!==i?i:qc(n.nanos,r.nanos)}function Rl(t){return Dl(t)}function Dl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=bl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?_l(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,pl.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Dl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Dl(t.fields[o])}return e+"}"}(t.mapValue):Mc();var e,n}function Ll(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Ml(t){return!!t&&"integerValue"in t}function Fl(t){return!!t&&"arrayValue"in t}function jl(t){return!!t&&"nullValue"in t}function Ul(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vl(t){return!!t&&"mapValue"in t}var ql=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Vl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Al(this.proto,t.proto)},t}(),Bl=function(){function t(t){void 0===t&&(t=ql.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Nl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(fl.at(),this.Rt);return null!=t?new ql(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Vl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.gt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function zl(t){var e=[];return vl(t.fields||{},(function(t,n){var r=new fl([t]);if(Vl(n)){var i=zl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new gl(e)}var Hl=function(t,e){this.key=t,this.version=e},Gl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return(0,Ac.ZT)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Hl),Wl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return(0,Ac.ZT)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Hl),Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Hl),Jl=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.St=null};function Ql(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Jl(t,e,n,r,i,o,a)}function Yl(t){var e=jc(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Rl(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ch(e.startAt)),e.endAt&&(n+="|ub:",n+=ch(e.endAt)),e.St=n}return e.St}function Xl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Al(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ph(t.startAt,e.startAt)&&ph(t.endAt,e.endAt)}function $l(t){return pl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Zl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Ac.ZT)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new th(t,n,r):"array-contains"===n?new ih(t,r):"in"===n?new oh(t,r):"not-in"===n?new ah(t,r):"array-contains-any"===n?new sh(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new eh(t,n):new nh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Pl(e,this.value)):null!==e&&Nl(this.value)===Nl(e)&&this.Ct(Pl(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Mc()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),th=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=pl.dt(r.referenceValue),i}return(0,Ac.ZT)(e,t),e.prototype.matches=function(t){var e=pl.J(t.key,this.key);return this.Ct(e)},e}(Zl),eh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=rh("in",n),r}return(0,Ac.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zl),nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=rh("not-in",n),r}return(0,Ac.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zl);function rh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return pl.dt(t.referenceValue)}))}var ih=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Ac.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Fl(e)&&Ol(e.arrayValue,this.value)},e}(Zl),oh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Ac.ZT)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ol(this.value.arrayValue,e)},e}(Zl),ah=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Ac.ZT)(e,t),e.prototype.matches=function(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ol(this.value.arrayValue,e)},e}(Zl),sh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Ac.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Fl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ol(e.value.arrayValue,t)}))},e}(Zl),uh=function(t,e){this.position=t,this.before=e};function ch(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Rl(t)})).join(",")}var lh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function hh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ht()?pl.J(pl.dt(a.referenceValue),n.key):Pl(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ph(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Al(t.position[n],e.position[n]))return!1;return!0}var dh=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ot=null,this.Ft=null,this.startAt,this.endAt};function vh(t,e,n,r,i,o,a,s){return new dh(t,e,n,r,i,o,a,s)}function mh(t){return new dh(t)}function gh(t){return!Sl(t.limit)&&"F"===t.limitType}function yh(t){return!Sl(t.limit)&&"L"===t.limitType}function bh(t){return t.Nt.length>0?t.Nt[0].field:null}function wh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function _h(t){return null!==t.collectionGroup}function Eh(t){var e=jc(t);if(null===e.Ot){e.Ot=[];var n=wh(e),r=bh(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new lh(n)),e.Ot.push(new lh(fl.lt(),"asc"));else{for(var i=!1,o=0,a=e.Nt;o<a.length;o++){var s=a[o];e.Ot.push(s),s.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new lh(fl.lt(),u))}}}return e.Ot}function Th(t){var e=jc(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Ql(e.path,e.collectionGroup,Eh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Eh(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new lh(o.field,a))}var s=e.endAt?new uh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new uh(e.startAt.position,!e.startAt.before):null;e.Ft=Ql(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function Ih(t,e,n){return new dh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sh(t,e){return Xl(Th(t),Th(e))&&t.limitType===e.limitType}function Ch(t){return Yl(Th(t))+"|lt:"+t.limitType}function kh(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Rl(e.value);var e})).join(", ")+"]"),Sl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ch(t.startAt)),t.endAt&&(e+=", endAt: "+ch(t.endAt)),"Target("+e+")"}(Th(t))+"; limitType="+t.limitType+")"}function Nh(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):pl.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!fh(t.startAt,Eh(t),e)||t.endAt&&fh(t.endAt,Eh(t),e))}(t,e)}function Ah(t){return function(e,n){for(var r=!1,i=0,o=Eh(t);i<o.length;i++){var a=o[i],s=Oh(a,e,n);if(0!==s)return s;r=r||a.field.ht()}return 0}}function Oh(t,e,n){var r=t.field.ht()?pl.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pl(r,i):Mc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Mc()}}var Ph=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ul.min()),void 0===o&&(o=ul.min()),void 0===a&&(a=Hc.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function xh(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cl(e)?"-0":e}}function Rh(t){return{integerValue:""+t}}function Dh(t,e){return kl(e)?Rh(e):xh(t,e)}var Lh=function(){this.Ut=void 0};function Mh(t,e,n){return t instanceof Uh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vh?qh(t,e):t instanceof Bh?zh(t,e):function(t,e){var n=jh(t,e),r=Gh(n)+Gh(t.Qt);return Ml(n)&&Ml(t.Qt)?Rh(r):xh(t.Kt,r)}(t,e)}function Fh(t,e,n){return t instanceof Vh?qh(t,e):t instanceof Bh?zh(t,e):n}function jh(t,e){return t instanceof Hh?Ml(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e}(Lh),Vh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ac.ZT)(e,t),e}(Lh);function qh(t,e){for(var n=Wh(e),r=function(t){n.some((function(e){return Al(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ac.ZT)(e,t),e}(Lh);function zh(t,e){for(var n=Wh(e),r=function(t){n=n.filter((function(e){return!Al(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Hh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return(0,Ac.ZT)(e,t),e}(Lh);function Gh(t){return wl(t.integerValue||t.doubleValue)}function Wh(t){return Fl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Kh=function(t,e){this.field=t,this.transform=e},Jh=function(t,e){this.version=t,this.transformResults=e},Qh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Yh(t,e){return void 0!==t.updateTime?e instanceof Gl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Gl}var Xh=function(){};function $h(t,e,n){return t instanceof rf?function(t,e,n){var r=t.value;if(n.transformResults){var i=sf(t.fieldTransforms,e,n.transformResults);r=cf(t.fieldTransforms,r,i)}return new Gl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof of?function(t,e,n){if(!Yh(t.Gt,e))return new Kl(t.key,n.version);var r=af(t,e,n.transformResults?sf(t.fieldTransforms,e,n.transformResults):[]);return new Gl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Wl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Zh(t,e,n,r){return t instanceof rf?function(t,e,n,r){if(!Yh(t.Gt,e))return e;var i=t.value,o=uf(t.fieldTransforms,n,e);i=cf(t.fieldTransforms,i,o);var a=nf(e);return new Gl(t.key,a,i,{bt:!0})}(t,e,r):t instanceof of?function(t,e,n,r){if(!Yh(t.Gt,e))return e;var i=nf(e),o=af(t,e,uf(t.fieldTransforms,n,e));return new Gl(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Yh(t.Gt,e)?new Wl(t.key,ul.min()):e}(t,e)}function tf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Gl?e.field(o.field):void 0,s=jh(o.transform,a||null);null!=s&&(n=null==n?(new Bl).set(o.field,s):n.set(o.field,s))}return n?n.yt():null}(t.fieldTransforms,e)}function ef(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Bc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vh&&e instanceof Vh||t instanceof Bh&&e instanceof Bh?Bc(t.elements,e.elements,Al):t instanceof Hh&&e instanceof Hh?Al(t.Qt,e.Qt):t instanceof Uh&&e instanceof Uh}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function nf(t){return t instanceof Gl?t.version:ul.min()}var rf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return(0,Ac.ZT)(e,t),e}(Xh),of=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.zt=r,a.Gt=i,a.fieldTransforms=o,a.type=1,a}return(0,Ac.ZT)(e,t),e}(Xh);function af(t,e,n){var r;return r=function(t,e){var n=new Bl(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Gl?e.data():ql.empty()),cf(t.fieldTransforms,r,n)}function sf(t,e,n){var r=[];Fc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Gl&&(s=e.field(o.field)),r.push(Fh(a,s,n[i]))}return r}function uf(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Gl&&(c=n.field(s.field)),i.push(Mh(u,c,e))}return i}function cf(t,e,n){for(var r=new Bl(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var lf,hf,ff=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return(0,Ac.ZT)(e,t),e}(Xh),pf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return(0,Ac.ZT)(e,t),e}(Xh),df=function(t){this.count=t};function vf(t){switch(t){case Gc.OK:return Mc();case Gc.CANCELLED:case Gc.UNKNOWN:case Gc.DEADLINE_EXCEEDED:case Gc.RESOURCE_EXHAUSTED:case Gc.INTERNAL:case Gc.UNAVAILABLE:case Gc.UNAUTHENTICATED:return!1;case Gc.INVALID_ARGUMENT:case Gc.NOT_FOUND:case Gc.ALREADY_EXISTS:case Gc.PERMISSION_DENIED:case Gc.FAILED_PRECONDITION:case Gc.ABORTED:case Gc.OUT_OF_RANGE:case Gc.UNIMPLEMENTED:case Gc.DATA_LOSS:return!0;default:return Mc()}}function mf(t){if(void 0===t)return Rc("GRPC error has no .code"),Gc.UNKNOWN;switch(t){case lf.OK:return Gc.OK;case lf.CANCELLED:return Gc.CANCELLED;case lf.UNKNOWN:return Gc.UNKNOWN;case lf.DEADLINE_EXCEEDED:return Gc.DEADLINE_EXCEEDED;case lf.RESOURCE_EXHAUSTED:return Gc.RESOURCE_EXHAUSTED;case lf.INTERNAL:return Gc.INTERNAL;case lf.UNAVAILABLE:return Gc.UNAVAILABLE;case lf.UNAUTHENTICATED:return Gc.UNAUTHENTICATED;case lf.INVALID_ARGUMENT:return Gc.INVALID_ARGUMENT;case lf.NOT_FOUND:return Gc.NOT_FOUND;case lf.ALREADY_EXISTS:return Gc.ALREADY_EXISTS;case lf.PERMISSION_DENIED:return Gc.PERMISSION_DENIED;case lf.FAILED_PRECONDITION:return Gc.FAILED_PRECONDITION;case lf.ABORTED:return Gc.ABORTED;case lf.OUT_OF_RANGE:return Gc.OUT_OF_RANGE;case lf.UNIMPLEMENTED:return Gc.UNIMPLEMENTED;case lf.DATA_LOSS:return Gc.DATA_LOSS;default:return Mc()}}(hf=lf||(lf={}))[hf.OK=0]="OK",hf[hf.CANCELLED=1]="CANCELLED",hf[hf.UNKNOWN=2]="UNKNOWN",hf[hf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hf[hf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hf[hf.NOT_FOUND=5]="NOT_FOUND",hf[hf.ALREADY_EXISTS=6]="ALREADY_EXISTS",hf[hf.PERMISSION_DENIED=7]="PERMISSION_DENIED",hf[hf.UNAUTHENTICATED=16]="UNAUTHENTICATED",hf[hf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hf[hf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hf[hf.ABORTED=10]="ABORTED",hf[hf.OUT_OF_RANGE=11]="OUT_OF_RANGE",hf[hf.UNIMPLEMENTED=12]="UNIMPLEMENTED",hf[hf.INTERNAL=13]="INTERNAL",hf[hf.UNAVAILABLE=14]="UNAVAILABLE",hf[hf.DATA_LOSS=15]="DATA_LOSS";var gf=function(){function t(t,e){this.J=t,this.root=e||bf.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,bf.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,bf.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new yf(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new yf(this.root,t,this.J,!1)},t.prototype.se=function(){return new yf(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new yf(this.root,t,this.J,!0)},t}(),yf=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),bf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Mc();if(this.right._e())throw Mc();var t=this.left.me();if(t!==this.right.me())throw Mc();return t+(this._e()?0:1)},t}();bf.EMPTY=null,bf.RED=!0,bf.Jt=!1,bf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Mc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Mc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Mc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Mc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Mc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new bf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var wf=function(){function t(t){this.J=t,this.data=new gf(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new _f(this.data.ee())},t.prototype.ne=function(t){return new _f(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),_f=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Ef=new gf(pl.J);function Tf(){return Ef}function If(){return Tf()}var Sf=new gf(pl.J);function Cf(){return Sf}var kf=new gf(pl.J);function Nf(){return kf}var Af=new wf(pl.J);function Of(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Af,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Pf=new wf(qc);function xf(){return Pf}var Rf=function(){function t(t){this.J=t?function(e,n){return t(e,n)||pl.J(e.key,n.key)}:function(t,e){return pl.J(t.key,e.key)},this.Ve=Cf(),this.pe=new gf(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Df=function(){function t(){this.ve=new gf(pl.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Mc():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Lf=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=a,this.Ne=s}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Rf.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Mf=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Ff.Be(e,n)),new t(ul.min(),r,xf(),Tf(),Of())},t}(),Ff=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Hc.h,n,Of(),Of(),Of())},t}(),jf=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Uf=function(t,e){this.targetId=t,this.Ge=e},Vf=function(t,e,n,r){void 0===n&&(n=Hc.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},qf=function(){function t(){this.ze=0,this.He=Hf(),this.Je=Hc.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Of(),e=Of(),n=Of();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Mc()}})),new Ff(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Hf()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Bf=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Tf(),this.fn=zf(),this.dn=new wf(qc)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Gl?this.En(r,t.We):t.We instanceof Wl&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Mc()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if($l(i))if(0===n){var o=new pl(i.path);this.Tn(e,o,new Wl(o,ul.min()))}else Fc(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&$l(o.target)){var a=new pl(o.target.path);null!==e._n.get(a)||e.bn(i,a)||e.Tn(i,a,new Wl(a,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Of();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Mf(t,n,this.dn,this._n,r);return this._n=Tf(),this.fn=zf(),this.dn=new wf(qc),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new qf,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new wf(qc),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||xc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new qf),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function zf(){return new gf(pl.J)}function Hf(){return new gf(pl.J)}var Gf={asc:"ASCENDING",desc:"DESCENDING"},Wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kf=function(t,e){this.T=t,this.qt=e};function Jf(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qf(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Yf(t,e){return Jf(t,e.G())}function Xf(t){return Fc(!!t),ul.j(function(t){var e=bl(t);return new sl(e.seconds,e.nanos)}(t))}function $f(t,e){return function(t){return new ll(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Zf(t){var e=ll.ct(t);return Fc(Tp(e)),e}function tp(t,e){return $f(t.T,e.path)}function ep(t,e){var n=Zf(e);if(n.get(1)!==t.T.projectId)throw new Wc(Gc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Wc(Gc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new pl(op(n))}function np(t,e){return $f(t.T,e)}function rp(t){var e=Zf(t);return 4===e.length?ll.at():op(e)}function ip(t){return new ll(["projects",t.T.projectId,"databases",t.T.database]).ot()}function op(t){return Fc(t.length>4&&"documents"===t.get(4)),t.X(5)}function ap(t,e,n){return{name:tp(t,e),fields:n.proto.mapValue.fields}}function sp(t,e,n){var r=ep(t,e.name),i=Xf(e.updateTime),o=new ql({mapValue:{fields:e.fields}});return new Gl(r,i,o,{hasCommittedMutations:!!n})}function up(t,e){var n;if(e instanceof rf)n={update:ap(t,e.key,e.value)};else if(e instanceof ff)n={delete:tp(t,e.key)};else if(e instanceof of)n={update:ap(t,e.key,e.data),updateMask:Ep(e.zt)};else{if(!(e instanceof pf))return Mc();n={verify:tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Uh)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vh)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Bh)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Hh)return{fieldPath:e.field.ot(),increment:n.Qt};throw Mc()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Mc()}(t,e.Gt)),n}function cp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Qh.updateTime(Xf(t.updateTime)):void 0!==t.exists?Qh.exists(t.exists):Qh.jt()}(e.currentDocument):Qh.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Fc("REQUEST_TIME"===e.setToServerValue),n=new Uh;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Vh(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Bh(i)}else"increment"in e?n=new Hh(t,e.increment):Mc();var o=fl._t(e.fieldPath);return new Kh(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=ep(t,e.update.name),o=new ql({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new gl(e.map((function(t){return fl._t(t)})))}(e.updateMask);return new of(i,o,a,n,r)}return new rf(i,o,n,r)}if(e.delete){var s=ep(t,e.delete);return new ff(s,n)}if(e.verify){var u=ep(t,e.verify);return new pf(u,n)}return Mc()}function lp(t,e){return{documents:[np(t,e.path)]}}function hp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=np(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=np(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ul(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NAN"}};if(jl(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ul(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NOT_NAN"}};if(jl(t.value))return{unaryFilter:{field:yp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yp(t.field),op:gp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:yp(t.field),direction:mp(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.qt||Sl(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=dp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=dp(e.endAt)),n}function fp(t){var e=rp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=pp(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new lh(bp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Sl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=vp(n.startAt));var l=null;return n.endAt&&(l=vp(n.endAt)),vh(e,i,s,a,u,"F",c,l)}function pp(t){return t?void 0!==t.unaryFilter?[_p(t)]:void 0!==t.fieldFilter?[wp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return pp(t)})).reduce((function(t,e){return t.concat(e)})):Mc():[]}function dp(t){return{before:t.before,values:t.position}}function vp(t){var e=!!t.before,n=t.values||[];return new uh(n,e)}function mp(t){return Gf[t]}function gp(t){return Wf[t]}function yp(t){return{fieldPath:t.ot()}}function bp(t){return fl._t(t.fieldPath)}function wp(t){return Zl.create(bp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mc()}}(t.fieldFilter.op),t.fieldFilter.value)}function _p(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bp(t.unaryFilter.field);return Zl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bp(t.unaryFilter.field);return Zl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bp(t.unaryFilter.field);return Zl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bp(t.unaryFilter.field);return Zl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mc()}}function Ep(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Tp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ip=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Sp=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&Mc(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Cp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Ip,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Ap(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Dp(e.target.error);n.qn.reject(new Ap(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ap(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(xc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pp(e)},t}(),kp=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn((0,_o.z$)())&&Rc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return xc("SimpleDb","Removing database:",t),xp(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=(0,_o.z$)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(xc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ap(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wc(Gc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ap(t,n))},i.onupgradeneeded=function(t){xc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){xc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Ac.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return(0,Ac.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Jn(t)];case 2:return s.db=h.sent(),e=Cp.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Sp.reject(t)})).Mn(),u={},a.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,xc("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Np=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return xp(this.ts.delete())},t}(),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this,Gc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ac.ZT)(e,t),e}(Wc);function Op(t){return"IndexedDbTransactionError"===t.name}var Pp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(xc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(xc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),xp(n)},t.prototype.add=function(t){return xc("SimpleDb","ADD",this.store.name,t,t),xp(this.store.add(t))},t.prototype.get=function(t){var e=this;return xp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),xc("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return xc("SimpleDb","DELETE",this.store.name,t),xp(this.store.delete(t))},t.prototype.count=function(){return xc("SimpleDb","COUNT",this.store.name),xp(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){xc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Sp((function(n,r){e.onerror=function(t){var e=Dp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Sp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Np(i),a=e(i.primaryKey,i.value,o);if(a instanceof Sp){var s=a.catch((function(t){return o.done(),Sp.reject(t)}));n.push(s)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Sp.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function xp(t){return new Sp((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Dp(t.target.error);n(e)}}))}var Rp=!1;function Dp(t){var e=kp.Kn((0,_o.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Wc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rp||(Rp=!0,setTimeout((function(){throw r}),0)),r}}return t}var Lp=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Ip,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Wc(Gc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Mp(t,e){if(Rc("AsyncQueue",e+": "+t),Op(t))return new Wc(Gc.UNAVAILABLE,e+": "+t);throw t}var Fp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jp=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function Up(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qp(e)),e=Vp(t.get(n),e);return qp(e)}function Vp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function qp(t){return t+""}function Bp(t){var e=t.length;if(Fc(e>=2),2===e)return Fc(""===t.charAt(0)&&""===t.charAt(1)),ll.at();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Mc(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Mc()}o=a+2}return new ll(r)}var zp=function(t,e){this.seconds=t,this.nanoseconds=e},Hp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Hp.store="owner",Hp.key="owner";var Gp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gp.store="mutationQueues",Gp.keyPath="userId";var Wp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wp.store="mutations",Wp.keyPath="batchId",Wp.userMutationsIndex="userMutationsIndex",Wp.userMutationsKeyPath=["userId","batchId"];var Kp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Up(e)]},t.key=function(t,e,n){return[t,Up(e),n]},t}();Kp.store="documentMutations",Kp.PLACEHOLDER=new Kp;var Jp=function(t,e){this.path=t,this.readTime=e},Qp=function(t,e){this.path=t,this.version=e},Yp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Yp.store="remoteDocuments",Yp.readTimeIndex="readTimeIndex",Yp.readTimeIndexPath="readTime",Yp.collectionReadTimeIndex="collectionReadTimeIndex",Yp.collectionReadTimeIndexPath=["parentPath","readTime"];var Xp=function(t){this.byteSize=t};Xp.store="remoteDocumentGlobal",Xp.key="remoteDocumentGlobalKey";var $p=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};$p.store="targets",$p.keyPath="targetId",$p.queryTargetsIndexName="queryTargetsIndex",$p.queryTargetsKeyPath=["canonicalId","targetId"];var Zp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Zp.store="targetDocuments",Zp.keyPath=["targetId","path"],Zp.documentTargetsIndex="documentTargetsIndex",Zp.documentTargetsKeyPath=["path","targetId"];var td=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};td.key="targetGlobalKey",td.store="targetGlobal";var ed=function(t,e){this.collectionId=t,this.parent=e};ed.store="collectionParents",ed.keyPath=["collectionId","parent"];var nd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};nd.store="clientMetadata",nd.keyPath="clientId";var rd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};rd.store="bundles",rd.keyPath="bundleId";var id=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};id.store="namedQueries",id.keyPath="name";var od=(0,Ac.pr)((0,Ac.pr)((0,Ac.pr)((0,Ac.pr)([Gp.store,Wp.store,Kp.store,Yp.store,$p.store,Hp.store,td.store,Zp.store],[nd.store]),[Xp.store]),[ed.store]),[rd.store,id.store]),ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return(0,Ac.ZT)(e,t),e}(jp);function sd(t,e){var n=jc(t);return kp.Hn(n.bs,e)}var ud=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$h(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Zh(a,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Zh(a,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Of())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Bc(this.mutations,t.mutations,(function(t,e){return ef(t,e)}))&&Bc(this.baseMutations,t.baseMutations,(function(t,e){return ef(t,e)}))},t}(),cd=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){Fc(e.mutations.length===r.length);for(var i=Nf(),o=e.mutations,a=0;a<o.length;a++)i=i.Ht(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),ld=function(t){this.ks=t};function hd(t,e){if(e.document)return sp(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=pl.Tt(e.noDocument.path),r=md(e.noDocument.readTime);return new Wl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=pl.Tt(e.unknownDocument.path);return r=md(e.unknownDocument.version),new Kl(i,r)}return Mc()}function fd(t,e,n){var r=pd(n),i=e.key.path.Z().rt();if(e instanceof Gl){var o=function(t,e){return{name:tp(t,e.key),fields:e.vt().mapValue.fields,updateTime:Jf(t,e.version.G())}}(t.ks,e),a=e.hasCommittedMutations;return new Yp(null,null,o,a,r,i)}if(e instanceof Wl){var s=e.key.path.rt(),u=vd(e.version);return a=e.hasCommittedMutations,new Yp(null,new Jp(s,u),null,a,r,i)}if(e instanceof Kl){var c=e.key.path.rt(),l=vd(e.version);return new Yp(new Qp(c,l),null,null,!0,r,i)}return Mc()}function pd(t){var e=t.G();return[e.seconds,e.nanoseconds]}function dd(t){var e=new sl(t[0],t[1]);return ul.j(e)}function vd(t){var e=t.G();return new zp(e.seconds,e.nanoseconds)}function md(t){var e=new sl(t.seconds,t.nanoseconds);return ul.j(e)}function gd(t,e){for(var n=(e.baseMutations||[]).map((function(e){return cp(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return cp(t.ks,e)})),a=sl.fromMillis(e.localWriteTimeMs);return new ud(e.batchId,a,n,o)}function yd(t){var e,n,r=md(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?md(t.lastLimboFreeSnapshotVersion):ul.min();return void 0!==t.query.documents?(Fc(1===(n=t.query).documents.length),e=Th(mh(rp(n.documents[0])))):e=function(t){return Th(fp(t))}(t.query),new Ph(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hc.fromBase64String(t.resumeToken))}function bd(t,e){var n,r=vd(e.Mt),i=vd(e.lastLimboFreeSnapshotVersion);n=$l(e.target)?lp(t.ks,e.target):hp(t.ks,e.target);var o=e.resumeToken.toBase64();return new $p(e.targetId,Yl(e.target),r,o,e.sequenceNumber,i,n)}function wd(t){var e=fp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ih(e,e.limit,"L"):e}var _d=function(){function t(){}return t.prototype.Ms=function(t,e){return Ed(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:md(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Ed(t).put({bundleId:(n=e).id,createTime:vd(Xf(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Td(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:wd(e.bundledQuery),readTime:md(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return Td(t).put(function(t){return{name:t.name,readTime:vd(Xf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ed(t){return sd(t,rd.store)}function Td(t){return sd(t,id.store)}var Id=function(){function t(){this.qs=new Sd}return t.prototype.Us=function(t,e){return this.qs.add(e),Sp.resolve()},t.prototype.Qs=function(t,e){return Sp.resolve(this.qs.getEntries(e))},t}(),Sd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new wf(ll.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wf(ll.J)).rt()},t}(),Cd=function(){function t(){this.Ks=new Sd}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:Up(i)};return kd(t).put(o)}return Sp.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[zc(e),""],!1,!0);return kd(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Bp(o.parent))}return n}))},t}();function kd(t){return sd(t,ed.store)}var Nd={js:!1,Ws:0,Gs:0,zs:0},Ad=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Od(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){if(t.code!==Gc.FAILED_PRECONDITION||t.message!==Fp)throw t;return xc("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Ad.Zs=10,Ad.ti=1e3,Ad.ei=new Ad(41943040,Ad.Zs,Ad.ti),Ad.ni=new Ad(-1,0,0);var Pd=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.ii(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){vl(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.nt=function(){return ml(this.ri)},t}(),xd=function(){function t(){this.oi=new Pd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:ul.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Sp.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Rd(t,e,n){var r=t.store(Wp.store),i=t.store(Kp.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ls({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Fc(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Kp.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Sp.$n(o).next((function(){return c}))}function Dd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Mc();e=t.noDocument}return JSON.stringify(e).length}var Ld=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Fc(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fd(t).ls({index:Wp.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=jd(t),a=Fd(t);return a.add({}).next((function(s){Fc("number"==typeof s);for(var u=new ud(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return up(t.ks,e)})),i=n.mutations.map((function(e){return up(t.ks,e)}));return new Wp(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new wf((function(t,e){return qc(t.ot(),e.ot())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Kp.key(i.userId,d.key.path,s);h=h.add(d.key.path.Z()),l.push(a.put(c)),l.push(o.put(v,Kp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[s]=u.keys()})),Sp.$n(l).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return Fd(t).get(e).next((function(t){return t?(Fc(t.userId===n.userId),gd(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Sp.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fd(t).ls({index:Wp.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Fc(e.batchId>=r),o=gd(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fd(t).ls({index:Wp.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fd(t).os(Wp.userMutationsIndex,n).next((function(t){return t.map((function(t){return gd(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=Kp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return jd(t).ls({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Bp(u);if(s===n.userId&&e.path.isEqual(l))return Fd(t).get(c).next((function(t){if(!t)throw Mc();Fc(t.userId===n.userId),o.push(gd(n.Kt,t))}));a.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new wf(qc),i=[];return e.forEach((function(e){var o=Kp.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=jd(t).ls({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Bp(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Sp.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Kp.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new wf(qc);return jd(t).ls({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Bp(u);a===n.userId&&r.st(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Di(t,s)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Fd(t).get(e).next((function(t){if(null===t)throw Mc();Fc(t.userId===n.userId),r.push(gd(n.Kt,t))})))})),Sp.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return Rd(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),Sp.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Sp.resolve();var r=IDBKeyRange.lowerBound(Kp.prefixForUser(e.userId)),i=[];return jd(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Bp(t[1]);i.push(o)}else r.done()})).next((function(){Fc(0===i.length)}))}))},t.prototype.ki=function(t,e){return Md(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Ud(t).get(this.userId).next((function(t){return t||new Gp(e.userId,-1,"")}))},t}();function Md(t,e,n){var r=Kp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return jd(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Fd(t){return sd(t,Wp.store)}function jd(t){return sd(t,Kp.store)}function Ud(t){return sd(t,Gp.store)}var Vd=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),qd=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new Vd(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return ul.j(new sl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Bd(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Fc(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Bd(t).ls((function(a,s){var u=yd(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return Sp.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Bd(t).ls((function(t,n){var r=yd(n);e(r)}))},t.prototype.Ui=function(t){return zd(t).get(td.key).next((function(t){return Fc(null!==t),t}))},t.prototype.Qi=function(t,e){return zd(t).put(td.key,e)},t.prototype.zi=function(t,e){return Bd(t).put(bd(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=Yl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bd(t).ls({range:r,index:$p.queryTargetsIndexName},(function(t,n,r){var o=yd(n);Xl(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Hd(t);return e.forEach((function(e){var a=Up(e.path);i.push(o.put(new Zp(n,a))),i.push(r.Ii.sr(t,n,e))})),Sp.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Hd(t);return Sp.forEach(e,(function(e){var o=Up(e.path);return Sp.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=Hd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hd(t),i=Of();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Bp(t[1]),o=new pl(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=Up(e.path),r=IDBKeyRange.bound([n],[zc(n)],!1,!0),i=0;return Hd(t).ls({index:Zp.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Bd(t).get(e).next((function(t){return t?yd(t):null}))},t}();function Bd(t){return sd(t,$p.store)}function zd(t){return sd(t,td.store)}function Hd(t){return sd(t,Zp.store)}function Gd(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=qc(n,i);return 0===a?qc(r,o):a}var Wd=function(){function t(t){this.ar=t,this.buffer=new wf(Gd),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Gd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Kd=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;xc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return(0,Ac.mG)(e,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Op(e=n.sent())?(xc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Od(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Jd=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return Sp.resolve(al.U);var r=new Wd(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(xc("LruGarbageCollector","Garbage collection skipped; disabled"),Sp.resolve(Nd)):this.br(t).next((function(r){return r<n.params.Hs?(xc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Nd):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(xc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)})).next((function(r){return n=r,a=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),Pc()<=wo.in.DEBUG&&xc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Sp.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),Qd=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Jd(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return Yd(t,n)},t.prototype.rr=function(t,e,n){return Yd(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Yd(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Ud(t)._s((function(r){return Md(t,r,e).next((function(t){return t&&(n=!0),Sp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(a,s){if(s<=e){var u=n.Nr(t,a).next((function(e){if(!e)return o++,r.fi(t,a).next((function(){return r._i(a),Hd(t).delete([0,Up(a.path)])}))}));i.push(u)}})).next((function(){return Sp.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Yd(t,e)},t.prototype.Cr=function(t,e){var n,r=Hd(t),i=al.U;return r.ls({index:Zp.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==al.U&&e(new pl(Bp(n)),i),i=s,n=a):i=al.U})).next((function(){i!==al.U&&e(new pl(Bp(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Yd(t,e){return Hd(t).put(function(t,e){return new Zp(0,Up(t.path),e)}(e,t.vs))}var Xd=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return tv(t).put(ev(e),n)},t.prototype._i=function(t,e){var n=tv(t),r=ev(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return tv(t).get(ev(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return tv(t).get(ev(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:Dd(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=If();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=If(),i=new gf(pl.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Dd(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return Sp.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return tv(t).ls({range:r},(function(t,e,r){for(var a=pl.Tt(t);o&&pl.J(o,a)<0;)n(o,null),o=i.ce();o&&o.isEqual(a)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=Cf(),o=e.path.length+1,a={};if(n.isEqual(ul.min())){var s=e.path.rt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.rt(),c=pd(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Yp.collectionReadTimeIndex}return tv(t).ls(a,(function(t,n,a){if(t.length===o){var s=hd(r.Kt,n);e.path.st(s.key.path)?s instanceof Gl&&Nh(e,s)&&(i=i.Ht(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new $d(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Zd(t).get(Xp.key).next((function(t){return Fc(!!t),t}))},t.prototype.Lr=function(t,e){return Zd(t).put(Xp.key,e)},t.prototype.$r=function(t){if(t){var e=hd(this.Kt,t);return e instanceof Wl&&e.version.isEqual(ul.min())?null:e}return null},t}(),$d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Pd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,Ac.ZT)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new wf((function(t,e){return qc(t.ot(),e.ot())}));return this.oi.forEach((function(o,a){var s=e.zr.get(o);if(a.li){var u=fd(e.Gr.Kt,a.li,e.ai(o));i=i.add(o.path.Z());var c=Dd(u);r+=c-s,n.push(e.Gr.ui(t,o,u))}else if(r-=s,e.Wr){var l=fd(e.Gr.Kt,new Wl(o,ul.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),Sp.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(xd);function Zd(t){return sd(t,Xp.store)}function tv(t){return sd(t,Yp.store)}function ev(t){return t.path.rt()}var nv=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Fc(n<r&&n>=0&&r<=11);var o=new Cp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Hp.store)}(t),function(t){t.createObjectStore(Gp.store,{keyPath:Gp.keyPath}),t.createObjectStore(Wp.store,{keyPath:Wp.keyPath,autoIncrement:!0}).createIndex(Wp.userMutationsIndex,Wp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Kp.store)}(t),rv(t),function(t){t.createObjectStore(Yp.store)}(t));var a=Sp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Zp.store),t.deleteObjectStore($p.store),t.deleteObjectStore(td.store)}(t),rv(t)),a=a.next((function(){return function(t){var e=t.store(td.store),n=new td(0,0,ul.min().G(),0);return e.put(td.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Wp.store).os().next((function(n){t.deleteObjectStore(Wp.store),t.createObjectStore(Wp.store,{keyPath:Wp.keyPath,autoIncrement:!0}).createIndex(Wp.userMutationsIndex,Wp.userMutationsKeyPath,{unique:!0});var r=e.store(Wp.store),i=n.map((function(t){return r.put(t)}));return Sp.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(nd.store,{keyPath:nd.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Xp.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Yp.store);e.createIndex(Yp.readTimeIndex,Yp.readTimeIndexPath,{unique:!1}),e.createIndex(Yp.collectionReadTimeIndex,Yp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(rd.store,{keyPath:rd.keyPath})}(t),function(t){t.createObjectStore(id.store,{keyPath:id.keyPath})}(t)}))),a},t.prototype.Jr=function(t){var e=0;return t.store(Yp.store).ls((function(t,n){e+=Dd(n)})).next((function(){var n=new Xp(e);return t.store(Xp.store).put(Xp.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Gp.store),r=t.store(Wp.store);return n.os().next((function(n){return Sp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Wp.userMutationsIndex,i).next((function(r){return Sp.forEach(r,(function(r){Fc(r.userId===n.userId);var i=gd(e.Kt,r);return Rd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(Zp.store),n=t.store(Yp.store);return t.store(td.store).get(td.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new ll(n),a=function(t){return[0,Up(t)]}(o);r.push(e.get(a).next((function(n){return n?Sp.resolve():function(n){return e.put(new Zp(0,Up(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Sp.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(ed.store,{keyPath:ed.keyPath});var n=e.store(ed.store),r=new Sd,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Up(i)})}};return e.store(Yp.store).ls({hs:!0},(function(t,e){var n=new ll(t);return i(n.Z())})).next((function(){return e.store(Kp.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Bp(n));return i(r.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store($p.store);return n.ls((function(t,r){var i=yd(r),o=bd(e.Kt,i);return n.put(o)}))},t}();function rv(t){t.createObjectStore(Zp.store,{keyPath:Zp.keyPath}).createIndex(Zp.documentTargetsIndex,Zp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($p.store,{keyPath:$p.keyPath}).createIndex($p.queryTargetsIndexName,$p.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(td.store)}var iv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ov=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=a,this.document=s,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Wc(Gc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Qd(this,i),this.lo=n+"main",this.Kt=new ld(u),this._o=new kp(this.lo,11,new nv(this.Kt)),this.fo=new qd(this.Ii,this.Kt),this.Ti=new Cd,this.wo=function(t,e){return new Xd(t,e)}(this.Kt,this.Ti),this.Eo=new _d,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Rc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Wc(Gc.FAILED_PRECONDITION,iv);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new al(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return(0,Ac.mG)(e,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return(0,Ac.mG)(e,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return(0,Ac.mG)(e,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return sv(e).put(new nd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Op(e))return xc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return xc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return av(t).get(Hp.key).next((function(t){return Sp.resolve(e.Co(t))}))},t.prototype.xo=function(t){return sv(t).delete(this.clientId)},t.prototype.No=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=sd(t,nd.store);return e.os().next((function(t){var n=i.Fo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Sp.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.To)for(e=0,n=t;e<n.length;e++)r=n[e],this.To.removeItem(this.ko(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Sp.resolve(!0):av(t).get(Hp.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Wc(Gc.FAILED_PRECONDITION,iv);return!1}}return!(!e.networkEnabled||!e.inForeground)||sv(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&xc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t=this;return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Hp.store,nd.store],(function(e){var n=new ad(e,al.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return sv(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Ld.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;xc("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this._o.runTransaction(t,o,od,(function(o){return i=new ad(o,r.io?r.io.next():al.U),"readwrite-primary"===e?r.po(i).next((function(t){return!!t||r.vo(i)})).next((function(e){if(!e)throw Rc("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo((function(){return r.ho(!1)})),new Wc(Gc.FAILED_PRECONDITION,Fp);return n(i)})).next((function(t){return r.Do(i).next((function(){return t}))})):r.Go(i).next((function(){return n(i)}))})).then((function(t){return i.ps(),t}))},t.prototype.Go=function(t){var e=this;return av(t).get(Hp.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Wc(Gc.FAILED_PRECONDITION,iv)}))},t.prototype.Do=function(t){var e=new Hp(this.clientId,this.allowTabSynchronization,Date.now());return av(t).put(Hp.key,e)},t.jn=function(){return kp.jn()},t.prototype.So=function(t){var e=this,n=av(t);return n.get(Hp.key).next((function(t){return e.Co(t)?(xc("IndexedDbPersistence","Releasing primary lease."),n.delete(Hp.key)):Sp.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Rc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return xc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Rc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Rc("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function av(t){return sd(t,Hp.store)}function sv(t){return sd(t,nd.store)}function uv(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var cv=function(t,e){this.progress=t,this.zo=e},lv=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=If();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=Tf();return i.forEach((function(t,e){e||(e=new Wl(t,ul.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return pl.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):_h(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new pl(e)).next((function(t){var e=Cf();return t instanceof Gl&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Cf();return this.Ti.Qs(t,i).next((function(a){return Sp.forEach(a,(function(a){var s=function(t,e){return new dh(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.sc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Zh(u,r.get(c),0,o.Ss);r=l instanceof Gl?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Nh(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Of(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof of&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Gl&&(c=c.Ht(t,e))})),c}))},t}(),hv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Of(),i=Of(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),fv=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(ul.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var a=i.lc(e,o);return(gh(e)||yh(e))&&i._c(e.limitType,a,r,n)?i.hc(t,e):(Pc()<=wo.in.DEBUG&&xc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kh(e)),i.uc.jr(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new wf(Ah(t));return e.forEach((function(e,r){r instanceof Gl&&Nh(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Pc()<=wo.in.DEBUG&&xc("QueryEngine","Using full collection scan to execute query:",kh(e)),this.uc.jr(t,e,ul.min())},t}(),pv=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new gf(qc),this.wc=new Pd((function(t){return Yl(t)}),Xl),this.Ec=ul.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new lv(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function dv(t,e,n,r){return new pv(t,e,n,r)}function vv(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return n=jc(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(a){return o=a,r=n.persistence.Ko(e),i=new lv(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],a=Of(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.Zo(t,a).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function mv(t,e){var n=jc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Sp.resolve();return o.forEach((function(t){a=a.next((function(){return r.fi(e,t)})).next((function(e){var o=e,a=n.Fs.get(t);Fc(null!==a),(!o||o.version.u(a)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),a.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function gv(t){var e=jc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function yv(t,e){var n=jc(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var a=[];e.Fe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=s.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return Fc(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(s,c,e)&&a.push(n.fo.Ji(t,c))}}}));var s=Tf();if(e.Me.forEach((function(r,i){e.Le.has(r)&&a.push(n.persistence.Ii.kr(t,r))})),a.push(bv(t,o,e.Me,r,void 0).next((function(t){s=t}))),!r.isEqual(ul.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));a.push(u)}return Sp.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,s)}))})).then((function(t){return n.dc=i,t}))}function bv(t,e,n,r,i){var o=Of();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Tf();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Wl&&a.version.isEqual(ul.min())?(e._i(n,u),o=o.Ht(n,a)):null==s||a.version.u(s.version)>0||0===a.version.u(s.version)&&s.hasPendingWrites?(e.ui(a,u),o=o.Ht(n,a)):xc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function wv(t,e){var n=jc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function _v(t,e){var n=jc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?(r=i,Sp.resolve(r)):n.fo.qi(t).next((function(i){return r=new Ph(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Ev(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:r=jc(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Op(a=s.sent()))throw a;return xc("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Tv(t,e,n){var r=jc(t),i=ul.min(),o=Of();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=jc(t),i=r.wc.get(n);return void 0!==i?Sp.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Th(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:ul.min(),n?o:Of())})).next((function(t){return{documents:t,Pc:o}}))}))}function Iv(t,e){var n=jc(t),r=jc(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Sv(t){var e=jc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=jc(t),i=Tf(),o=pd(n),a=tv(e),s=IDBKeyRange.lowerBound(o,!0);return a.ls({index:Yp.readTimeIndex,range:s},(function(t,e){var n=hd(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:dd(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo,r=t.readTime;return e.Ec=r,n}))}function Cv(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){return[2,(e=jc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=tv(t),n=ul.min();return e.ls({index:Yp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=dd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function kv(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p;return(0,Ac.Jh)(this,(function(d){switch(d.label){case 0:for(i=jc(t),o=Of(),a=Tf(),s=Nf(),u=0,c=n;u<c.length;u++)l=c[u],h=e.yc(l.metadata.name),l.document&&(o=o.add(h)),a=a.Ht(h,e.gc(l)),s=s.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,_v(i,function(t){return Th(mh(ll.ct("__bundle__/docs/"+t)))}(r))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return bv(t,f,a,ul.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,p.targetId).next((function(){return i.fo.nr(t,o,p.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function Nv(t,e,n){return void 0===n&&(n=Of()),(0,Ac.mG)(this,void 0,void 0,(function(){var r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return[4,_v(t,Th(wd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=jc(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Xf(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var a=r.$t(Hc.h,o);return i.dc=i.dc.Ht(a.targetId,a),i.fo.Ji(t,a).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var Av=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Sp.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Xf(n.createTime)}),Sp.resolve()},t.prototype.$s=function(t,e){return Sp.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:wd(t.bundledQuery),readTime:Xf(t.readTime)}}(e)),Sp.resolve()},t}(),Ov=function(){function t(){this.Sc=new wf(Pv.Dc),this.Cc=new wf(Pv.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Pv(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new Pv(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new pl(new ll([])),r=new Pv(n,t),i=new Pv(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new pl(new ll([])),n=new Pv(e,t),r=new Pv(e,t+1),i=Of();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new Pv(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Pv=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return pl.J(t.key,e.key)||qc(t.$c,e.$c)},t.xc=function(t,e){return qc(t.$c,e.$c)||pl.J(t.key,e.key)},t}(),xv=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new wf(Pv.Dc)}return t.prototype.Ri=function(t){return Sp.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new ud(i,e,n,r);this.Ho.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.qc=this.qc.add(new Pv(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Sp.resolve(o)},t.prototype.yi=function(t,e){return Sp.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return Sp.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.pi=function(){return Sp.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Sp.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Pv(e,0),i=new Pv(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Sp.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new wf(qc);return e.forEach((function(t){var e=new Pv(t,0),i=new Pv(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Sp.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;pl.Et(i)||(i=i.child(""));var o=new Pv(new pl(i),0),a=new wf(qc);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(a=a.add(t.$c)),!0)}),o),Sp.resolve(this.Kc(a))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;Fc(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Sp.forEach(e.mutations,(function(i){var o=new Pv(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Pv(e,0),r=this.qc.Pe(n);return Sp.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return this.Ho.length,Sp.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Rv=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new gf(pl.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:a,readTime:n}),this.size+=a-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Sp.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=If();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),Sp.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Cf(),i=new pl(e.path.child("")),o=this.docs.ne(i);o.ae();){var a=o.ce(),s=a.key,u=a.value,c=u.li,l=u.readTime;if(!e.path.st(s.path))break;l.u(n)<=0||c instanceof Gl&&Nh(e,c)&&(r=r.Ht(c.key,c))}return Sp.resolve(r)},t.prototype.Gc=function(t,e){return Sp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Dv(this)},t.prototype.Mr=function(t){return Sp.resolve(this.size)},t}(),Dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return(0,Ac.ZT)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),Sp.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(xd),Lv=function(){function t(t){this.persistence=t,this.zc=new Pd((function(t){return Yl(t)}),Xl),this.lastRemoteSnapshotVersion=ul.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Ov,this.targetCount=0,this.Yc=Vd.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Sp.resolve()},t.prototype.Ki=function(t){return Sp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Sp.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Sp.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Sp.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Vd(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Sp.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Sp.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Sp.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(a),o.push(r.Xi(t,s.targetId)),i++)})),Sp.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return Sp.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Sp.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Sp.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Sp.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Sp.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Sp.resolve(n)},t.prototype.ki=function(t,e){return Sp.resolve(this.Jc.ki(e))},t}(),Mv=function(){function t(t,e){var n=this;this.Xc={},this.io=new al(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Lv(this),this.Ti=new Id,this.wo=function(t,e){return new Rv(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new ld(e),this.Eo=new Av(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new xv(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;xc("MemoryPersistence","Starting transaction:",t);var i=new Fv(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return Sp.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),Fv=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return(0,Ac.ZT)(e,t),e}(jp),jv=function(){function t(t){this.persistence=t,this.sa=new Ov,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Mc()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Sp.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Sp.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Sp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Sp.forEach(this.oa,(function(r){var i=pl.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Sp.Bn([function(){return Sp.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Uv(t,e){return"firestore_clients_"+t+"_"+e}function Vv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function qv(t,e){return"firestore_targets_"+t+"_"+e}var Bv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new Wc(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(Rc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Wc(r.error.code,r.error.message)),i?new t(e,r.state,o):(Rc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=xf(),a=0;i&&a<r.activeTargetIds.length;++a)i=kl(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Rc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Gv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Rc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wv=function(){function t(){this.activeTargetIds=xf()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kv=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new gf(qc),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Uv(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Wv),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return(0,Ac.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.fa.Qo()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Uv(this.persistenceKey,r)))&&(o=Hv.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(a=this.storage.getItem(this.ga))&&(s=this.ba(a))&&this.va(s),u=0,c=this.Ia;u<c.length;u++)l=c[u],this.Ea(l);return this.Ia=[],this.window.addEventListener("unload",(function(){return h.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(qv(this.persistenceKey,t));if(n){var r=zv.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(qv(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return xc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){xc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){xc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(xc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Rc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return(0,Ac.mG)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return(0,Ac.Jh)(this,(function(s){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(a=function(t){var e=al.U;if(null!=t)try{var n=JSON.parse(t);Fc("number"==typeof n),e=n}catch(t){Rc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==al.U&&this.L(a);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Bv(this.currentUser,t,e,n),i=Vv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Vv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=qv(this.persistenceKey,t),i=new zv(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Hv.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Bv.aa(new tl(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return zv.aa(r,e)},t.prototype.ba=function(t){return Gv.aa(t)},t.prototype.Xa=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(xc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fa.iu(a,s).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=xf();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Jv=function(){function t(){this.ru=new Wv,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Wv,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Qv=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Yv=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){xc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){xc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Xv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$v=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Zv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return(0,Ac.ZT)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var a=new Nc;a.listenOnce(Ic.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Tc.NO_ERROR:var e=a.getResponseJson();xc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Tc.TIMEOUT:xc("Connection",'RPC "'+t+'" timed out'),o(new Wc(Gc.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:var n=a.getStatus();if(xc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Gc).indexOf(e)>=0?e:Gc.UNKNOWN}(r.status);o(new Wc(s,r.message))}else o(new Wc(Gc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Wc(Gc.UNAVAILABLE,"Connection failed."));break;default:Mc()}}finally{xc("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=_c(),i=Ec(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),(0,_o.uI)()||(0,_o.b$)()||(0,_o.d)()||(0,_o.w1)()||(0,_o.Mn)()||(0,_o.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");xc("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new $v({du:function(t){c?xc("Connection","Not sending because WebChannel is closed:",t):(u||(xc("Connection","Opening WebChannel transport."),s.open(),u=!0),xc("Connection","WebChannel sending:",t),s.send(t))},wu:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,kc.EventType.OPEN,(function(){c||xc("Connection","WebChannel transport opened.")})),h(s,kc.EventType.CLOSE,(function(){c||(c=!0,xc("Connection","WebChannel transport closed"),l.Pu())})),h(s,kc.EventType.ERROR,(function(t){c||(c=!0,Dc("Connection","WebChannel transport errored:",t),l.Pu(new Wc(Gc.UNAVAILABLE,"The operation could not be completed")))})),h(s,kc.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Fc(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){xc("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=lf[t];if(void 0!==e)return mf(e)}(o),u=i.message;void 0===a&&(a=Gc.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Pu(new Wc(a,u)),s.close()}else xc("Connection","WebChannel received:",n),l.yu(n)}})),h(i,Sc.STAT_EVENT,(function(t){t.stat===Cc.PROXY?xc("Connection","Detected buffering proxy"):t.stat===Cc.NOPROXY&&xc("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);xc("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return xc("RestConnection","Received: ",t),t}),(function(e){throw Dc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=Xv[t];return this.Vu+"/v1/"+e+":"+n},t}());function tm(){return"undefined"!=typeof window?window:null}function em(){return"undefined"!=typeof document?document:null}function nm(t){return new Kf(t,!0)}var rm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&xc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),im=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new rm(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Gc.RESOURCE_EXHAUSTED?(Rc(e.toString()),Rc("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Gc.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new Wc(Gc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return(0,Ac.mG)(t,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return xc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(xc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),om=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,a}return(0,Ac.ZT)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Mc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Fc(void 0===e||"string"==typeof e),Hc.fromBase64String(e||"")):(Fc(void 0===e||e instanceof Uint8Array),Hc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Gc.UNKNOWN:mf(t.code);return new Wc(e,t.message||"")}(s);n=new Vf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=ep(t,r.document.name),o=Xf(r.document.updateTime);var s=new ql({mapValue:{fields:r.document.fields}}),u=(a=new Gl(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new jf(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=ep(t,r.document),o=r.readTime?Xf(r.readTime):ul.min(),s=new Wl(i,o),a=r.removedTargetIds||[],n=new jf([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=ep(t,r.document),o=r.removedTargetIds||[],n=new jf([],o,i,null);else{if(!("filter"in e))return Mc();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new df(r),o=l.targetId,n=new Uf(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return ul.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ul.min():e.readTime?Xf(e.readTime):ul.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=ip(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=$l(r)?{documents:lp(t,r)}:{query:hp(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Qf(t,e.resumeToken):e.Mt.u(ul.min())>0&&(n.readTime=Jf(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mc()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=ip(this.Kt),e.removeTarget=t,this.eh(e)},e}(im),am=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,a._h=!1,a}return(0,Ac.ZT)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Fc(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Fc(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Xf(t.updateTime):Xf(e);n.isEqual(ul.min())&&(n=Xf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Jh(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Xf(t.commitTime);return this.listener.wh(n,e)}return Fc(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=ip(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return up(e.Kt,t)}))};this.eh(n)},e}(im),sm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return(0,Ac.ZT)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Wc(Gc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Gc.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Gc.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),um=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Rc(e),this.Ph=!1):xc("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),cm=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return(0,Ac.mG)(o,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return ym(this)?(xc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return(e=jc(t)).Oh.add(4),[4,hm(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,lm(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new um(n,r)};function lm(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:if(!ym(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function hm(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fm(t,e){var n=jc(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),gm(n)?mm(n):Rm(n).Ju()&&dm(n,e))}function pm(t,e){var n=jc(t),r=Rm(n);n.Nh.delete(e),r.Ju()&&vm(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():ym(n)&&n.Mh.set("Unknown"))}function dm(t,e){t.Lh.cn(e.targetId),Rm(t).hh(e)}function vm(t,e){t.Lh.cn(e),Rm(t).lh(e)}function mm(t){t.Lh=new Bf({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Rm(t).start(),t.Mh.yh()}function gm(t){return ym(t)&&!Rm(t).Hu()&&t.Nh.size>0}function ym(t){return 0===jc(t).Oh.size}function bm(t){t.Lh=void 0}function wm(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){return t.Nh.forEach((function(e,n){dm(t,e)})),[2]}))}))}function _m(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(n){return bm(t),gm(t)?(t.Mh.ph(e),mm(t)):t.Mh.set("Unknown"),[2]}))}))}function Em(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:if(t.Mh.set("Online"),!(e instanceof Vf&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),xc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Tm(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof jf?t.Lh.wn(e):e instanceof Uf?t.Lh.yn(e):t.Lh.In(e),n.isEqual(ul.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,gv(t.Sh)];case 8:return i=a.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Hc.h,n.Mt)),vm(t,e);var r=new Ph(n.target,e,1,n.sequenceNumber);dm(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return xc("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Tm(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Tm(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r=this;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:if(!Op(e))throw e;return t.Oh.add(1),[4,hm(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return gv(t.Sh)}),t.fs.bo((function(){return(0,Ac.mG)(r,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return xc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,lm(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Im(t,e){return e().catch((function(n){return Tm(t,n,e)}))}function Sm(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:e=jc(t),n=Dm(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return ym(t)&&t.xh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,wv(e.Sh,r)];case 3:return null===(i=a.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Dm(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Tm(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Cm(e)&&km(e),[2]}}))}))}function Cm(t){return ym(t)&&!Dm(t).Hu()&&t.xh.length>0}function km(t){Dm(t).start()}function Nm(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){return Dm(t).Th(),[2]}))}))}function Am(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,Ac.Jh)(this,(function(o){for(e=Dm(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function Om(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=cd.from(r,e,n),[4,Im(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Sm(t)];case 2:return o.sent(),[2]}}))}))}function Pm(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return e&&Dm(t).fh?[4,function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return vf(r=e.code)&&r!==Gc.ABORTED?(n=t.xh.shift(),Dm(t).Xu(),[4,Im(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Sm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Cm(t)&&km(t),[2]}}))}))}function xm(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return n=jc(t),e?(n.Oh.delete(2),[4,lm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,hm(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Rm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=jc(t);return r.mh(),new om(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:wm.bind(null,t),Iu:_m.bind(null,t),uh:Em.bind(null,t)}),t.Fh.push((function(n){return(0,Ac.mG)(e,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),gm(t)?mm(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),bm(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Dm(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=jc(t);return r.mh(),new am(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Nm.bind(null,t),Iu:Pm.bind(null,t),Eh:Am.bind(null,t),wh:Om.bind(null,t)}),t.Fh.push((function(n){return(0,Ac.mG)(e,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Sm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(xc("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Lm=function(){this.jh=void 0,this.listeners=[]},Mm=function(){this.queries=new Pd((function(t){return Ch(t)}),Sh),this.onlineState="Unknown",this.Wh=new Set};function Fm(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Ac.Jh)(this,(function(c){switch(c.label){case 0:if(n=jc(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Lm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.Gh(r)];case 2:return a.jh=c.sent(),[3,4];case 3:return s=c.sent(),u=Mp(s,"Initialization of query '"+kh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&qm(n),[2]}}))}))}function jm(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ac.Jh)(this,(function(s){return n=jc(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Um(t,e){for(var n=jc(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hh(a)&&(r=!0);u.jh=a}}r&&qm(n)}function Vm(t,e,n){var r=jc(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function qm(t){t.Wh.forEach((function(t){t.next()}))}var Bm=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Lf(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Lf.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),zm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Hm=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return ep(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?sp(this.Kt,t.document,!1):new Wl(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Xf(t)},t}(),Gm=function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=Wm(t)}return t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Hm(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.yc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Of()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e,n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return[4,kv(this.Sh,new Hm(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Nv(this.Sh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new cv(Object.assign({},this.progress),t))]}}))}))},t}();function Wm(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Km=function(t){this.key=t},Jm=function(t){this.key=t},Qm=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Of(),this.Ce=Of(),this.ll=Ah(t),this._l=new Rf(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Df,i=e?e._l:this._l,o=e?e.Ce:this.Ce,a=i,s=!1,u=gh(this.query)&&i.size===this.query.limit?i.last():null,c=yh(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof Gl?e:null;h&&(h=Nh(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),p=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.El(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),gh(this.query)||yh(this.query))for(;a.size>this.query.limit;){var l=gh(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:a,wl:r,_c:s,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mc()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var a=e?this.Il():[],s=0===this.hl.size&&this.qe?1:0,u=s!==this.ul;return this.ul=s,0!==o.length||u?{snapshot:new Lf(this.query,t._l,i,o,t.Ce,0===s,u,!1),ml:a}:{ml:a}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Df,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Of(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Jm(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Km(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Of();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Lf.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Ym=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Xm=function(t){this.key=t,this.yl=!1},$m=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Pd((function(t){return Ch(t)}),Sh),this.Dl=new Map,this.Cl=[],this.xl=new gf(pl.J),this.Nl=new Map,this.Ol=new Ov,this.Fl={},this.kl=new Map,this.Ml=Vd.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Zm(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return n=Ng(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,_v(n.Sh,Th(e))];case 2:return a=u.sent(),s=n.pl.ka(a.targetId),r=a.targetId,[4,tg(n,e,r,"current"===s)];case 3:i=u.sent(),n.$l&&fm(n.gl,a),u.label=4;case 4:return[2,i]}}))}))}function tg(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,Ac.Jh)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:return(i=e.view.dl(n))._c?[4,Tv(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Fe.get(e.targetId),a=e.view.Ei(i,t.$l,o),[2,(pg(t,e.targetId,a.ml),a.snapshot)]}}))}))}(t,e,n,r)},[4,Tv(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Qm(e,i.Pc),a=o.dl(i.documents),s=Ff.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(a,t.$l,s),pg(t,n,u.ml),c=new Ym(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function eg(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return n=jc(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Sh(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Ev(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),pm(n.gl,r.targetId),hg(n,r.targetId)})).catch(Od)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hg(n,r.targetId),[4,Ev(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ng(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:r=Ag(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=jc(t),i=sl.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Of());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=tf(c,n.get(c.key));null!=l&&a.push(new of(c.key,l,zl(l.proto.mapValue),Qh.exists(!0)))}return r.Ho.Pi(t,i,a,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=s.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new gf(qc)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,mg(r,i.oi)];case 3:return s.sent(),[4,Sm(r.gl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Mp(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function rg(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:n=jc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,yv(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Fc(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Fc(r.yl):t.Ke.size>0&&(Fc(r.yl),r.yl=!1))})),[4,mg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Od(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ig(t,e,n){var r=jc(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=jc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&qm(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function og(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Ac.Jh)(this,(function(c){switch(c.label){case 0:return(r=jc(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(a=(a=new gf(pl.J)).Ht(o,new Wl(o,ul.min())),s=Of().add(o),u=new Mf(ul.min(),new Map,new wf(qc),a,s),[4,rg(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),vg(r),[3,4];case 2:return[4,Ev(r.Sh,e,!1).then((function(){return hg(r,e,n)})).catch(Od)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function ag(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:n=jc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mv(n.Sh,e)];case 2:return i=o.sent(),lg(n,r,null),cg(n,r),n.pl.Oa(r,"acknowledged"),[4,mg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Od(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function sg(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:r=jc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=jc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return Fc(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),lg(r,e,n),cg(r,e),r.pl.Oa(e,"rejected",n),[4,mg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Od(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ug(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:ym((n=jc(t)).gl)||xc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=jc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=s.sent(),a=Mp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function cg(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function lg(t,e,n){var r=jc(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function hg(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||fg(t,e)}))}function fg(t,e){var n=t.xl.get(e);null!==n&&(pm(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),vg(t))}function pg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Km?(t.Ol.sr(o.key,e),dg(t,o)):o instanceof Jm?(xc("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||fg(t,o.key)):Mc()}}function dg(t,e){var n=e.key;t.xl.get(n)||(xc("SyncEngine","New document in limbo: "+n),t.Cl.push(n),vg(t))}function vg(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Xm(e)),t.xl=t.xl.Ht(e,n),fm(t.gl,new Ph(Th(mh(e.path)),n,2,al.U))}}function mg(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:return r=jc(t),i=[],o=[],a=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,s){a.push(r.Bl(s,e,n).then((function(t){if(t){r.$l&&r.pl.qa(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=hv.cc(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vl.uh(i),[4,function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,Ac.Jh)(this,(function(h){switch(h.label){case 0:n=jc(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Sp.forEach(e,(function(e){return Sp.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return Sp.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Op(r=h.sent()))throw r;return xc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.dc.get(s),c=u.Mt,l=u.Bt(c),n.dc=n.dc.Ht(s,l));return[2]}}))}))}(r.Sh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function gg(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return(n=jc(t)).currentUser.isEqual(e)?[3,3]:(xc("SyncEngine","User change. New user:",e.R()),[4,vv(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new Wc(Gc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,mg(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function yg(t,e){var n=jc(t),r=n.Nl.get(e);if(r&&r.yl)return Of().add(r.key);var i=Of(),o=n.Dl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Sl.get(u);i=i.ye(c.view.fl)}return i}function bg(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return[4,Tv((n=jc(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&pg(n,e.targetId,i.ml),i)]}}))}))}function wg(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){return[2,Sv((e=jc(t)).Sh).then((function(t){return mg(e,t)}))]}))}))}function _g(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=jc(t),r=jc(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Sp.resolve(null)}))}))}((i=jc(t)).Sh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sm(i.gl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lg(i,e,r||null),cg(i,e),function(t,e){jc(jc(t).Ho).Ni(e)}(i.Sh,e)):Mc(),a.label=4;case 4:return[4,mg(i,o)];case 5:return a.sent(),[3,7];case 6:xc("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Eg(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,Ac.Jh)(this,(function(l){switch(l.label){case 0:return Ng(n=jc(t)),Ag(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Tg(n,r.rt())]);case 1:return i=l.sent(),n.Ll=!0,[4,xm(n.gl,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],fm(n.gl,s);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],c=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):c=c.then((function(){return hg(n,e),Ev(n.Sh,e,!0)})),pm(n.gl,e)})),[4,c]);case 4:return l.sent(),[4,Tg(n,u)];case 5:return l.sent(),function(t){var e=jc(t);e.Nl.forEach((function(t,n){pm(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new gf(pl.J)}(n),n.Ll=!1,[4,xm(n.gl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Tg(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p,d,v;return(0,Ac.Jh)(this,(function(m){switch(m.label){case 0:n=jc(t),r=[],i=[],o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Dl.get(s))&&0!==c.length?[4,_v(n.Sh,Th(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],p=n.Sl.get(f),[4,bg(n,p)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Iv(n.Sh,s)];case 8:return v=m.sent(),[4,_v(n.Sh,v)];case 9:return u=m.sent(),[4,tg(n,Ig(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Ig(t){return vh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Sg(t){var e=jc(t);return jc(jc(e.Sh).persistence).Qo()}function Cg(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:return(i=jc(t)).Ll?(xc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Sv(i.Sh)];case 3:return o=s.sent(),a=Mf.$e(e,"current"===n),[4,mg(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Ev(i.Sh,e,!0)];case 6:return s.sent(),hg(i,e,r),[3,8];case 7:Mc(),s.label=8;case 8:return[2]}}))}))}function kg(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,Ac.Jh)(this,(function(p){switch(p.label){case 0:if(!(r=Ng(t)).Ll)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(a=o[i],r.Dl.has(a)?(xc("SyncEngine","Adding an already active target "+a),[3,5]):[4,Iv(r.Sh,a)]):[3,6];case 2:return s=p.sent(),[4,_v(r.Sh,s)];case 3:return u=p.sent(),[4,tg(r,Ig(s),u.targetId,!1)];case 4:p.sent(),fm(r.gl,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Ev(r.Sh,t,!1).then((function(){pm(r.gl,t),hg(r,t)})).catch(Od)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Ng(t){var e=jc(t);return e.gl.Ch.Bh=rg.bind(null,e),e.gl.Ch.Sn=yg.bind(null,e),e.gl.Ch.$h=og.bind(null,e),e.vl.uh=Um.bind(null,e.Vl),e.vl.ql=Vm.bind(null,e.Vl),e}function Ag(t){var e=jc(t);return e.gl.Ch.qh=ag.bind(null,e),e.gl.Ch.Uh=sg.bind(null,e),e}function Og(t,e,n){var r=jc(t);(function(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Ac.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=jc(t),r=Xf(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Eo.Ms(t,e.id)})).then((function(t){return!!t&&t.createTime.u(r)>=0}))}(t.Sh,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n.Ul(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.Ql(Wm(r)),i=new Gm(r,t.Sh,e.Kt),[4,e.Kl()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.ol(o)]:[3,10];case 7:return(a=c.sent())&&n.Ql(a),[4,e.Kl()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,mg(t,s.zo,void 0)];case 12:return c.sent(),[4,function(t,e){var n=jc(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Eo.Ls(t,e)}))}(t.Sh,r)];case 13:return c.sent(),n.Ul(s.progress),[3,15];case 14:return Dc("SyncEngine","Loading bundle failed with "+(u=c.sent())),n.jl(u),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.pl.Wa()}))}var Pg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return this.Kt=nm(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return dv(this.persistence,new fv,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Mv(jv.ra,this.Kt)},t.prototype.Wl=function(t){return new Jv},t.prototype.terminate=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),xg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ac.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Cv(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Ag(this.Xl.fa)];case 4:return n.sent(),[4,Sm(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return dv(this.persistence,new fv,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.Ii._r;return new Kd(e,t.fs)},e.prototype.Gl=function(t){var e=uv(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Ad.Xs(this.cacheSizeBytes):Ad.ei;return new ov(this.synchronizeTabs,e,t.clientId,n,t.fs,tm(),em(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Jv},e}(Pg),Rg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ac.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Kv?(this.pl.fa={nu:_g.bind(null,n),su:Cg.bind(null,n),iu:kg.bind(null,n),Qo:Sg.bind(null,n),eu:wg.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return(0,Ac.mG)(r,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return[4,Eg(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=tm();if(!Kv.jn(e))throw new Wc(Gc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=uv(t.gu.T,t.gu.persistenceKey);return new Kv(e,t.fs,n,t.clientId,t.Yl)},e}(xg),Dg=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n=this;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return ig(n.fa,t,1)},this.gl.Ch.s_=gg.bind(null,this.fa),[4,xm(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Mm},t.prototype.Zl=function(t){var e,n=nm(t.gu.T),r=(e=t.gu,new Zv(e));return function(t,e,n){return new sm(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return ig(a.fa,t,0)},o=Yv.jn()?new Yv:new Qv,new cm(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new $m(t,e,n,r,i,o);return a&&(s.Ll=!0),s}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return e=jc(t),xc("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,hm(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}();function Lg(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var r;return(0,Ac.Jh)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){return[2]}))}))},releaseLock:function(){}}}var Mg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error&&this.i_(this.observer.error,t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Fg=function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Ip,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e,n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new zm(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),jg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new fl(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}(),Ug=function(t){this._methodName=t};function Vg(t,e,n){if(!n)throw new Wc(Gc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function qg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Bg(t,e,n,r){if(!0===e&&!0===r)throw new Wc(Gc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function zg(t){if(!pl.Et(t))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Hg(t){if(pl.Et(t))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Gg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Mc()}function Wg(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Wc(Gc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Gg(t);throw new Wc(Gc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Kg(t,e){if(e<=0)throw new Wc(Gc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Jg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Wc(Gc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wc(Gc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Bg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Qg=new Map,Yg=function(){function t(t,e){this.w_="(lite)",this.E_=new Jg({}),this.T_=!1,t instanceof Zc?(this.I_=t,this.m_=new nl):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Wc(Gc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(t.options.projectId)}(t),this.m_=new rl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Wc(Gc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Wc(Gc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Jg(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new nl;switch(t.type){case"gapi":var e=t.client;return Fc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ol(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Wc(Gc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return this,(t=Qg.get(this))&&(xc("ComponentProvider","Removing Datastore"),Qg.delete(this),t.terminate()),Promise.resolve();var t},t}(),Xg=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Zg(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),$g=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Zg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,mh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return(0,Ac.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Xg(this.firestore,null,new pl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}($g);function ty(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Jc&&(t=t._),Vg("collection","path",e),t instanceof Yg)return Hg(n=ll.ct.apply(ll,(0,Ac.pr)([e],r))),new Zg(t,null,n);if(!(t instanceof Xg||t instanceof Zg))throw new Wc(Gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hg(n=ll.ct.apply(ll,(0,Ac.pr)([t.path],r)).child(ll.ct(e))),new Zg(t.firestore,null,n)}function ey(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Jc&&(t=t._),1===arguments.length&&(e=Vc.t()),Vg("doc","path",e),t instanceof Yg)return zg(n=ll.ct.apply(ll,(0,Ac.pr)([e],r))),new Xg(t,null,new pl(n));if(!(t instanceof Xg||t instanceof Zg))throw new Wc(Gc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zg(n=t.D_.child(ll.ct.apply(ll,(0,Ac.pr)([e],r)))),new Xg(t.firestore,t instanceof Zg?t.v_:null,new pl(n))}function ny(t,e){return t instanceof Jc&&(t=t._),e instanceof Jc&&(e=e._),(t instanceof Xg||t instanceof Zg)&&(e instanceof Xg||e instanceof Zg)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ry(t,e){return t instanceof Jc&&(t=t._),e instanceof Jc&&(e=e._),t instanceof $g&&e instanceof $g&&t.firestore===e.firestore&&Sh(t.C_,e.C_)&&t.v_===e.v_}var iy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Wc(Gc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Wc(Gc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return qc(this.x_,t.x_)||qc(this.N_,t.N_)},t}(),oy=/^__.*__$/,ay=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new of(t,this.data,this.zt,e,this.fieldTransforms):new rf(t,this.data,e,this.fieldTransforms)},t}(),sy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new of(t,this.data,this.zt,e,this.fieldTransforms)},t}();function uy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mc()}}var cy=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ay(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(uy(this.k_)&&oy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),ly=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||nm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new cy({k_:t,methodName:e,W_:n,path:fl.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function hy(t){var e=t.p_(),n=nm(t.I_);return new ly(t.I_,!!e.ignoreUndefinedProperties,n)}function fy(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Sy("Data must be an object, but it was:",a,r);var s,u,c=Ty(r,a);if(o.merge)s=new gl(a.zt),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=Cy(e,f[h],n);if(!a.contains(p))throw new Wc(Gc.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Oy(l,p)||l.push(p)}s=new gl(l),u=a.fieldTransforms.filter((function(t){return s.It(t.field)}))}else s=null,u=a.fieldTransforms;return new ay(new ql(c),s,u)}var py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ug);function dy(t,e,n){return new cy({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.z_=function(t){return new Kh(t.path,new Uh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ug),my=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,Ac.ZT)(e,t),e.prototype.z_=function(t){var e=dy(this,t,!0),n=this.H_.map((function(t){return Ey(t,e)})),r=new Vh(n);return new Kh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ug),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return(0,Ac.ZT)(e,t),e.prototype.z_=function(t){var e=dy(this,t,!0),n=this.H_.map((function(t){return Ey(t,e)})),r=new Bh(n);return new Kh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ug),yy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return(0,Ac.ZT)(e,t),e.prototype.z_=function(t){var e=new Hh(t.Kt,Dh(t.Kt,this.J_));return new Kh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ug);function by(t,e,n,r){var i=t.G_(1,e,n);Sy("Data must be an object, but it was:",i,r);var o=[],a=new Bl;vl(r,(function(t,r){var s=Ny(e,t,n);r instanceof Jc&&(r=r._);var u=i.U_(s);if(r instanceof py)o.push(s);else{var c=Ey(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new gl(o);return new sy(a.yt(),s,i.fieldTransforms)}function wy(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[Cy(e,r,n)],u=[i];if(o.length%2!=0)throw new Wc(Gc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Cy(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Bl,f=s.length-1;f>=0;--f)if(!Oy(l,s[f])){var p=s[f],d=u[f];d instanceof Jc&&(d=d._);var v=a.U_(p);if(d instanceof py)l.push(p);else{var m=Ey(d,v);null!=m&&(l.push(p),h.set(p,m))}}var g=new gl(l);return new sy(h.yt(),g,a.fieldTransforms)}function _y(t,e,n,r){return void 0===r&&(r=!1),Ey(n,t.G_(r?4:3,e))}function Ey(t,e){if(t instanceof Jc&&(t=t._),Iy(t))return Sy("Unsupported field value:",e,t),Ty(t,e);if(t instanceof Ug)return function(t,e){if(!uy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Ey(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Jc&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dh(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=sl.fromDate(t);return{timestampValue:Jf(e.Kt,n)}}if(t instanceof sl)return n=new sl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Jf(e.Kt,n)};if(t instanceof iy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kc)return{bytesValue:Qf(e.Kt,t.l)};if(t instanceof Xg){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:$f(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Gg(t))}(t,e)}function Ty(t,e){var n={};return ml(t)?e.path&&e.path.length>0&&e.zt.push(e.path):vl(t,(function(t,r){var i=Ey(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Iy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof sl||t instanceof iy||t instanceof Kc||t instanceof Xg||t instanceof Ug)}function Sy(t,e,n){if(!Iy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Gg(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Cy(t,e,n){if(e instanceof Jc&&(e=e._),e instanceof jg)return e.d_;if("string"==typeof e)return Ny(t,e);throw Ay("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ky=new RegExp("[~\\*/\\[\\]]");function Ny(t,e,n){if(e.search(ky)>=0)throw Ay("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(jg.bind.apply(jg,(0,Ac.pr)([void 0],e.split("."))))).d_}catch(r){throw Ay("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ay(t,e,n,r,i){var o=r&&!r.nt(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Wc(Gc.INVALID_ARGUMENT,(s+=". ")+t+u)}function Oy(t,e){return t.some((function(t){return t.isEqual(e)}))}var Py=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Wc(Gc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return n=jc(t),r=ip(n.Kt)+"/documents",i={documents:e.map((function(t){return tp(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Fc(!!e.found),e.found.name,e.found.updateTime;var n=ep(t,e.found.name),r=Xf(e.found.updateTime),i=new ql({mapValue:{fields:e.found.fields}});return new Gl(n,r,i,{})}(t,e):"missing"in e?function(t,e){Fc(!!e.missing),Fc(!!e.readTime);var n=ep(t,e.missing),r=Xf(e.readTime);return new Wl(n,r)}(t,e):Mc()}(n.Kt,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Fc(!!e),s.push(e)})),s)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Wl||t instanceof Gl?n.sf(t):Mc()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ff(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=pl.ft(n);e.mutations.push(new pf(r,e.Gt(r)))})),[4,function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return n=jc(t),r=ip(n.Kt)+"/documents",i={writes:e.map((function(t){return up(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Gl)e=t.version;else{if(!(t instanceof Wl))throw Mc();e=ul.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Wc(Gc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Qh.updateTime(e):Qh.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ul.min()))throw new Wc(Gc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qh.updateTime(e)}return Qh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),xy=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new rm(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return(0,Ac.mG)(t,void 0,void 0,(function(){var t,e,n=this;return(0,Ac.Jh)(this,(function(r){return t=new Py(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Sl(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!vf(e)}return!1},t}(),Ry=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=tl.UNAUTHENTICATED,this.clientId=Vc.t(),this._f=function(){},this.N=new Ip,this.credentials.S((function(t){xc("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new Wc(Gc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Ip;return this.fs.Tf((function(){return(0,Ac.mG)(t,void 0,void 0,(function(){var t,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Mp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Dy(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),xc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return(0,Ac.mG)(i,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return[4,vv(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Ly(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,My(t)];case 1:return n=i.sent(),xc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return(n=jc(t)).fs.Af(),xc("RemoteStore","RemoteStore received new credentials"),r=ym(n),n.Oh.add(3),[4,hm(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,lm(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function My(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(xc("FirestoreClient","Using default OfflineComponentProvider"),[4,Dy(t,new Pg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Fy(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(xc("FirestoreClient","Using default OnlineComponentProvider"),[4,Ly(t,new Dg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function jy(t){return My(t).then((function(t){return t.persistence}))}function Uy(t){return My(t).then((function(t){return t.Sh}))}function Vy(t){return Fy(t).then((function(t){return t.gl}))}function qy(t){return Fy(t).then((function(t){return t.fa}))}function By(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,Fy(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Zm.bind(null,e.fa),n.Jh=eg.bind(null,e.fa),n)]}}))}))}function zy(t,e,n){var r=this;void 0===n&&(n={});var i=new Ip;return t.fs.ys((function(){return(0,Ac.mG)(r,void 0,void 0,(function(){var r;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Mg({next:function(o){e.ys((function(){return jm(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Wc(Gc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Wc(Gc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Bm(mh(n.path),o,{includeMetadataChanges:!0,sl:!0});return Fm(t,a)},[4,By(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Hy(t,e,n){var r=this;void 0===n&&(n={});var i=new Ip;return t.fs.ys((function(){return(0,Ac.mG)(r,void 0,void 0,(function(){var r;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Mg({next:function(n){e.ys((function(){return jm(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Wc(Gc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Bm(n,o,{includeMetadataChanges:!0,sl:!0});return Fm(t,a)},[4,By(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Gy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new rm(this,"async_queue_retry"),this.vf=function(){var e=em();e&&xc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Op(t=n.sent()))throw t;return xc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Rc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Lp.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Mc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t;return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Gy,r.w_="name"in e?e.name:"[DEFAULT]",r}return(0,Ac.ZT)(e,t),e.prototype.b_=function(){return this.Lf||Jy(this),this.Lf.terminate()},e}(Yg);function Ky(t){return t.Lf||Jy(t),t.Lf.df(),t.Lf}function Jy(t){var e=t.p_(),n=function(t,e,n){return new $c(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Ry(t.m_,t.Mf,n)}function Qy(t,e,n){var r=this,i=new Ip;return t.fs.enqueue((function(){return(0,Ac.mG)(r,void 0,void 0,(function(){var r;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Dy(t,n)];case 1:return o.sent(),[4,Ly(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Gc.FAILED_PRECONDITION||t.code===Gc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Yy(t){if(t.R_||t.P_)throw new Wc(Gc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xy=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Nl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wl(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(_l(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw Mc()}},t.prototype.Wf=function(t,e){var n=this,r={};return vl(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new iy(wl(t.latitude),wl(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Tl(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Il(t));default:return null}},t.prototype.Bf=function(t){var e=bl(t);return new sl(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=ll.ct(t);Fc(Tp(n));var r=new Zc(n.get(1),n.get(3)),i=new pl(n.X(5));return r.isEqual(e)||Rc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),$y=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Xg(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Zy(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(tb("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}($y);function tb(t,e){return"string"==typeof e?Ny(t,e):e instanceof Jc?e._.d_:e.d_}function eb(t){if(yh(t)&&0===t.Nt.length)throw new Wc(Gc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nb=function(){};function rb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return(0,Ac.ZT)(e,t),e.prototype.Yf=function(t){var e=hy(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){hb(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(lb(r,t,h))}s={arrayValue:{values:u}}}else s=lb(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hb(a,o),s=_y(n,"where",a,"in"===o||"not-in"===o);var f=Zl.create(i,o,s);return function(t,e){if(e.xt()){var n=wh(t);if(null!==n&&!n.isEqual(e.field))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=bh(t);null!==r&&fb(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Wc(Gc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Wc(Gc.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new $g(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new dh(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(nb),ob=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return(0,Ac.ZT)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lh(e,n);return function(t,e){if(null===bh(t)){var n=wh(t);null!==n&&fb(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new $g(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new dh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(nb),ab=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return(0,Ac.ZT)(e,t),e.prototype.Yf=function(t){return new $g(t.firestore,t.v_,Ih(t.C_,this.nd,this.sd))},e}(nb),sb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return(0,Ac.ZT)(e,t),e.prototype.Yf=function(t){var e=cb(t,this.type,this.rd,this.od);return new $g(t.firestore,t.v_,function(t,e){return new dh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(nb),ub=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return(0,Ac.ZT)(e,t),e.prototype.Yf=function(t){var e=cb(t,this.type,this.rd,this.od);return new $g(t.firestore,t.v_,function(t,e){return new dh(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(nb);function cb(t,e,n,r){if(n[0]instanceof Jc&&(n[0]=n[0]._),n[0]instanceof $y)return function(t,e,n,r,i){if(!r)throw new Wc(Gc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Eh(t);a<s.length;a++){var u=s[a];if(u.field.ht())o.push(Ll(e,r.key));else{var c=r.field(u.field);if(El(c))throw new Wc(Gc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new uh(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=hy(t.firestore);return function(t,e,n,r,i,o){var a=t.Nt;if(i.length>a.length)throw new Wc(Gc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ht()){if("string"!=typeof c)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_h(t)&&-1!==c.indexOf("/"))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ll.ct(c));if(!pl.Et(l))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new pl(l);s.push(Ll(e,h))}else{var f=_y(n,r,c);s.push(f)}}return new uh(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function lb(t,e,n){if(n instanceof Jc&&(n=n._),"string"==typeof n){if(""===n)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_h(e)&&-1!==n.indexOf("/"))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ll.ct(n));if(!pl.Et(r))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ll(t,new pl(r))}if(n instanceof Xg)return Ll(t,n.S_);throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Gg(n)+".")}function hb(t,e){if(!Array.isArray(t)||0===t.length)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function fb(t,e,n){if(!n.isEqual(e))throw new Wc(Gc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function pb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function db(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var vb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ac.ZT)(e,t),e.prototype.Uf=function(t){return new Kc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Xg(this.firestore,null,e)},e}(Xy),mb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),gb=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).zf=e,s.ad=e,s.metadata=o,s}return(0,Ac.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new yb(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(tb("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}($y),yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(gb),bb=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new mb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new yb(n.zf,n.Hf,r.key,r,new mb(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Wc(Gc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new yb(t.zf,t.Hf,e.doc.key,e.doc,new mb(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new yb(t.zf,t.Hf,e.doc.key,e.doc,new mb(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:wb(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function wb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mc()}}function _b(t,e){return t instanceof gb&&e instanceof gb?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof bb&&e instanceof bb&&t.zf===e.zf&&ry(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ac.ZT)(e,t),e.prototype.Uf=function(t){return new Kc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Xg(this.firestore,null,e)},e}(Xy);function Tb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Wg(t,Xg);var o=Wg(t.firestore,Wy),a=hy(o);return e instanceof Jc&&(e=e._),Sb(o,[("string"==typeof e||e instanceof jg?wy(a,"updateDoc",t.S_,e,n,r):by(a,"updateDoc",t.S_,e)).O_(t.S_,Qh.exists(!0))])}function Ib(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Jc&&(t=t._);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||pb(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(pb(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Xg)c=Wg(t.firestore,Wy),l=mh(t.S_.path),u={next:function(e){i[s]&&i[s](Cb(c,t,e))},error:i[s+1],complete:i[s+2]};else{var p=Wg(t,$g);c=Wg(p.firestore,Wy),l=p.C_;var d=new Eb(c);u={next:function(t){i[s]&&i[s](new bb(c,d,p,t))},error:i[s+1],complete:i[s+2]},eb(t.C_)}return function(t,e,n,r){var i=this,o=new Mg(r),a=new Bm(e,o,n);return t.fs.ys((function(){return(0,Ac.mG)(i,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return e=Fm,[4,By(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return(0,Ac.mG)(i,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return e=jm,[4,By(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Ky(c),l,h,u)}function Sb(t,e){return function(t,e){var n=this,r=new Ip;return t.fs.ys((function(){return(0,Ac.mG)(n,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return n=ng,[4,qy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Ky(t),e)}function Cb(t,e,n){var r=n.docs.get(e.S_),i=new Eb(t);return new gb(t,i,e.S_,r,new mb(n.hasPendingWrites,n.fromCache),e.v_)}var kb=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=hy(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Nb(t,this.zf),i=db(r.v_,e,n),o=fy(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,Qh.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=Nb(t,this.zf);return e instanceof Jc&&(e=e._),o="string"==typeof e||e instanceof jg?wy(this.wd,"WriteBatch.update",a.S_,e,n,r):by(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.O_(a.S_,Qh.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Nb(t,this.zf);return this.fd=this.fd.concat(new ff(e.S_,Qh.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Wc(Gc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Nb(t,e){if(t instanceof Jc&&(t=t._),t.firestore!==e)throw new Wc(Gc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return(0,Ac.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Nb(e,this.zf),i=new Eb(this.zf);return t.prototype.get.call(this,e).then((function(t){return new gb(n.zf,i,r.S_,t.Jf,new mb(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=hy(t)}return t.prototype.get=function(t){var e=this,n=Nb(t,this.zf),r=new vb(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Mc();var i=t[0];if(i instanceof Wl)return new $y(e.zf,r,n.S_,null,n.v_);if(i instanceof Gl)return new $y(e.zf,r,i.key,i,n.v_);throw Mc()}))},t.prototype.set=function(t,e,n){var r=Nb(t,this.zf),i=db(r.v_,e,n),o=fy(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Nb(t,this.zf);return e instanceof Jc&&(e=e._),o="string"==typeof e||e instanceof jg?wy(this.wd,"Transaction.update",a.S_,e,n,r):by(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=Nb(t,this.zf);return this.Td.delete(e.S_),this},t}()),Ob=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Yy(t=Wg(t,Wy));var n=Ky(t),r=t.p_(),i=new Dg;return Qy(n,i,new xg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Yy(t=Wg(t,Wy));var e=Ky(t),n=t.p_(),r=new Dg;return Qy(e,r,new Rg(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Wc(Gc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ip;return t.Mf.Tf((function(){return(0,Ac.mG)(e,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return kp.jn()?(e=t+"main",[4,kp.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(uv(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),Pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Zc||(i.md=e),i}return(0,Ac.ZT)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Wg(t,Yg)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Dc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return(0,Ac.mG)(e,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,jy(t)];case 1:return e=r.sent(),[4,Vy(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=jc(t);return e.Oh.delete(0),lm(e)}(n))]}}))}))}))}(Ky(Wg(this._,Wy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return(0,Ac.mG)(e,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,jy(t)];case 1:return e=r.sent(),[4,Vy(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return(e=jc(t)).Oh.add(0),[4,hm(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ky(Wg(this._,Wy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Bg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ip;return t.fs.ys((function(){return(0,Ac.mG)(e,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return e=ug,[4,qy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ky(Wg(this._,Wy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Mg(e);return t.fs.ys((function(){return(0,Ac.mG)(n,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){jc(t).Wh.add(e),e.next()},[4,By(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return(0,Ac.mG)(n,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){jc(t).Wh.delete(e)},[4,By(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ky(t=Wg(t,Wy)),pb(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Wc(Gc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Hb(this,ty(this._,t))}catch(t){throw Mb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Lb(this,ey(this._,t))}catch(t){throw Mb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new qb(this,function(t,e){if(t=Wg(t,Yg),Vg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new $g(t,null,function(t){return new dh(ll.at(),t)}(e))}(this._,t))}catch(t){throw Mb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ip;return t.fs.ys((function(){return(0,Ac.mG)(n,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Fy(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new xy(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Ky(t),(function(n){return e(new Ab(t,n))}))}(this._,(function(n){return t(new Rb(e,n))}))},e.prototype.batch=function(){var t=this;return Ky(this._),new Db(new kb(this._,(function(e){return Sb(t._,e)})))},e.prototype.loadBundle=function(t){throw new Wc(Gc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Wc(Gc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Jc),xb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ac.ZT)(e,t),e.prototype.Uf=function(t){return new Xc(new Kc(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Lb.Ad(e,this.firestore,null)},e}(Xy);var Rb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new xb(e),r}return(0,Ac.ZT)(e,t),e.prototype.get=function(t){var e=this,n=Gb(t);return this._.get(n).then((function(t){return new Ub(e.zf,new gb(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Gb(t);return n?(qg("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Gb(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,(0,Ac.pr)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Gb(t);return this._.delete(e),this},e}(Jc),Db=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.set=function(t,e,n){var r=Gb(t);return n?(qg("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Gb(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,(0,Ac.pr)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Gb(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Jc),Lb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new xb(e),r}return(0,Ac.ZT)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Wc(Gc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Xg(n._,r,new pl(t)))},e.Ad=function(t,n,r){return new e(n,new Xg(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Hb(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Hb(this.firestore,ty(this._,t))}catch(t){throw Mb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Jc&&(t=t._),t instanceof Xg&&ny(this._,t)},e.prototype.set=function(t,e){e=qg("DocumentReference.set",e);try{return function(t,e,n){t=Wg(t,Xg);var r=Wg(t.firestore,Wy),i=db(t.v_,e,n);return Sb(r,[fy(hy(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Qh.jt())])}(this._,t,e)}catch(t){throw Mb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Tb(this._,t):Tb.apply(void 0,(0,Ac.pr)([this._,t,e],n))}catch(t){throw Mb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Sb(Wg((t=this._).firestore,Wy),[new ff(t.S_,Qh.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Fb(e),i=jb(e,(function(e){return new Ub(t.firestore,new gb(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Ib(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wg(t,Xg);var e=Wg(t.firestore,Wy),n=Ky(e),r=new Eb(e);return function(t,e){var n=this,r=new Ip;return t.fs.ys((function(){return(0,Ac.mG)(n,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=jc(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Gl?n.resolve(i):i instanceof Wl?n.resolve(null):n.reject(new Wc(Gc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Mp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Uy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new gb(e,r,t.S_,n,new mb(n instanceof Gl&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Wg(t,Xg);var e=Wg(t.firestore,Wy);return zy(Ky(e),t.S_,{source:"server"}).then((function(n){return Cb(e,t,n)}))}(this._):function(t){t=Wg(t,Xg);var e=Wg(t.firestore,Wy);return zy(Ky(e),t.S_).then((function(n){return Cb(e,t,n)}))}(this._)).then((function(t){return new Ub(e.firestore,new gb(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Jc);function Mb(t,e,n){return t.message=t.message.replace(e,n),t}function Fb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!pb(r))return r}return{}}function jb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=pb(t[0])?t[0]:pb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ub=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return(0,Ac.ZT)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Lb(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return _b(this._,t._)},e}(Jc),Vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Ub),qb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new xb(e),r}return(0,Ac.ZT)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,rb(this._,function(t,e,n){var r=e,i=tb("where",t);return new ib(i,r,n)}(t,n,r)))}catch(t){throw Mb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,rb(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=tb("orderBy",t);return new ob(r,n)}(t,n)))}catch(t){throw Mb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,rb(this._,function(t){return Kg("limit",t),new ab("limit",t,"F")}(t)))}catch(t){throw Mb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,rb(this._,function(t){return Kg("limitToLast",t),new ab("limitToLast",t,"L")}(t)))}catch(t){throw Mb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rb(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sb("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Mb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rb(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sb("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Mb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rb(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ub("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Mb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rb(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ub("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Mb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ry(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wg(t,$g);var e=Wg(t.firestore,Wy),n=Ky(e),r=new Eb(e);return function(t,e){var n=this,r=new Ip;return t.fs.ys((function(){return(0,Ac.mG)(n,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Tv(t,e,!0)];case 1:return s=u.sent(),r=new Qm(e,s.Pc),i=r.dl(s.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Mp(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Uy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new bb(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Wg(t,$g);var e=Wg(t.firestore,Wy),n=Ky(e),r=new Eb(e);return Hy(n,t.C_,{source:"server"}).then((function(n){return new bb(e,r,t,n)}))}(this._):function(t){t=Wg(t,$g);var e=Wg(t.firestore,Wy),n=Ky(e),r=new Eb(e);return eb(t.C_),Hy(n,t.C_).then((function(n){return new bb(e,r,t,n)}))}(this._)).then((function(t){return new zb(e.firestore,new bb(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Fb(e),i=jb(e,(function(e){return new zb(t.firestore,new bb(t.firestore._,t.Hf,t._,e.ud))}));return Ib(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Jc),Bb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return(0,Ac.ZT)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Vb(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Jc),zb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return(0,Ac.ZT)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new qb(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Vb(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new Bb(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Vb(n.zf,r))}))},e.prototype.isEqual=function(t){return _b(this._,t._)},e}(Jc),Hb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return(0,Ac.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Lb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Lb(this.firestore,void 0===t?ey(this._):ey(this._,t))}catch(t){throw Mb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Wg(t.firestore,Wy),r=ey(t),i=db(t.v_,e);return Sb(n,[fy(hy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Qh.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Lb(e.firestore,t)}))},e.prototype.isEqual=function(t){return ny(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(qb);function Gb(t){return t instanceof Jc&&(t=t._),Wg(t,Xg)}var Wb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(jg.bind.apply(jg,(0,Ac.pr)([void 0],e))))||this}return(0,Ac.ZT)(e,t),e.documentId=function(){return new e(fl.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Jc&&(t=t._),t instanceof jg&&this._.d_.isEqual(t.d_)},e}(Jc),Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ac.ZT)(e,t),e.serverTimestamp=function(){var t=new vy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new py("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new my("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gy("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new yy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Jc),Jb=function(){function t(){this.Pd={},this.yd=new Ip,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)},t}();var Qb,Yb=n(909),Xb={Firestore:Pb,GeoPoint:iy,Timestamp:sl,Blob:Xc,Transaction:Rb,WriteBatch:Db,DocumentReference:Lb,DocumentSnapshot:Ub,Query:qb,QueryDocumentSnapshot:Vb,QuerySnapshot:zb,CollectionReference:Hb,FieldPath:Wb,FieldValue:Kb,setLogLevel:function(t){var e;e=t,Oc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Yb.wA("firestore",(function(t){return function(t,e){return new Pb(t,new Wy(t,e),new Ob)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Xb)))})(Qb=bo.Z),Qb.registerVersion("@firebase/firestore","2.1.2"),function(t){t.prototype.loadBundle=function(t){return function(t,e){var n=new Jb;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Fg(t,e)}(function(t,e){if(t instanceof Uint8Array)return Lg(t,e);if(t instanceof ArrayBuffer)return Lg(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,nm(e));t.fs.ys((function(){return(0,Ac.mG)(i,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return e=Og,[4,qy(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(Ky(t._),t.I_,e,n),n}(this,t)},t.prototype.namedQuery=function(t){return function(t,e){return function(t,e){var n=this;return t.fs.enqueue((function(){return(0,Ac.mG)(n,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=jc(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Eo.$s(t,e)}))},[4,Uy(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Ky(t._),e).then((function(e){return e?new qb(t,new $g(t._,null,e.query)):null}))}(this,t)}}(Pb);var $b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zb=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,Ac.ZT)(e,t),e}(Error);var tw=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t;return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function ew(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var nw=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return ew(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?ew(t,(function(t){return e.decode(t)})):t},t}();var rw=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new nw,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new tw(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,p;return(0,Ac.Jh)(this,(function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new Zb("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([iw(c,this.postJSON(r,i,o)),l,iw(c,this.cancelAllRequests)])];case 2:if(!(h=d.sent()))throw new Zb("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!$b[s])return new Zb("internal","internal");r=$b[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new Zb(r,i,o)}(h.status,h.json,this.serializer),f)throw f;if(!h.json)throw new Zb("internal","Response is not valid JSON object.");if(void 0===(p=h.json.data)&&(p=h.json.result),void 0===p)throw new Zb("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},t}();function iw(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}var ow,aw,sw;ow=bo.Z,aw=fetch.bind(self),sw={Functions:rw},ow.INTERNAL.registerComponent(new Yb.wA("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new rw(n,r,i,e,aw)}),"PUBLIC").setServiceProps(sw).setMultipleInstances(!0)),bo.Z.registerVersion("@firebase/functions","0.6.1");var uw,cw=n(676),lw="0.4.19",hw=1e4,fw="w:0.4.19",pw="FIS_v2",dw=36e5,vw=((uw={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',uw["not-registered"]="Firebase Installation is not registered.",uw["installation-not-found"]="Firebase Installation not found.",uw["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',uw["app-offline"]="Could not process request. Application offline.",uw["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",uw),mw=new _o.LL("installations","Installations",vw);function gw(t){return t instanceof _o.ZR&&t.code.includes("request-failed")}function yw(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function bw(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function ww(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,mw.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function _w(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Ew(t,e){var n=e.refreshToken,r=_w(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function Tw(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Iw(t,e){var n=e.fid;return(0,Ac.mG)(this,void 0,void 0,(function(){var e,r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return e=yw(t),r=_w(t),i={fid:n,authVersion:pw,appId:t.appId,sdkVersion:fw},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Tw((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:bw(s.authToken)}];case 3:return[4,ww("Create Installation",a)];case 4:throw u.sent()}}))}))}function Sw(t){return new Promise((function(e){setTimeout(e,t)}))}var Cw=/^[cdef][\w-]{21}$/;function kw(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,(0,Ac.fl)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Cw.test(e)?e:""}catch(t){return""}}function Nw(t){return t.appName+"!"+t.appId}var Aw=new Map;function Ow(t,e){var n=Nw(t);Pw(n,e),function(t,e){var n=Rw();n&&n.postMessage({key:t,fid:e});Dw()}(n,e)}function Pw(t,e){var n,r,i=Aw.get(t);if(i)try{for(var o=(0,Ac.XA)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var xw=null;function Rw(){return!xw&&"BroadcastChannel"in self&&((xw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Pw(t.data.key,t.data.fid)}),xw}function Dw(){0===Aw.size&&xw&&(xw.close(),xw=null)}var Lw,Mw="firebase-installations-store",Fw=null;function jw(){return Fw||(Fw=(0,cw.openDb)("firebase-installations-database",1,(function(t){if(0===t.oldVersion)t.createObjectStore(Mw)}))),Fw}function Uw(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:return n=Nw(t),[4,jw()];case 1:return r=s.sent(),i=r.transaction(Mw,"readwrite"),[4,(o=i.objectStore(Mw)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||Ow(t,e.fid),[2,e]}}))}))}function Vw(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return e=Nw(t),[4,jw()];case 1:return n=i.sent(),[4,(r=n.transaction(Mw,"readwrite")).objectStore(Mw).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function qw(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return n=Nw(t),[4,jw()];case 1:return r=u.sent(),i=r.transaction(Mw,"readwrite"),[4,(o=i.objectStore(Mw)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Ow(t,s.fid),[2,s]}}))}))}function Bw(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,qw(t,(function(n){var r=function(t){return Gw(t||{fid:kw(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mw.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Iw(t,e)];case 1:return n=i.sent(),[2,Uw(t,n)];case 2:return gw(r=i.sent())&&409===r.customData.serverCode?[4,Vw(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Uw(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:zw(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function zw(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return[4,Hw(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Sw(100)];case 3:return o.sent(),[4,Hw(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Bw(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Hw(t){return qw(t,(function(t){if(!t)throw mw.create("installation-not-found");return Gw(t)}))}function Gw(t){return 1===(e=t).registrationStatus&&e.registrationTime+hw<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Ww(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,Ac.mG)(this,void 0,void 0,(function(){var t,i,o,a,s,u,c;return(0,Ac.Jh)(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return yw(t)+"/"+n+"/authTokens:generate"}(n,e),i=Ew(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:fw}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Tw((function(){return fetch(t,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,bw(c)];case 3:return[4,ww("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Kw(t,e){return void 0===e&&(e=!1),(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return[4,qw(t.appConfig,(function(r){if(!Qw(r))throw mw.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dw}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,Jw(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Sw(100)];case 3:return i.sent(),[4,Jw(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Kw(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw mw.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,Ac.pi)((0,Ac.pi)({},t),{authToken:e})}(r);return n=function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Ww(t,e)];case 1:return n=o.sent(),i=(0,Ac.pi)((0,Ac.pi)({},e),{authToken:n}),[4,Uw(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!gw(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Vw(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Ac.pi)((0,Ac.pi)({},e),{authToken:{requestStatus:0}}),[4,Uw(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Jw(t){return qw(t,(function(t){if(!Qw(t))throw mw.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+hw<Date.now()?(0,Ac.pi)((0,Ac.pi)({},t),{authToken:{requestStatus:0}}):t}))}function Qw(t){return void 0!==t&&2===t.registrationStatus}function Yw(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return[4,Bw(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Xw(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return yw(t)+"/"+n}(t,e),r=Ew(t,e),i={method:"DELETE",headers:r},[4,Tw((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,ww("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function $w(t,e){var n=t.appConfig;return function(t,e){Rw();var n=Nw(t),r=Aw.get(n);r||(r=new Set,Aw.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Nw(t),r=Aw.get(n);r&&(r.delete(e),0===r.size&&Aw.delete(n),Dw())}(n,e)}}function Zw(t){return mw.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Yb.wA("installations",(function(t){var e=t.getProvider("app").getImmediate(),n=function(t){var e,n;if(!t||!t.options)throw Zw("App Configuration");if(!t.name)throw Zw("App Name");try{for(var r=(0,Ac.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Zw(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),r={appConfig:n,platformLoggerProvider:t.getProvider("platform-logger")},i={app:e,getId:function(){return function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,Bw(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Kw(t).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return[4,Yw(t.appConfig)];case 1:return n.sent(),[4,Kw(t,e)];case 2:return[2,n.sent().token]}}))}))}(r,t)},delete:function(){return function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,qw(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw mw.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw mw.create("app-offline");case 3:return[4,Xw(e,n)];case 4:return r.sent(),[4,Vw(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(t){return $w(r,t)}};return i}),"PUBLIC")),t.registerVersion("@firebase/installations",lw)}(bo.Z);var t_,e_=((Lw={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Lw["only-available-in-window"]="This method is available in a Window context.",Lw["only-available-in-sw"]="This method is available in a service worker context.",Lw["permission-default"]="The notification permission was not granted and dismissed instead.",Lw["permission-blocked"]="The notification permission was not granted and blocked instead.",Lw["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Lw["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Lw["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Lw["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Lw["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Lw["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Lw["token-update-no-token"]="FCM returned no token when updating the user to push.",Lw["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Lw["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Lw["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Lw["invalid-vapid-key"]="The public VAPID key must be a string.",Lw["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Lw),n_=new _o.LL("messaging","Messaging",e_),r_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",i_="google.c.a.c_id";function o_(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,Ac.fl)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a_(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(t_||(t_={}));var s_="fcm_token_details_db",u_="fcm_token_object_Store";function c_(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i=this;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=o.sent(),n=e.map((function(t){return t.name})),!n.includes(s_))return[2,null];o.label=2;case 2:return r=null,[4,(0,cw.openDb)(s_,5,(function(e){return(0,Ac.mG)(i,void 0,void 0,(function(){var n,i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(u_)?[4,(n=e.transaction.objectStore(u_)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:o_(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:o_(o.auth),p256dh:o_(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:o_(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,cw.deleteDb)(s_)];case 4:return o.sent(),[4,(0,cw.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,cw.deleteDb)("undefined")];case 6:return o.sent(),[2,l_(r)?r:null]}}))}))}function l_(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var h_="firebase-messaging-store",f_=null;function p_(){return f_||(f_=(0,cw.openDb)("firebase-messaging-database",1,(function(t){if(0===t.oldVersion)t.createObjectStore(h_)}))),f_}function d_(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return e=g_(t),[4,p_()];case 1:return[4,i.sent().transaction(h_).objectStore(h_).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,c_(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,v_(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function v_(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return n=g_(t),[4,p_()];case 1:return r=o.sent(),[4,(i=r.transaction(h_,"readwrite")).objectStore(h_).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function m_(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return e=g_(t),[4,p_()];case 1:return n=i.sent(),[4,(r=n.transaction(h_,"readwrite")).objectStore(h_).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function g_(t){return t.appConfig.appId}function y_(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return[4,T_(t)];case 1:n=u.sent(),r=I_(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(E_(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),n_.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,n_.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw n_.create("token-subscribe-no-token");return[2,o.token]}}))}))}function b_(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return[4,T_(t)];case 1:n=u.sent(),r=I_(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(E_(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),n_.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,n_.create("token-update-failed",{errorInfo:s});if(!o.token)throw n_.create("token-update-no-token");return[2,o.token]}}))}))}function w_(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:return[4,T_(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(E_(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,n_.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),n_.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function E_(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function T_(t){var e=t.appConfig,n=t.installations;return(0,Ac.mG)(this,void 0,void 0,(function(){var t;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function I_(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==r_&&(o.web.applicationPubKey=i),o}function S_(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw n_.create("permission-blocked");return[4,A_(e,n)];case 1:return r=a.sent(),[4,d_(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:o_(r.getKey("auth")),p256dh:o_(r.getKey("p256dh"))},i?[3,3]:[2,N_(t,o)];case 3:if(s=i.subscriptionOptions,c=(u=o).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,h=u.auth===s.auth,f=u.p256dh===s.p256dh,c&&l&&h&&f)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,w_(t,i.token)];case 5:return a.sent(),[3,7];case 6:return a.sent(),[3,7];case 7:return[2,N_(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,k_({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var s,u,c,l,h,f}))}))}function C_(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,d_(t)];case 1:return(n=i.sent())?[4,w_(t,n.token)]:[3,4];case 2:return i.sent(),[4,m_(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function k_(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,b_(e,t)];case 1:return r=a.sent(),i=(0,Ac.pi)((0,Ac.pi)({},t),{token:r,createTime:Date.now()}),[4,v_(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,C_(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function N_(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,y_(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,v_(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function A_(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:a_(e)})]}}))}))}function O_(t){return"object"==typeof t&&!!t&&i_ in t}function P_(t){return new Promise((function(e){setTimeout(e,t)}))}var x_=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw n_.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,Ac.mG)(this,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,d_(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:r_,r.label=2;case 2:return[2,S_(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return C_(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw n_.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw n_.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw n_.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw n_.create("only-available-in-window")},t.prototype.onMessage=function(){throw n_.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw n_.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t),e?[4,M_()]:[2];case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,L_(n,e)]:(r=!1,e.notification?[4,F_(R_(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,P_(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return(0,Ac.mG)(this,void 0,void 0,(function(){var r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,C_(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,d_(this.firebaseDependencies)];case 3:return r=i.sent(),[4,C_(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,S_(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:r_)]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return O_(t.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,D_(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,P_(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=t_.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},t}();function R_(t){var e,n=(0,Ac.pi)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function D_(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return[4,M_()];case 1:e=u.sent();try{for(n=(0,Ac.XA)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(t){a={error:t}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function L_(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=t_.PUSH_RECEIVED;try{for(var i=(0,Ac.XA)(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function M_(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function F_(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length,self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var j_=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===t_.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),O_(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw n_.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,S_(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=r_),[2]}))}))},t.prototype.updateSwReg=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw n_.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),n_.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,C_(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t;return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?n_.create("permission-blocked"):n_.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw n_.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw n_.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw n_.create("invalid-sw-registration");if(this.swRegistration)throw n_.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw n_.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw n_.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case t_.NOTIFICATION_CLICKED:return"notification_open";case t_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function U_(t){return n_.create("missing-app-config-values",{valueName:t})}var V_={isSupported:q_};function q_(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}bo.Z.INTERNAL.registerComponent(new Yb.wA("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n=function(t){var e,n;if(!t||!t.options)throw U_("App Configuration Object");if(!t.name)throw U_("App Name");var r=t.options;try{for(var i=(0,Ac.XA)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw U_(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),r={app:e,appConfig:n,installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!q_())throw n_.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new x_(r):new j_(r)}),"PUBLIC").setServiceProps(V_));var B_="firebasestorage.googleapis.com",z_=function(t){function e(n,r){var i=t.call(this,cE(n),"Firebase Storage: "+r+" ("+cE(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return(0,Ac.ZT)(e,t),e.prototype.codeEquals=function(t){return cE(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(_o.ZR),H_="unknown",G_="object-not-found",W_="quota-exceeded",K_="unauthenticated",J_="unauthorized",Q_="retry-limit-exceeded",Y_="canceled",X_="invalid-url",$_="invalid-default-bucket",Z_="no-default-bucket",tE="cannot-slice-blob",eE="server-file-wrong-size",nE="no-download-url",rE="invalid-argument",iE="app-deleted",oE="invalid-root-operation",aE="invalid-format",sE="internal-error",uE="unsupported-environment";function cE(t){return"storage/"+t}function lE(){return new z_(H_,"An unknown error occurred, please check the error payload for server response.")}function hE(){return new z_(Y_,"User canceled the upload/download.")}function fE(){return new z_(tE,"Cannot slice blob for upload. Please retry the upload.")}function pE(t){return new z_(rE,t)}function dE(){return new z_(iE,"The Firebase app was deleted.")}function vE(t){return new z_(oE,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mE(t,e){return new z_(aE,"String does not match format '"+t+"': "+e)}function gE(t){throw new z_(sE,"Internal error: "+t)}var yE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},bE=function(t,e){this.data=t,this.contentType=e||null};function wE(t,e){switch(t){case yE.RAW:return new bE(_E(e));case yE.BASE64:case yE.BASE64URL:return new bE(EE(t,e));case yE.DATA_URL:return new bE((n=new TE(e)).base64?EE(yE.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw mE(yE.DATA_URL,"Malformed data URL.")}return _E(e)}(n.rest),function(t){return new TE(t).contentType}(e))}var n;throw lE()}function _E(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function EE(t,e){switch(t){case yE.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw mE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case yE.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw mE(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw mE(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var TE=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw mE(yE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i};var IE,SE={STATE_CHANGED:"state_changed"},CE="running",kE="pausing",NE="paused",AE="success",OE="canceling",PE="canceled",xE="error",RE={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DE(t){switch(t){case CE:case kE:case OE:return RE.RUNNING;case NE:return RE.PAUSED;case AE:return RE.SUCCESS;case PE:return RE.CANCELED;default:return RE.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(IE||(IE={}));var LE=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=IE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=IE.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=IE.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw gE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw gE("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw gE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw gE("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ME=function(){function t(){}return t.prototype.createXhrIo=function(){return new LE},t}();function FE(t){return"string"==typeof t||t instanceof String}function jE(t){return UE()&&t instanceof Blob}function UE(){return"undefined"!=typeof Blob}function VE(t,e,n,r){if(r<e)throw new z_(rE,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new z_(rE,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function qE(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function BE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=qE();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(UE())return new Blob(t);throw new z_(uE,"This browser doesn't seem to support creating Blobs")}var zE=function(){function t(t,e){var n=0,r="";jE(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(jE(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(UE()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(BE.apply(null,r))}var i=e.map((function(t){return FE(t)?wE(yE.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),HE=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new z_($_,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=B_.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new t(h,f),c.postModify(n);break}}if(null==n)throw function(t){return new z_(X_,"Invalid URL '"+t+"'.")}(e);return n},t}();function GE(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function WE(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function KE(t){return"https://"+B_+"/v0"+t}function JE(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}function QE(t,e){return e}var YE=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||QE},XE=null;function $E(){if(XE)return XE;var t=[];t.push(new YE("bucket")),t.push(new YE("generation")),t.push(new YE("metageneration")),t.push(new YE("name","fullPath",!0));var e=new YE("name");e.xform=function(t,e){return function(t){return!FE(t)||t.length<2?t:WE(t)}(e)},t.push(e);var n=new YE("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new YE("timeCreated")),t.push(new YE("updated")),t.push(new YE("md5Hash",null,!0)),t.push(new YE("cacheControl",null,!0)),t.push(new YE("contentDisposition",null,!0)),t.push(new YE("contentEncoding",null,!0)),t.push(new YE("contentLanguage",null,!0)),t.push(new YE("contentType",null,!0)),t.push(new YE("metadata","customMetadata",!0)),XE=t}function ZE(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new HE(n,r);return e.makeStorageReference(i)}})}(r,t),r}function tT(t,e,n){var r=GE(e);return null===r?null:ZE(t,r,n)}function eT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function nT(t,e,n){var r=GE(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new HE(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t.makeStorageReference(new HE(e,l.name)),r.items.push(s)}return r}(t,e,r)}var rT=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function iT(t){if(!t)throw lE()}function oT(t,e){return function(n,r){var i=tT(t,r,e);return iT(null!==i),i}}function aT(t,e){return function(n,r){var i=tT(t,r,e);return iT(null!==i),function(t,e){var n=GE(e);if(null===n)return null;if(!FE(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent,o=r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return KE("/b/"+i(n)+"/o/"+i(r))+JE({alt:"media",token:e})}));return o[0]}(i,r)}}function sT(t){return function(e,n){var r,i;return 401===e.getStatus()?r=new z_(K_,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(i=t.bucket,r=new z_(W_,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):r=403===e.getStatus()?function(t){return new z_(J_,"User does not have permission to access '"+t+"'.")}(t.path):n,r.serverResponse=n.serverResponse,r}}function uT(t){var e=sT(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=function(t){return new z_(G_,"Object '"+t+"' does not exist.")}(t.path)),i.serverResponse=r.serverResponse,i}}function cT(t,e,n){var r=KE(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new rT(r,"GET",oT(t,n),i);return o.errorHandler=uT(e),o}function lT(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=KE(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new rT(a,"GET",function(t,e){return function(n,r){var i=nT(t,e,r);return iT(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=sT(e),u}function hT(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var fT=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function pT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){iT(!1)}return iT(!!n&&-1!==(e||["active"]).indexOf(n)),n}var dT=262144;function vT(t,e,n,r,i,o,a,s){var u=new fT(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new z_(eE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw fE();var v=e.maxUploadRetryTime,m=new rT(n,"POST",(function(t,n){var i,a=pT(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?oT(e,o)(t,n):null,new fT(s,c,"final"===a,i)}),v);return m.headers=p,m.body=d.uploadData(),m.progressCallback=s||null,m.errorHandler=sT(t),m}var mT=function(t,e,n){var r=function(t){return"function"==typeof t}(t)||null!=e||null!=n;if(r)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}},gT=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function yT(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var bT=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=$E(),this._resumable=this._shouldDoResumable(this._blob),this._state=CE,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Y_)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(xE))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Y_)?r.completeTransitions_():(r._error=t,r._transition(xE))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===CE&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case CE:t(n);break;case OE:e._transition(PE);break;case kE:e._transition(NE)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=hT(e,r,i),s={name:a.fullPath},u=KE(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=eT(a,n),h=t.maxUploadRetryTime,f=new rT(u,"POST",(function(t){var e;pT(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){iT(!1)}return iT(FE(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=sT(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new rT(n,"POST",(function(t){var e=pT(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){iT(!1)}n||iT(!1);var i=Number(n);return iT(!isNaN(i)),new fT(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=sT(e),o}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=dT*this._chunkMultiplier,n=new fT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=vT(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition(xE)}var a=t._ref.storage.makeRequest(o,i);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(AE)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){dT*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=cT(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(AE)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=hT(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+eT(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=zE.getBlob(c,r,l);if(null===h)throw fE();var f={name:u.fullPath},p=KE(o),d=t.maxUploadRetryTime,v=new rT(p,"POST",oT(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=sT(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(AE)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case OE:case kE:this._state=t,void 0!==this._request&&this._request.cancel();break;case CE:var e=this._state===NE;this._state=t,e&&(this._notifyObservers(),this._start());break;case NE:this._state=t,this._notifyObservers();break;case PE:this._error=hE(),this._state=t,this._notifyObservers();break;case xE:case AE:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case kE:this._transition(NE);break;case OE:this._transition(PE);break;case CE:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=DE(this._state);return new gT(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new mT(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(DE(this._state)){case RE.SUCCESS:yT(this._resolve.bind(null,this.snapshot))();break;case RE.CANCELED:case RE.ERROR:yT(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(DE(this._state)){case RE.RUNNING:case RE.PAUSED:t.next&&yT(t.next.bind(t,this.snapshot))();break;case RE.SUCCESS:t.complete&&yT(t.complete.bind(t))();break;default:t.error&&yT(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===NE||this._state===kE;return t&&this._transition(CE),t},t.prototype.pause=function(){var t=this._state===CE;return t&&this._transition(kE),t},t.prototype.cancel=function(){var t=this._state===CE||this._state===kE;return t&&this._transition(OE),t},t}(),wT=function(){function t(t,e){this._service=t,this._location=e instanceof HE?e:HE.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new HE(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return WE(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new HE(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw vE(t)},t}();function _T(t){var e={prefixes:[],items:[]};return ET(t,e).then((function(){return e}))}function ET(t,e,n){return(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return[4,TT(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,ET(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function TT(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&VE("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),r=e||{},i=lT(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function IT(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=KE(e.fullServerUrl()),o=eT(n,r),a=t.maxOperationRetryTime,s=new rT(i,"PATCH",oT(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=uT(e),s}(t.storage,t._location,e,$E()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}function ST(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=KE(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new rT(r,"GET",aT(t,n),i);return o.errorHandler=uT(e),o}(t.storage,t._location,$E()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new z_(nE,"The given file does not have any download URLs.");return t}))]}}))}))}function CT(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=KE(e.fullServerUrl()),r=t.maxOperationRetryTime,i=new rT(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=uT(e),i}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}function kT(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new HE(t._location.bucket,n);return new wT(t.storage,r)}var NT=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),AT=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new NT(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new NT(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new NT(t,i,i._ref))}:{next:e.next?function(t){return e.next(new NT(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),OT=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new PT(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new PT(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),PT=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(kT(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new AT(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new bT(t,new zE(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=yE.RAW),this._throwIfRoot("putString"),new AT(function(t,e,n,r){void 0===n&&(n=yE.RAW),t._throwIfRoot("putString");var i=wE(n,e),o=(0,Ac.pi)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new bT(t,new zE(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return _T(this._delegate).then((function(e){return new OT(e,t.storage)}))},t.prototype.list=function(t){var e=this;return TT(this._delegate,t).then((function(t){return new OT(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=cT(t.storage,t._location,$E()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return IT(this._delegate,t)},t.prototype.getDownloadURL=function(){return ST(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),CT(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw vE(t)},t}(),xT=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();var RT=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());!function(t){return void 0!==t}(s)?i():i(s)}catch(t){o(t)}else null!==a?((r=lE()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?dE():hE()):o(r=new z_(Q_,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new DT(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,s())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,(0,Ac.pr)([null,t],e));else{var i;s()||o?c.call.apply(c,(0,Ac.pr)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new DT(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=n.getErrorCode()===IE.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new DT(a,n))}else{var s=n.getErrorCode()===IE.ABORT;e(!1,new DT(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),DT=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function LT(t,e,n,r){var i=JE(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){var e=void 0!==bo.Z?bo.Z.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new RT(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}function MT(t){return/^[A-Za-z]+:\/\//.test(t)}function FT(t,e){if(t instanceof UT){var n=t;if(null==n._bucket)throw new z_(Z_,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new wT(n,n._bucket);return null!=e?FT(r,e):r}if(void 0!==e){if(e.includes(".."))throw pE('`path` param cannot contain ".."');return kT(t,e)}return t}function jT(t,e){if(e&&MT(e)){if(t instanceof UT)return new wT(t,e);throw pE("To use ref(service, url), the first argument must be a Storage instance.")}return FT(t,e)}var UT=function(){function t(t,e,n,r){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?HE.makeFromBucketSpec(r):function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:HE.makeFromBucketSpec(e)}(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){VE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new wT(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new xT(dE());var r=LT(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),VT=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(MT(t))throw pE("ref() expected a child path but got a URL, use refFromURL instead.");return new PT(jT(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!MT(t))throw pE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{HE.makeFromUrl(t)}catch(t){throw pE("refFromUrl() expected a valid full URL but got an invalid one.")}return new PT(jT(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function qT(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new VT(n,new UT(n,r,new ME,e))}!function(t){var e={TaskState:RE,TaskEvent:SE,StringFormat:yE,Storage:UT,Reference:PT};t.INTERNAL.registerComponent(new Yb.wA("storage",qT,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}(bo.Z);var BT,zT,HT,GT="0.4.5",WT=GT,KT="FB-PERF-TRACE-MEASURE",JT="_wt_",QT="_fcp",YT="_fid",XT="@firebase/performance/config",$T="@firebase/performance/configexpire",ZT="Performance",tI=((BT={})["trace started"]="Trace {$traceName} was started before.",BT["trace stopped"]="Trace {$traceName} is not running.",BT["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",BT["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",BT["no window"]="Window is not available.",BT["no app id"]="App id is not available.",BT["no project id"]="Project id is not available.",BT["no api key"]="Api key is not available.",BT["invalid cc log"]="Attempted to queue invalid cc event",BT["FB not default"]="Performance can only start when Firebase app instance is the default one.",BT["RC response not ok"]="RC response is not ok",BT["invalid attribute name"]="Attribute name {$attributeName} is invalid.",BT["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",BT["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",BT["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",BT),eI=new _o.LL("performance",ZT,tI),nI=new wo.Yd(ZT);nI.logLevel=wo.in.INFO;var rI,iI=function(){function t(t){if(this.window=t,!t)throw eI.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,_o.hl)()||(nI.info("IndexedDB is not supported by current browswer"),!1):(nI.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}));n.observe({entryTypes:[t]})}},t.getInstance=function(){return void 0===zT&&(zT=new t(HT)),zT},t}();function oI(t,e){var n=t.length-e.length;if(n<0||n>1)throw eI.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var aI,sI,uI=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=oI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=oI("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw eI.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw eI.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw eI.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===rI&&(rI=new t),rI},t}();function cI(){return aI}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(sI||(sI={}));var lI=["firebase_","google_","ga_"],hI=new RegExp("^[a-zA-Z]\\w*$");function fI(){var t=iI.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function pI(){switch(iI.getInstance().document.visibilityState){case"visible":return sI.VISIBLE;case"hidden":return sI.HIDDEN;default:return sI.UNKNOWN}}function dI(){var t=iI.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var vI="0.0.1",mI=!0,gI="FIREBASE_INSTALLATIONS_AUTH";function yI(t){var e=function(){var t=iI.getInstance().localStorage;if(!t)return;var e=t.getItem($T);if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem(XT);if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(wI(e),Promise.resolve()):function(t){return(e=uI.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+uI.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+uI.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:gI+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:uI.getInstance().getAppId(),app_version:WT,sdk_version:vI})});return fetch(r).then((function(t){if(t.ok)return t.json();throw eI.create("RC response not ok")}))})).catch((function(){nI.info(bI)}));var e}(t).then(wI).then((function(t){return function(t){var e=iI.getInstance().localStorage;if(!t||!e)return;e.setItem(XT,JSON.stringify(t)),e.setItem($T,String(Date.now()+60*uI.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}var bI="Could not fetch config, will use default configs";function wI(t){if(!t)return t;var e=uI.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=mI,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=_I(e.tracesSamplingRate),e.logNetworkAfterSampling=_I(e.networkRequestsSamplingRate),t}function _I(t){return Math.random()<=t}var EI,TI=1;function II(){return TI=2,EI=EI||function(){var t=iI.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=uI.getInstance().installationsService.getId()).then((function(t){aI=t})),t;var t})).then((function(t){return yI(t)})).then((function(){return SI()}),(function(){return SI()}))}function SI(){TI=3}var CI,kI=1e4,NI=3,AI=[],OI=!1;function PI(t){setTimeout((function(){var t,e;if(0!==NI)return AI.length?(t=AI.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=uI.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||nI.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=kI;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(AI=(0,Ac.pr)(e,AI),nI.info("Retry transport request later.")),NI=3,PI(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:uI.getInstance().logSource,log_event:e},t).catch((function(){AI=(0,Ac.pr)(t,AI),NI--,nI.info("Tries left: "+NI+"."),PI(kI)}))):PI(kI)}),t)}function xI(t){if(!t.eventTime||!t.message)throw eI.create("invalid cc log");AI=(0,Ac.pr)(AI,[t])}function RI(t,e){CI||(CI=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];xI({message:t.apply(void 0,e),eventTime:Date.now()})}}(MI)),CI(t,e)}function DI(t){var e=uI.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&iI.getInstance().requiredApisAvailable()&&(t.isAuto&&pI()!==sI.VISIBLE||(3===TI?LI(t):II().then((function(){return LI(t)}),(function(){return LI(t)}))))}function LI(t){if(cI()){var e=uI.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return RI(t,1)}),0)}}function MI(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:FI(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:FI(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function FI(){return{google_app_id:uI.getInstance().getAppId(),app_instance_id:cI(),web_app_info:{sdk_version:WT,page_url:iI.getInstance().getUrl(),service_worker_status:fI(),visibility_state:pI(),effective_connection_type:dI()},application_process_state:0}}var jI=["_fp",QT,YT];var UI=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=iI.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw eI.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw eI.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),DI(this)},t.prototype.record=function(t,e,n){if(t<=0)throw eI.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw eI.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,Ac.pi)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}DI(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(JT)&&jI.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw eI.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&nI.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||lI.some((function(e){return t.startsWith(e)}))||!t.match(hI))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw eI.create("invalid attribute name",{attributeName:t});if(!r)throw eI.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,Ac.pi)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=iI.getInstance().getUrl();if(i){var o=new t(JT+i,!0),a=Math.floor(1e3*iI.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(QT,Math.floor(1e3*u.startTime)),r&&o.putMetric(YT,Math.floor(1e3*r))}DI(o)}},t.createUserTimingTrace=function(e){DI(new t(e,!1,e))},t}();function VI(t){var e=t;if(e&&void 0!==e.responseStart){var n=iI.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=uI.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return RI(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function qI(){cI()&&(setTimeout((function(){return function(){var t=iI.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){UI.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),UI.createOobTrace(e,n,t))}))}else UI.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=iI.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){VI(r[n])}t.setupObserver("resource",VI)}()}),0),setTimeout((function(){return function(){for(var t=iI.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){BI(r[n])}t.setupObserver("measure",BI)}()}),0))}function BI(t){var e=t.name;e.substring(0,KT.length)!==KT&&UI.createUserTimingTrace(e)}var zI=function(){function t(t){this.app=t,iI.getInstance().requiredApisAvailable()&&(0,_o.eu)().then((function(t){t&&(OI||(PI(5500),OI=!0),II().then(qI,qI))})).catch((function(t){nI.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new UI(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return uI.getInstance().instrumentationEnabled},set:function(t){uI.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return uI.getInstance().dataCollectionEnabled},set:function(t){uI.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw eI.create("FB not default");if("undefined"==typeof window)throw eI.create("no window");return function(t){HT=t}(window),uI.getInstance().firebaseAppInstance=t,uI.getInstance().installationsService=e,new zI(t)};t.INTERNAL.registerComponent(new Yb.wA("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance",GT)}(bo.Z);var HI,GI,WI="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(HI||(HI={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(GI||(GI={}));var KI,JI=new wo.Yd("@firebase/analytics");function QI(t,e,n,r,i,o){return(0,Ac.mG)(this,void 0,void 0,(function(){var a,s,u,c;return(0,Ac.Jh)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(t){return t.measurementId===i})),u?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),JI.error(c),[3,8];case 8:return t(HI.CONFIG,i,o),[2]}}))}))}function YI(t,e,n,r,i){return(0,Ac.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,Ac.Jh)(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=p.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(HI.EVENT,r,i||{}),[3,5];case 4:return f=p.sent(),JI.error(f),[3,5];case 5:return[2]}}))}))}function XI(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return(0,Ac.mG)(this,void 0,void 0,(function(){var s;return(0,Ac.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==HI.EVENT?[3,2]:[4,YI(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==HI.CONFIG?[3,4]:[4,QI(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(HI.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),JI.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var $I=((KI={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",KI["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",KI["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",KI["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",KI["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",KI["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",KI["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",KI["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',KI["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',KI),ZI=new _o.LL("analytics","Analytics",$I),tS=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function eS(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function nS(t){var e;return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Ac.Jh)(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:eS(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw ZI.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function rS(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=tS),(0,Ac.mG)(this,void 0,void 0,(function(){var e,a,s,u,c,l,h;return(0,Ac.Jh)(this,(function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,iS(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return JI.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,nS(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof _o.ZR&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return JI.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,_o.$s)(o,r.intervalMillis,30):(0,_o.$s)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),JI.debug("Calling attemptFetch again in "+l+" millis"),[2,rS(t,h,n,r)];case 7:return[2]}}))}))}function iS(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(ZI.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var oS=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function aS(t,e,n,r,i){return(0,Ac.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return(0,Ac.Jh)(this,(function(f){switch(f.label){case 0:return o=function(t,e,n){return void 0===e&&(e=tS),(0,Ac.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,Ac.Jh)(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw ZI.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw ZI.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new oS,setTimeout((function(){return(0,Ac.mG)(c,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,rS({appId:i,apiKey:o,measurementId:a},s,u,e)]}))}))}(t),o.then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&JI.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return JI.error(t)})),e.push(o),a=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t;return(0,Ac.Jh)(this,(function(e){switch(e.label){case 0:return(0,_o.hl)()?[3,1]:(JI.warn(ZI.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,_o.eu)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),JI.warn(ZI.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=f.sent(),u=s[0],c=s[1],i("js",new Date),(h={}).origin="firebase",h.update=!0,l=h,null!=c&&(l.firebase_id=c),i(HI.CONFIG,u.measurementId,l),[2,u.measurementId]}}))}))}var sS,uS,cS={},lS=[],hS={},fS="dataLayer",pS="gtag",dS=!1;function vS(t){if(dS)throw ZI.create("already-initialized");t.dataLayerName&&(fS=t.dataLayerName),t.gtagName&&(pS=t.gtagName)}function mS(t,e){!function(){var t=[];if((0,_o.ru)()&&t.push("This is a browser extension environment."),(0,_o.zI)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=ZI.create("invalid-analytics-context",{errorInfo:e});JI.warn(n.message)}}();var n=t.options.appId;if(!n)throw ZI.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ZI.create("no-api-key");JI.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=cS[n])throw ZI.create("already-exists",{id:n});if(!dS){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(WI))return r}return null})()||function(t){var e=document.createElement("script");e.src=WI+"?l="+t,e.async=!0,document.head.appendChild(e)}(fS),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(fS);var r=XI(cS,lS,hS,fS,pS),i=r.wrappedGtag,o=r.gtagCore;uS=i,sS=o,dS=!0}cS[n]=aS(t,lS,hS,e,sS);var a={app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return(0,Ac.mG)(this,void 0,void 0,(function(){var o,a;return(0,Ac.Jh)(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(HI.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=(0,Ac.pi)((0,Ac.pi)({},r),{send_to:o}),t(HI.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(uS,cS[n],t,e,r).catch((function(t){return JI.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(HI.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(HI.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(uS,cS[n],t,e).catch((function(t){return JI.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i;return(0,Ac.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(HI.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(HI.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(uS,cS[n],t,e).catch((function(t){return JI.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return(0,Ac.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Ac.Jh)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(HI.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(HI.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(uS,cS[n],t,e).catch((function(t){return JI.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(cS[n],t).catch((function(t){return JI.error(t)}))},INTERNAL:{delete:function(){return delete cS[n],Promise.resolve()}}};return a}var gS="analytics";function yS(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:if((0,_o.ru)())return[2,!1];if(!(0,_o.zI)())return[2,!1];if(!(0,_o.hl)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,_o.eu)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new Yb.wA(gS,(function(t){return mS(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:vS,EventName:GI,isSupported:yS})),t.INTERNAL.registerComponent(new Yb.wA("analytics-internal",(function(t){try{return{logEvent:t.getProvider(gS).getImmediate().logEvent}}catch(t){throw ZI.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(bo.Z);var bS,wS=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),_S=((bS={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",bS["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",bS["registration-api-key"]="Undefined API key. Check Firebase app initialization.",bS["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",bS["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",bS["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",bS["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",bS["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",bS["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",bS["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',bS["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',bS["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",bS["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",bS),ES=new _o.LL("remoteconfig","Remote Config",_S);var TS=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,p,d,v,m,g,y,b;return(0,Ac.Jh)(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),p="fetch-client-network","AbortError"===f.name&&(p="fetch-timeout"),ES.create(p,{originalErrorMessage:f.message});case 6:if(d=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),ES.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?d=500:"NO_CHANGE"===g?d=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==d&&200!==d)throw ES.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:v,config:m}]}var _}))}))},t}(),IS=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),SS=["1","true","t","yes","y","on"],CS=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&SS.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),kS=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=wo.in.DEBUG;break;case"silent":this._logger.logLevel=wo.in.SILENT;break;default:this._logger.logLevel=wo.in.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e,n;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e,n,r=this;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:t=new IS,setTimeout((function(){return(0,Ac.mG)(r,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof _o.ZR&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){return(0,Ac.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys((0,Ac.pi)((0,Ac.pi)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new CS("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new CS("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new CS("static"))},t}();function NS(t,e){var n=t.target.error||void 0;return ES.create(e,{originalErrorMessage:n&&n.message})}var AS="app_namespace_store";var OS=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(NS(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(AS,{keyPath:"compositeKey"})}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([AS],"readonly").objectStore(AS),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(NS(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(ES.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return(0,Ac.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,Ac.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([AS],"readwrite").objectStore(AS),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(NS(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(ES.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,Ac.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([AS],"readwrite").objectStore(AS),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(NS(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(t){i(ES.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),PS=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,Ac.mG)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function xS(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(ES.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var RS,DS=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,Ac.mG)(this,void 0,void 0,(function(){var e;return(0,Ac.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return(0,Ac.mG)(this,void 0,void 0,(function(){var e,i,o;return(0,Ac.Jh)(this,(function(a){switch(a.label){case 0:return[4,xS(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof _o.ZR&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,_o.$s)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),LS="@firebase/remote-config";(RS=bo.Z).INTERNAL.registerComponent(new Yb.wA("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw ES.create("registration-window");var i=n.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw ES.create("registration-project-id");if(!a)throw ES.create("registration-api-key");if(!s)throw ES.create("registration-app-id");e=e||"firebase";var u=new OS(s,n.name,e),c=new PS(u),l=new wo.Yd(LS);l.logLevel=wo.in.ERROR;var h=new TS(r,RS.SDK_VERSION,e,o,a,s),f=new DS(h,u),p=new wS(f,u,c,l),d=new kS(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),RS.registerVersion(LS,"0.1.30");bo.Z.registerVersion("firebase","8.2.3","app");function MS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return FS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}bo.Z.registerVersion("firebase","8.2.3");var jS=window.wp.i18n.__;const US=function(t){var n=MS((0,e.useState)(!1),2),r=n[0],i=n[1],o=MS((0,e.useState)(!0),2),a=o[0],s=o[1];(0,e.useEffect)((function(){u()}),[]);var u=function(){if(void 0!==t.config.api_key){var e={apiKey:t.config.api_key,authDomain:t.config.auth_domain,databaseURL:t.config.database_url,projectId:t.config.projectid,storageBucket:t.config.storage_bucket,messagingSenderId:t.config.messaging_sender_id,appId:t.config.app_id};bo.Z.apps.length||bo.Z.initializeApp(e);var n=bo.Z.database(),r=bo.Z.auth();n.ref(".info/connected").on("value",(function(t){i(t.val()),function(t){t.signInWithEmailAndPassword(window.lms_conversition_object.email,window.lms_conversition_object.email).then((function(t){})).catch((function(e){"auth/operation-not-allowed"==e.code&&s(!1),"auth/wrong-password"!=e.code&&"auth/invalid-email"!=e.code&&"auth/user-not-found"!=e.code||t.createUserWithEmailAndPassword(window.lms_conversition_object.email,window.lms_conversition_object.email).then((function(t){s(!0)})).catch((function(t){var e="auth/email-already-in-use"==t.code;s(e)}))}))}(r)}))}};return e.createElement(e.Fragment,null,e.createElement("div",{className:ho},e.createElement("div",{className:fo},e.createElement("h2",null,jS("Firebase Settings","lms-conversation")),e.createElement("div",{className:po},e.createElement("div",{className:vo},e.createElement("div",null,jS("API Key","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"firebaseApiKey",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"firebaseApiKey",place:"top",effect:"solid"},jS("Firebase API Key.","lms-conversation")))),e.createElement("div",null,e.createElement(Sr,{type:"text",onChange:t.handleUpdate,name:"api_key",value:void 0!==t.config.api_key?t.config.api_key:""}))),e.createElement("div",{className:vo},e.createElement("div",null,jS("Auth Domain","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"authDomain",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"authDomain",place:"top",effect:"solid"},jS("Firebase API Key.","lms-conversation")))),e.createElement("div",null,e.createElement(Sr,{type:"text",onChange:t.handleUpdate,name:"auth_domain",value:void 0!==t.config.auth_domain?t.config.auth_domain:""}))),e.createElement("div",{className:vo},e.createElement("div",null,jS("Database URL","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"databaseUrl",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"databaseUrl",place:"top",effect:"solid"},jS("Firebase Database Url.","lms-conversation")))),e.createElement("div",null,e.createElement(Sr,{type:"text",onChange:t.handleUpdate,name:"database_url",value:void 0!==t.config.database_url?t.config.database_url:""}))),e.createElement("div",{className:vo},e.createElement("div",null,jS("Project ID","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"projectID",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"projectID",place:"top",effect:"solid"},jS("Firebase Project ID.","lms-conversation")))),e.createElement("div",null,e.createElement(Sr,{type:"text",onChange:t.handleUpdate,name:"projectid",value:void 0!==t.config.projectid?t.config.projectid:""}))),e.createElement("div",{className:vo},e.createElement("div",null,jS("Storage Bucket","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"storage_bucket",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"storage_bucket",place:"top",effect:"solid"},jS("Firebase Storage Bucket.","lms-conversation")))),e.createElement("div",null,e.createElement(Sr,{type:"text",onChange:t.handleUpdate,name:"storage_bucket",value:void 0!==t.config.storage_bucket?t.config.storage_bucket:""}))),e.createElement("div",{className:vo},e.createElement("div",null,jS("Messaging Sender ID","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"messaging_sender_id",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"messaging_sender_id",place:"top",effect:"solid"},jS("Firebase Messaging Sender ID.","lms-conversation")))),e.createElement("div",null,e.createElement(Sr,{type:"text",onChange:t.handleUpdate,name:"messaging_sender_id",value:void 0!==t.config.messaging_sender_id?t.config.messaging_sender_id:""}))),e.createElement("div",{className:vo},e.createElement("div",null,jS("App ID","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"app_id",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"app_id",place:"top",effect:"solid"},jS("Firebase Application ID.","lms-conversation")))),e.createElement("div",null,e.createElement(Sr,{type:"text",onChange:t.handleUpdate,name:"app_id",value:void 0!==t.config.app_id?t.config.app_id:""}))),e.createElement("div",{className:vo},e.createElement("div",null,jS("Connection Status","lms-conversation"),e.createElement("span",{"data-tip":!0,"data-for":"connectionStatus",className:co+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"connectionStatus",place:"right",effect:"solid"},jS("Firebase connection status.","lms-conversation")))),e.createElement("div",null,e.createElement("div",{className:mo},r?e.createElement(e.Fragment,null,e.createElement("span",{className:yo,style:{backgroundImage:"url(".concat(window.lms_conversition_object.assets_url,"images/connected.png)")}},jS("Connected","lms-conversation")),!a&&e.createElement(e.Fragment,null,e.createElement("span",{className:go},jS("Firebase authentication sign-in method aren't set properly, please set Email/Password as sign-in method. Read info. (information) tab for more instruction.")))):e.createElement(e.Fragment,null,e.createElement("span",{style:{backgroundImage:"url(".concat(window.lms_conversition_object.assets_url,"images/disconnected.png)")}},jS("Disconnected","lms-conversation"))))))),e.createElement("button",{className:lo,onClick:t.SaveChanges},e.createElement("span",null,jS("Save","lms-conversation"))))))},VS="acotrs_wrapP6QVY",qS="acotrs_activeSk4EQ",BS="acotrs_iconqerK0";var zS=n(107),HS=n(173),GS=n(809),WS=window.wp.i18n.__;const KS=function(t){var n=x();return e.createElement("div",{className:VS},e.createElement("ul",null,e.createElement("li",null,e.createElement(W,{className:function(t){t.isActive;return"/"==n.pathname?qS:""},to:"/"},e.createElement("span",{className:BS},e.createElement(no,{icon:zS.Z})),WS("General Settings","lms-conversation"))),e.createElement("li",null,e.createElement(W,{className:function(t){t.isActive;return"/firebase-settings"==n.pathname?qS:""},to:"/firebase-settings"},e.createElement("span",{className:BS},e.createElement(no,{icon:HS.Z})),WS("Firebase Settings","lms-conversation"))),e.createElement("li",null,e.createElement(W,{className:function(t){t.isActive;return"/info"==n.pathname?qS:""},to:"/info"},e.createElement("span",{className:BS},e.createElement(no,{icon:GS.Z})),WS("Firebase Guideline","lms-conversation")))))},JS="acotrs_tooltipC7DZQ",QS="acotrs_WrapeuU8d",YS="acotrs_bodyWrapIyTHP",XS="acotrs_inputWrapsplEu",$S="acotrs_rowaXz9W";function ZS(t){return ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZS(t)}function tC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eC(t,e){return eC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},eC(t,e)}function nC(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iC(t);if(e){var i=iC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rC(this,n)}}function rC(t,e){if(e&&("object"===ZS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function iC(t){return iC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iC(t)}var oC=window.wp.i18n.__,aC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}(a,t);var n,r,i,o=nC(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).state={loader:!1},e}return n=a,(r=[{key:"render",value:function(){return e.createElement(e.Fragment,null,e.createElement("div",{className:QS},e.createElement("div",{className:YS},e.createElement("h2",null,oC("Information","lms-conversation")),e.createElement("div",{className:XS},e.createElement("div",{className:$S},e.createElement("div",null,e.createElement("strong",null,oC("For setup your firebase database, follow the below steps.","lms-conversation")),e.createElement("span",{"data-tip":!0,"data-for":"firebaseSettings",className:JS+" dashicons dashicons-editor-help"},e.createElement(Tr,{id:"firebaseSettings",place:"top",effect:"solid"},oC("Firebase Settings Information","lms-conversation")))),e.createElement("div",null,e.createElement("ol",null,e.createElement("li",null,oC("For setup firebase settings you should go to ","lms-conversation")," ",e.createElement("a",{href:"https://firebase.google.com/",target:"_blank"},"Firebase")," ",oC(" and login with your gmail account."),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-1.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('Press "Add project" if you want to start with a new database.',"lms-conversation"),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-2.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('Press "Authentication" from left menu and Enable "Email/Password" if it Disabled.',"lms-conversation"),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-3.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('Click on "Realtime Database" from left menu and then create a database by press create database button',"lms-conversation"),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-4.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('In Realtime Database add following rules in "Rules" tab: ',"lms-conversation"),e.createElement("code",null,'{".read": true, ".write": true}'),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-5.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('Now press settings icon from the right side of "Project Overview" in top left corner and create a new app by click web app icon from bottom of the page',"lms-conversation"),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-6.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('Write anything as your app name and press "Register now" button for process',"lms-conversation"),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-7.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('Our journey are near end and end of the session now you can see all of your necessary information like API Key, Auth Domain etc. You should be use this information in firebase settings tab for run your "LMS Chat" application successfully.',"lms-conversation"),e.createElement("img",{src:"".concat(window.lms_conversition_object.assets_url,"images/firebase-8.jpg"),alt:oC("firebase started")})),e.createElement("li",null,oC('If you fill up all information perfectly you will be see "Connected" as connection status',"lms-conversation")))))))))}}])&&tC(n.prototype,r),i&&tC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(e.Component);const sC=aC,uC="acotrs_lmsWrapQZp86",cC="acotrs_headerqDDI3",lC="acotrs_lmsBody_YfjA";function hC(t){return hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hC(t)}function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dC(t,e){return dC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dC(t,e)}function vC(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yC(t);if(e){var i=yC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mC(this,n)}}function mC(t,e){if(e&&("object"===hC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gC(t)}function gC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yC(t){return yC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yC(t)}function bC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wC=window.wp.i18n.__,_C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}(a,t);var n,r,i,o=vC(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),bC(gC(e=o.call(this,t)),"SaveChanges",(function(){e.setState({loader:!0});var t=e.state.config;t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fC(Object(n),!0).forEach((function(e){bC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);var n={config:t};e.fetchWP.post("save",n).then((function(t){e.setState({loader:!1})})).catch((function(t){alert("Some thing went wrong")}))})),e.state={loader:!1,saving:!1,config:{}},e.fetchWP=new X({restURL:window.lms_conversition_object.root,restNonce:window.lms_conversition_object.api_nonce}),e.handleUpdate=e.handleUpdate.bind(gC(e)),e.SaveChanges=e.SaveChanges.bind(gC(e)),e}return n=a,r=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){}},{key:"handleUpdate",value:function(t){var e=this.state.config;"checkbox"===t.target.type?e[t.target.name]=!e[t.target.name]:e[t.target.name]=t.target.value,this.setState({config:e})}},{key:"fetchData",value:function(){var t=this;this.setState({loader:!0}),this.fetchWP.get("config/").then((function(e){t.setState({loader:!1,config:e})}))}},{key:"render",value:function(){var t=this,n=this.state,r=n.config,i=n.loader;return e.createElement("div",{className:uC},e.createElement("div",{className:cC},e.createElement("div",null,e.createElement("h2",null,e.createElement("span",null,wC("LMS Conversation","lms-conversation")))),e.createElement("div",null,e.createElement("a",{href:"#"},wC("Check Premium Options","lms-conversation")))),e.createElement("div",{className:lC},i?e.createElement(st,null):e.createElement(e.Fragment,null,e.createElement(H,null,e.createElement(KS,null),e.createElement(j,null,e.createElement(M,{path:"/",element:e.createElement(uo,{remove_all_message:t.remove_all_message,config:r,handleUpdate:t.handleUpdate,SaveChanges:t.SaveChanges})}),e.createElement(M,{path:"/firebase-settings",element:e.createElement(US,{handleUpdate:t.handleUpdate,config:r,SaveChanges:t.SaveChanges})}),e.createElement(M,{path:"/info",element:e.createElement(sC,{handleUpdate:t.handleUpdate,config:r,SaveChanges:t.SaveChanges})}))))))}}],r&&pC(n.prototype,r),i&&pC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(e.Component);document.getElementById("lms_conversition_ui_root")&&K.render(e.createElement(_C,null),document.getElementById("lms_conversition_ui_root"))})()})();